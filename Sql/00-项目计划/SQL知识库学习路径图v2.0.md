# SQL知识库学习路径图 v2.0

> **创建日期**: 2025-12-05
> **版本**: v2.0
> **适用**: 全角色学习规划

---

## 总体学习路径

```text
SQL知识体系三阶段学习路径
══════════════════════════════════════════════════════════════════════════════

阶段1：基础入门（40小时，15篇文档）
        ┌──────────────┐
        │   理论基础   │
        │  01.01-01.03 │
        └──────┬───────┘
               │
        ┌──────▼───────┐
        │   语法规范   │
        │  04.01-04.03 │
        └──────┬───────┘
               │
        ┌──────▼───────┐
        │   简单实战   │
        │     07.01    │
        └──────────────┘

目标：能写基本SQL，理解关系模型
考核：完成5个查询案例

阶段2：进阶深化（80小时，30篇文档）
        ┌──────────────┐
        │   高级特性   │
        │  05.01-05.05 │
        └──────┬───────┘
               │
        ┌──────▼───────┐
        │   性能优化   │
        │  09.10, 07.07│
        └──────┬───────┘
               │
        ┌──────▼───────┐
        │   数据设计   │
        │  10.01-10.05 │
        └──────────────┘

目标：能优化慢查询，设计数据模型
考核：独立完成性能调优项目

阶段3：专家精通（200小时，80篇文档）
        ┌──────────────┐
        │  形式化模型  │
        │  03.00-03.16 │
        └──────┬───────┘
               │
        ┌──────▼───────┐
        │  分布式系统  │
        │  03.13, 07.12│
        └──────┬───────┘
               │
        ┌──────▼───────┐
        │  云原生实践  │
        │  07.12, 08.04│
        └──────────────┘

目标：理解底层原理，设计大规模系统
考核：设计分布式数据库架构
```

---

## 角色定制路径

### 路径1：应用开发者（Backend Developer）

```text
应用开发者学习路径（60小时）
══════════════════════════════════════════════════════════════════════════════

Week 1: SQL基础（10小时）
├─ Day 1-2: 关系模型入门
│  └─ 01.01 关系模型基础
│
├─ Day 3-4: SQL语法
│  ├─ 04.02 DML（INSERT/UPDATE/DELETE）
│  └─ 04.03 DQL（SELECT查询）
│
└─ Day 5-6: 简单查询实战
   └─ 07.01 复杂查询案例（前半部分）

Week 2: 高级SQL（15小时）
├─ Day 1-2: JOIN深度理解
│  └─ 04.03 DQL（JOIN部分）
│
├─ Day 3-4: 窗口函数
│  └─ 05.01 窗口函数详解
│
└─ Day 5-7: CTE与递归
   ├─ 05.02 CTE深度解析
   └─ 05.07 图查询实战

Week 3: 性能优化（15小时）
├─ Day 1-3: EXPLAIN分析
│  └─ 04.06 执行计划解析
│
├─ Day 4-5: 索引优化
│  └─ 10.07 索引设计策略
│
└─ Day 6-7: 性能调优实战
   └─ 07.07 性能调优案例

Week 4: 事务与并发（10小时）
├─ Day 1-2: 事务理论
│  └─ 01.05 事务理论
│
├─ Day 3-4: 事务控制
│  └─ 04.07 事务控制指南
│
└─ Day 5-7: 并发实战
   └─ 07.06 电商系统实战（MVCC部分）

Week 5: 实战项目（10小时）
└─ 完整项目实现
   ├─ 07.06 电商系统端到端
   └─ 独立实现一个Web应用数据库

技能清单（完成后）:
✓ 编写高效SQL查询
✓ 使用窗口函数和CTE
✓ 理解EXPLAIN输出
✓ 设计合理索引
✓ 处理事务和并发
✓ 优化慢查询（基本）
✗ 深度原理（不要求）
✗ 分布式系统（不要求）
```

### 路径2：数据库管理员（DBA）

```text
DBA学习路径（100小时）
══════════════════════════════════════════════════════════════════════════════

Phase 1: 基础运维（20小时）
├─ 安装配置
│  ├─ PostgreSQL安装与初始化
│  ├─ MySQL安装与配置
│  └─ SQLite应用集成
│
├─ 备份恢复
│  ├─ 07.09 备份恢复实战
│  ├─ PITR配置
│  └─ 故障演练
│
└─ 监控告警
   ├─ 08.03 监控与诊断
   ├─ 慢查询分析
   └─ 性能指标监控

Phase 2: 性能调优（30小时）
├─ 查询优化
│  ├─ 04.06 EXPLAIN分析
│  ├─ 09.10 性能优化决策树
│  └─ 07.07 调优案例集
│
├─ 索引管理
│  ├─ 10.07 索引设计策略
│  ├─ 索引维护（REINDEX/OPTIMIZE）
│  └─ 索引膨胀处理
│
└─ 配置优化
   ├─ 内存配置（Buffer Pool/Shared Buffers）
   ├─ IO配置（WAL/Checkpoint）
   └─ 并发配置（max_connections/work_mem）

Phase 3: 高可用架构（25小时）
├─ 主从复制
│  ├─ 07.12 云数据库实践（复制部分）
│  ├─ Streaming Replication配置
│  └─ 复制延迟监控
│
├─ 故障切换
│  ├─ Patroni/Keepalived配置
│  ├─ 自动切换测试
│  └─ 切换演练
│
└─ 读写分离
   ├─ HAProxy配置
   ├─ 连接池管理
   └─ 负载均衡

Phase 4: 数据迁移（15小时）
├─ 数据导入导出
│  ├─ pg_dump/mysqldump
│  ├─ COPY命令
│  └─ 批量导入优化
│
├─ 数据库迁移
│  ├─ 07.10 数据迁移方案
│  ├─ 同构迁移（MySQL→MySQL）
│  └─ 异构迁移（MySQL→PostgreSQL）
│
└─ 版本升级
   ├─ 原地升级（pg_upgrade）
   ├─ 逻辑升级（dump/restore）
   └─ 滚动升级（集群）

Phase 5: 高级主题（10小时）
├─ 07.08 混合架构（SQL+NoSQL）
├─ 03.13 分布式事务
└─ 08.04 学术前沿（了解趋势）

技能清单:
✓ 数据库安装配置
✓ 备份恢复操作
✓ 性能监控与调优
✓ 慢查询优化
✓ 索引设计与维护
✓ 主从复制配置
✓ 故障切换处理
✓ 数据迁移执行
✓ 容量规划
✓ 安全加固
```

### 路径3：架构师（Solution Architect）

```text
架构师学习路径（150小时）
══════════════════════════════════════════════════════════════════════════════

Phase 1: 理论基础（30小时）
├─ 关系理论
│  ├─ 01.01 关系模型
│  ├─ 01.02 函数依赖与范式
│  └─ 01.03 关系代数
│
├─ 事务理论
│  ├─ 01.05 事务理论
│  ├─ 01.08 ACID-MVCC-CAP
│  └─ 01.09 MVCC实践
│
└─ 形式化模型
   ├─ 03.00 形式化框架
   └─ 03.16 定理依赖图谱

Phase 2: 数据建模（35小时）
├─ ER模型
│  ├─ 10.01 ER模型与SQL映射
│  ├─ 10.08 数据模型评审
│  └─ 10.06 建模案例库
│
├─ OLTP vs OLAP
│  ├─ 10.05 OLAP与OLTP设计
│  ├─ 10.04 数据仓库设计
│  └─ 10.02 反范式与性能
│
└─ 设计实战
   ├─ 07.06 电商系统端到端
   ├─ 10.06 案例库（5个案例）
   └─ 独立设计项目

Phase 3: 性能架构（30小时）
├─ 查询优化
│  ├─ 03.11 查询优化算法
│  ├─ 09.10 性能优化决策树
│  └─ 07.07 调优案例集
│
├─ 索引策略
│  ├─ 10.07 索引设计策略
│  ├─ 06.10 开源架构解析（索引部分）
│  └─ 09.12 技术决策树（索引选择）
│
└─ 缓存架构
   ├─ 07.08 混合架构（缓存层）
   └─ 12.10 嵌入式缓存模式

Phase 4: 分布式架构（35小时）
├─ 分布式理论
│  ├─ 01.08 CAP定理
│  ├─ 03.10 分布式形式化
│  └─ 03.13 分布式事务算法
│
├─ 复制与分片
│  ├─ 06.10 架构解析（复制部分）
│  ├─ 10.05 OLAP设计（分片策略）
│  └─ 数据库分片实战
│
└─ 云原生架构
   ├─ 07.12 云数据库最佳实践
   ├─ Serverless架构设计
   └─ 多区域部署

Phase 5: 架构评审（20小时）
├─ 架构对比
│  ├─ 06.09 多维度评估矩阵
│  ├─ 09.12 技术决策树
│  └─ 权衡分析
│
├─ 案例研究
│  ├─ 07.06 电商系统
│  ├─ 07.08 混合架构
│  └─ Data-Science/架构设计实战
│
└─ 独立架构设计
   ├─ 需求分析
   ├─ 技术选型
   ├─ 容量规划
   ├─ 架构图绘制
   └─ 评审答辩

技能清单:
✓ 关系理论与范式
✓ ACID与MVCC原理
✓ CAP与分布式权衡
✓ 数据建模（ER→SQL）
✓ 性能架构设计
✓ 索引策略规划
✓ 缓存架构设计
✓ 分布式架构设计
✓ 云原生架构
✓ 技术选型能力
```

### 路径4：研究人员（Researcher）

```text
研究人员学习路径（200小时）
══════════════════════════════════════════════════════════════════════════════

Phase 1: 形式化基础（50小时）
├─ 集合论与逻辑
│  ├─ 03.00 形式化框架
│  ├─ 一阶逻辑
│  └─ 时序逻辑
│
├─ 关系代数
│  ├─ 01.03 关系代数
│  ├─ 03.04 关系代数与SQL对应
│  └─ 03.05 范畴论
│
└─ 形式化语义
   ├─ 03.01 SQL形式化语义
   ├─ 操作语义（大步/小步）
   └─ 指称语义

Phase 2: 核心理论（60小时）
├─ 查询理论
│  ├─ 03.02 查询等价性理论
│  ├─ 03.03 SQL正确性验证
│  ├─ 03.14 查询重写规则库
│  └─ 03.15 类型系统形式化
│
├─ 事务理论
│  ├─ 01.05 事务理论（深度）
│  ├─ 01.08 核心原理模型
│  ├─ 03.09 并发控制形式化
│  └─ 03.12 并发控制算法
│
└─ 分布式理论
   ├─ 03.10 分布式形式化
   ├─ 03.13 分布式事务算法
   └─ CAP/PACELC定理证明

Phase 3: 算法研究（40小时）
├─ 查询优化算法
│  ├─ 03.11 查询优化算法
│  ├─ 动态规划JOIN顺序
│  ├─ 遗传算法（PostgreSQL）
│  └─ 代价估算模型
│
├─ 索引算法
│  ├─ 11.06 B-Tree算法
│  ├─ Learned Index（08.04）
│  └─ 向量索引（HNSW）
│
└─ 并发控制算法
   ├─ 03.12 并发控制算法
   ├─ 死锁检测（DFS）
   ├─ MVCC可见性
   └─ SSI危险结构检测

Phase 4: 系统实现（30小时）
├─ 执行引擎
│  ├─ 03.08 执行引擎形式化
│  ├─ Volcano迭代器
│  ├─ 向量化执行
│  └─ JIT编译
│
├─ 存储引擎
│  ├─ 06.05 Pager层形式化
│  ├─ 11.07 事务隔离证明
│  └─ 01.05 SQLite核心机制
│
└─ 源码分析
   ├─ 06.10 开源架构解析
   └─ 实际代码阅读

Phase 5: 前沿研究（20小时）
├─ 学术前沿
│  ├─ 08.04 研究前沿2024
│  ├─ SIGMOD/VLDB论文
│  └─ 最新算法
│
├─ 新兴方向
│  ├─ Learned Components
│  ├─ Serverless Database
│  ├─ HTAP架构
│  └─ 向量数据库
│
└─ 论文阅读
   ├─ 经典论文（20篇）
   └─ 最新论文（10篇）

研究方向建议:
1. 查询优化（ML for Database）
2. 并发控制（新隔离级别）
3. 分布式系统（一致性协议）
4. 向量数据库（AI应用）
5. 云原生（Serverless）

技能清单:
✓ 形式化方法
✓ 定理证明
✓ 算法设计与分析
✓ 系统架构理解
✓ 源码阅读能力
✓ 论文阅读与写作
✓ 创新研究能力
```

---

## 专题学习路径

### 专题1：性能优化专精

```text
性能优化专题（50小时）
══════════════════════════════════════════════════════════════════════════════

模块1: 诊断与分析（10小时）
├─ 04.06 EXPLAIN执行计划解析
├─ 08.03 数据库监控与诊断
├─ 识别瓶颈（Sequential Scan/Lock Wait）
└─ 实战练习（分析10个慢查询）

模块2: 索引优化（15小时）
├─ 10.07 索引设计策略
├─ 复合索引列顺序
├─ 覆盖索引设计
├─ 部分索引应用
└─ 实战：优化5个表的索引

模块3: 查询改写（10小时）
├─ 03.14 查询重写规则
├─ 子查询扁平化
├─ 谓词下推
├─ JOIN顺序调整
└─ 实战：改写10个慢查询

模块4: 架构优化（15小时）
├─ 07.08 混合架构（缓存）
├─ 读写分离架构
├─ 分区表设计
├─ 物化视图应用
└─ 实战：设计缓存架构

输出：
□ 性能优化方法论
□ 优化案例库（10个）
□ 性能基准测试报告
□ 优化工具箱（脚本集）
```

### 专题2：分布式数据库

```text
分布式数据库专题（60小时）
══════════════════════════════════════════════════════════════════════════════

模块1: 理论基础（15小时）
├─ 01.08 CAP定理
├─ 03.10 分布式形式化
├─ 03.13 分布式事务算法
└─ 一致性模型（强/最终/因果）

模块2: 复制协议（15小时）
├─ 主从复制（Streaming Replication）
├─ 主主复制（Group Replication）
├─ 多区域复制（Aurora Global）
└─ 一致性协议（Raft/Paxos）

模块3: 分片策略（15小时）
├─ 分片键选择
├─ 一致性哈希
├─ 跨分片JOIN
├─ 分布式事务（2PC/Saga）
└─ 实战：设计分片方案

模块4: 云原生（15小时）
├─ 07.12 云数据库最佳实践
├─ AWS Aurora架构
├─ GCP Spanner全球分布
├─ Azure SQL Hyperscale
└─ 实战：多区域部署

输出：
□ 分布式架构方案
□ CAP权衡分析报告
□ 跨区域部署方案
□ 成本效益分析
```

---

## 学习资源推荐

### 书籍推荐（按难度）

```text
入门级（⭐⭐）:
1. 《SQL必知必会》
   • 适合：零基础
   • 页数：200页
   • 时长：10小时
   • 配合：04.01-04.03

2. 《PostgreSQL指南》
   • 适合：应用开发
   • 页数：400页
   • 时长：30小时
   • 配合：06.01

进阶级（⭐⭐⭐⭐）:
3. 《高性能MySQL》
   • 适合：DBA/架构师
   • 页数：800页
   • 时长：60小时
   • 配合：06.02, 07.07

4. 《PostgreSQL内核分析》
   • 适合：深度学习
   • 页数：600页
   • 时长：80小时
   • 配合：06.10

专家级（⭐⭐⭐⭐⭐）:
5. 《数据库系统概念》（Silberschatz）
   • 适合：理论研究
   • 页数：1200页
   • 时长：150小时
   • 配合：01-03全模块

6. 《事务处理：概念与技术》（Gray）
   • 适合：事务专家
   • 页数：900页
   • 时长：120小时
   • 配合：01.05, 03.09
```

### 在线资源

```text
官方文档:
• PostgreSQL: https://www.postgresql.org/docs/
• MySQL: https://dev.mysql.com/doc/
• SQLite: https://www.sqlite.org/docs.html

学术资源:
• SIGMOD: https://sigmod.org/
• VLDB: http://vldb.org/
• ICDE: https://www.icde.org/

开源项目:
• PostgreSQL源码: https://github.com/postgres/postgres
• MySQL源码: https://github.com/mysql/mysql-server
• SQLite源码: https://www.sqlite.org/src/

社区:
• Stack Overflow: [postgresql] [mysql] [sqlite]
• Reddit: r/PostgreSQL, r/MySQL
• Discord: PostgreSQL Server, MySQL Community
```

---

## 学习检查点

### 基础阶段检查点

```text
□ 能独立编写SELECT/INSERT/UPDATE/DELETE
□ 理解关系模型（关系/元组/属性）
□ 掌握基本JOIN（INNER/LEFT）
□ 理解主键/外键约束
□ 能使用聚合函数（SUM/COUNT/AVG）
□ 理解GROUP BY和HAVING
□ 能编写简单子查询
□ 理解事务基本概念（BEGIN/COMMIT）
□ 完成5个查询实战案例
□ 独立设计3-5张表的数据库
```

### 进阶阶段检查点

```text
□ 掌握窗口函数（ROW_NUMBER/RANK/LAG）
□ 理解CTE和递归查询
□ 能读懂EXPLAIN输出
□ 掌握索引设计原则
□ 理解事务隔离级别差异
□ 能优化慢查询（基本）
□ 理解MVCC原理
□ 掌握JSON查询
□ 完成10个性能优化案例
□ 独立设计中型项目数据库（20+表）
```

### 专家阶段检查点

```text
□ 理解形式化语义
□ 能证明查询等价性
□ 理解查询优化算法（动态规划/遗传）
□ 理解MVCC实现细节（xmin/xmax）
□ 理解B-Tree算法（插入/分裂/删除）
□ 理解分布式一致性协议（Raft/Paxos）
□ 能设计分布式数据库架构
□ 能阅读数据库源码
□ 完成20+性能调优案例
□ 独立设计大规模系统（100+表，TB级数据）
```

---

**文档版本**: v2.0
**最后更新**: 2025-12-05
**路径总数**: 7条（3通用+4专题）
