# SQL-92æ ‡å‡†è¯¦è§£

> **åˆ›å»ºæ—¥æœŸ**ï¼š2025-01-15
> **æœ€åŽæ›´æ–°**ï¼š2025-01-16
> **ç‰ˆæœ¬**ï¼šv1.0.0
> **æ ‡å‡†ç‰ˆæœ¬**ï¼šANSI X3.135-1992, ISO/IEC 9075:1992
> **éš¾åº¦**ï¼šâ­â­â­
> **åº”ç”¨åœºæ™¯**ï¼šSQLæ ‡å‡†å­¦ä¹ ã€åŸºç¡€è¯­æ³•ç†è§£ã€å…¼å®¹æ€§åˆ†æž

---

## ðŸ“‹ ç›®å½•

- [SQL-92æ ‡å‡†è¯¦è§£](#sql-92æ ‡å‡†è¯¦è§£)
  - [ðŸ“‹ ç›®å½•](#-ç›®å½•)
  - [ä¸€ã€æ¦‚è¿°](#ä¸€æ¦‚è¿°)
    - [1.1 SQL-92æ ‡å‡†å®šä¹‰](#11-sql-92æ ‡å‡†å®šä¹‰)
    - [1.1 SQL-92çŸ¥è¯†ä½“ç³»æ€ç»´å¯¼å›¾](#11-sql-92çŸ¥è¯†ä½“ç³»æ€ç»´å¯¼å›¾)
    - [1.2 SQL-92ç‰¹æ€§åˆ†ç±»å¯¹æ¯”çŸ©é˜µ](#12-sql-92ç‰¹æ€§åˆ†ç±»å¯¹æ¯”çŸ©é˜µ)
  - [äºŒã€SQL-92æ ¸å¿ƒç‰¹æ€§](#äºŒsql-92æ ¸å¿ƒç‰¹æ€§)
    - [2.1 æ ¸å¿ƒç‰¹æ€§åˆ—è¡¨](#21-æ ¸å¿ƒç‰¹æ€§åˆ—è¡¨)
    - [2.2 ç‰¹æ€§åˆ†ç±»](#22-ç‰¹æ€§åˆ†ç±»)
  - [ä¸‰ã€æ•°æ®å®šä¹‰è¯­è¨€ï¼ˆDDLï¼‰](#ä¸‰æ•°æ®å®šä¹‰è¯­è¨€ddl)
    - [3.1 CREATE TABLE](#31-create-table)
    - [3.2 ALTER TABLE](#32-alter-table)
    - [3.3 DROP TABLE](#33-drop-table)
  - [å››ã€æ•°æ®æ“ä½œè¯­è¨€ï¼ˆDMLï¼‰](#å››æ•°æ®æ“ä½œè¯­è¨€dml)
    - [4.1 INSERT](#41-insert)
    - [4.2 UPDATE](#42-update)
    - [4.3 DELETE](#43-delete)
  - [äº”ã€æ•°æ®æŸ¥è¯¢è¯­è¨€ï¼ˆDQLï¼‰](#äº”æ•°æ®æŸ¥è¯¢è¯­è¨€dql)
    - [5.1 SELECTåŸºæœ¬è¯­æ³•](#51-selectåŸºæœ¬è¯­æ³•)
    - [5.2 JOINæ“ä½œ](#52-joinæ“ä½œ)
    - [5.3 å­æŸ¥è¯¢](#53-å­æŸ¥è¯¢)
  - [å…­ã€æ•°æ®æŽ§åˆ¶è¯­è¨€ï¼ˆDCLï¼‰](#å…­æ•°æ®æŽ§åˆ¶è¯­è¨€dcl)
    - [6.1 GRANT](#61-grant)
    - [6.2 REVOKE](#62-revoke)
  - [ä¸ƒã€äº‹åŠ¡æŽ§åˆ¶](#ä¸ƒäº‹åŠ¡æŽ§åˆ¶)
    - [7.1 äº‹åŠ¡è¯­å¥](#71-äº‹åŠ¡è¯­å¥)
    - [7.2 äº‹åŠ¡éš”ç¦»çº§åˆ«](#72-äº‹åŠ¡éš”ç¦»çº§åˆ«)
  - [å…«ã€SQL-92ä¸ŽåŽç»­ç‰ˆæœ¬å¯¹æ¯”](#å…«sql-92ä¸ŽåŽç»­ç‰ˆæœ¬å¯¹æ¯”)
    - [8.1 ä¸»è¦å·®å¼‚](#81-ä¸»è¦å·®å¼‚)
    - [8.2 å…¼å®¹æ€§](#82-å…¼å®¹æ€§)
  - [ä¹ã€ç›¸å…³èµ„æº](#ä¹ç›¸å…³èµ„æº)
    - [ç›¸å…³æ–‡æ¡£](#ç›¸å…³æ–‡æ¡£)
    - [å¤–éƒ¨èµ„æº](#å¤–éƒ¨èµ„æº)

---

## ä¸€ã€æ¦‚è¿°

**SQL-92**ï¼ˆä¹Ÿç§°ä¸ºSQL2ï¼‰æ˜¯SQLæ ‡å‡†çš„ç¬¬äºŒä¸ªä¸»è¦ç‰ˆæœ¬ï¼ŒäºŽ1992å¹´å‘å¸ƒã€‚å®ƒæ˜¯çŽ°ä»£SQLçš„åŸºç¡€ï¼Œå¥ å®šäº†SQLæ ‡å‡†çš„æ ¸å¿ƒè¯­æ³•å’Œè¯­ä¹‰ã€‚

**æ ‡å‡†ç¼–å·**ï¼š

- ANSI X3.135-1992
- ISO/IEC 9075:1992

**å‘å¸ƒæ—¶é—´**ï¼š1992å¹´

**åŽ†å²æ„ä¹‰**ï¼šSQL-92æ˜¯SQLæ ‡å‡†çš„é‡è¦é‡Œç¨‹ç¢‘ï¼Œå¥ å®šäº†çŽ°ä»£SQLçš„åŸºç¡€ã€‚

### 1.1 SQL-92æ ‡å‡†å®šä¹‰

**å½¢å¼åŒ–å®šä¹‰**ï¼š

SQL-92æ ‡å‡†å®šä¹‰äº†å…³ç³»æ•°æ®åº“æŸ¥è¯¢è¯­è¨€çš„è¯­æ³•å’Œè¯­ä¹‰ï¼ŒåŒ…æ‹¬ï¼š

- **è¯­æ³•å®šä¹‰**ï¼šä½¿ç”¨BNFï¼ˆBackus-Naur Formï¼‰å®šä¹‰SQLè¯­æ³•
- **è¯­ä¹‰å®šä¹‰**ï¼šå®šä¹‰SQLè¯­å¥çš„æ‰§è¡Œè¯­ä¹‰
- **æ•°æ®ç±»åž‹**ï¼šå®šä¹‰æ ‡å‡†æ•°æ®ç±»åž‹ç³»ç»Ÿ
- **å®Œæ•´æ€§çº¦æŸ**ï¼šå®šä¹‰å®žä½“å®Œæ•´æ€§ã€å‚ç…§å®Œæ•´æ€§ç­‰çº¦æŸ

**æ ‡å‡†ç»“æž„**ï¼š

SQL-92æ ‡å‡†åˆ†ä¸ºä¸‰ä¸ªçº§åˆ«ï¼š

1. **Entry SQL**ï¼šåŸºç¡€SQLåŠŸèƒ½
2. **Intermediate SQL**ï¼šä¸­ç­‰SQLåŠŸèƒ½
3. **Full SQL**ï¼šå®Œæ•´SQLåŠŸèƒ½

**æ ‡å‡†é‡è¦æ€§**ï¼š

SQL-92æ ‡å‡†çš„é‡è¦æ€§ä½“çŽ°åœ¨ï¼š

1. **å…¼å®¹æ€§åŸºç¡€**ï¼šä¸ºåŽç»­SQLæ ‡å‡†ç‰ˆæœ¬æä¾›å…¼å®¹æ€§åŸºç¡€
2. **å®žçŽ°å‚è€ƒ**ï¼šä¸ºæ•°æ®åº“å®žçŽ°æä¾›æ ‡å‡†å‚è€ƒ
3. **äº’æ“ä½œæ€§**ï¼šæé«˜ä¸åŒæ•°æ®åº“ä¹‹é—´çš„äº’æ“ä½œæ€§

### 1.1 SQL-92çŸ¥è¯†ä½“ç³»æ€ç»´å¯¼å›¾

```mermaid
mindmap
  root((SQL-92))
    æ ¸å¿ƒè¯­æ³•
      æ•°æ®å®šä¹‰
        CREATE TABLE
        ALTER TABLE
        DROP TABLE
      æ•°æ®æ“ä½œ
        INSERT
        UPDATE
        DELETE
      æ•°æ®æŸ¥è¯¢
        SELECT
        FROM
        WHERE
        GROUP BY
        ORDER BY
    è¿žæŽ¥æ“ä½œ
      å†…è¿žæŽ¥
        INNER JOIN
        ç­‰å€¼è¿žæŽ¥
      å¤–è¿žæŽ¥
        LEFT JOIN
        RIGHT JOIN
        FULL JOIN
    å­æŸ¥è¯¢
      æ ‡é‡å­æŸ¥è¯¢
        å•å€¼è¿”å›ž
      ç›¸å…³å­æŸ¥è¯¢
        å¤–éƒ¨å¼•ç”¨
      åµŒå¥—å­æŸ¥è¯¢
        å¤šå±‚åµŒå¥—
    æ•°æ®ç±»åž‹
      æ•°å€¼ç±»åž‹
        INTEGER
        DECIMAL
        NUMERIC
      å­—ç¬¦ç±»åž‹
        CHAR
        VARCHAR
      æ—¥æœŸæ—¶é—´
        DATE
        TIME
        TIMESTAMP
    å®Œæ•´æ€§çº¦æŸ
      ä¸»é”®çº¦æŸ
        PRIMARY KEY
      å¤–é”®çº¦æŸ
        FOREIGN KEY
      æ£€æŸ¥çº¦æŸ
        CHECK
      å”¯ä¸€çº¦æŸ
        UNIQUE
```

### 1.2 SQL-92ç‰¹æ€§åˆ†ç±»å¯¹æ¯”çŸ©é˜µ

| ç‰¹æ€§ç±»åˆ« | æ ¸å¿ƒç‰¹æ€§ | å¢žå¼ºç‰¹æ€§ | æ‰©å±•ç‰¹æ€§ | è¯´æ˜Ž |
|---------|---------|---------|---------|------|
| **æ•°æ®å®šä¹‰** | âœ… | âœ… | âœ… | è¡¨ã€ç´¢å¼•ã€è§†å›¾å®šä¹‰ |
| **æ•°æ®æ“ä½œ** | âœ… | âœ… | âœ… | INSERTã€UPDATEã€DELETE |
| **æ•°æ®æŸ¥è¯¢** | âœ… | âœ… | âœ… | SELECTã€JOINã€å­æŸ¥è¯¢ |
| **è¿žæŽ¥æ“ä½œ** | âœ… | âœ… | âœ… | å†…è¿žæŽ¥ã€å¤–è¿žæŽ¥ |
| **å®Œæ•´æ€§çº¦æŸ** | âœ… | âœ… | âœ… | ä¸»é”®ã€å¤–é”®ã€æ£€æŸ¥çº¦æŸ |
| **äº‹åŠ¡æŽ§åˆ¶** | âœ… | âœ… | âœ… | COMMITã€ROLLBACK |
| **æƒé™æŽ§åˆ¶** | âœ… | âœ… | âœ… | GRANTã€REVOKE |

---

## äºŒã€SQL-92æ ¸å¿ƒç‰¹æ€§

### 2.1 æ ¸å¿ƒç‰¹æ€§åˆ—è¡¨

**SQL-92ä¸»è¦ç‰¹æ€§**ï¼š

1. âœ… **æ ‡å‡†åŒ–è¯­æ³•**ï¼šç»Ÿä¸€çš„SQLè¯­æ³•è§„èŒƒ
2. âœ… **è¿žæŽ¥æ“ä½œ**ï¼šINNER JOIN, LEFT JOIN, RIGHT JOIN, FULL JOIN
3. âœ… **å­æŸ¥è¯¢å¢žå¼º**ï¼šæ”¯æŒåµŒå¥—å­æŸ¥è¯¢
4. âœ… **æ•°æ®ç±»åž‹æ‰©å±•**ï¼šæ›´å¤šæ•°æ®ç±»åž‹æ”¯æŒ
5. âœ… **å­—ç¬¦é›†æ”¯æŒ**ï¼šå­—ç¬¦é›†å’ŒæŽ’åºè§„åˆ™
6. âœ… **åŠ¨æ€SQL**ï¼šåŠ¨æ€SQLæ”¯æŒ
7. âœ… **å®Œæ•´æ€§çº¦æŸ**ï¼šä¸»é”®ã€å¤–é”®ã€æ£€æŸ¥çº¦æŸ

### 2.2 ç‰¹æ€§åˆ†ç±»

**SQL-92ç‰¹æ€§åˆ†ç±»**ï¼š

- **æ ¸å¿ƒç‰¹æ€§ï¼ˆCoreï¼‰**ï¼šæ‰€æœ‰SQL-92å®žçŽ°å¿…é¡»æ”¯æŒ
- **å¢žå¼ºç‰¹æ€§ï¼ˆEnhancedï¼‰**ï¼šå¯é€‰çš„é«˜çº§ç‰¹æ€§
- **æ‰©å±•ç‰¹æ€§ï¼ˆExtendedï¼‰**ï¼šå¯é€‰çš„æ‰©å±•ç‰¹æ€§

---

## ä¸‰ã€æ•°æ®å®šä¹‰è¯­è¨€ï¼ˆDDLï¼‰

### 3.1 CREATE TABLE

**CREATE TABLEè¯­æ³•**ï¼š

```sql
CREATE TABLE table_name (
    column_name data_type [constraint],
    ...
    [table_constraint]
);
```

**ç¤ºä¾‹**ï¼š

```sql
-- SQL-92 CREATE TABLEç¤ºä¾‹
CREATE TABLE Student (
    student_id INTEGER PRIMARY KEY,
    name VARCHAR(50) NOT NULL,
    age INTEGER,
    major VARCHAR(50),
    CONSTRAINT chk_age CHECK (age >= 0 AND age <= 150)
);
```

### 3.2 ALTER TABLE

**ALTER TABLEè¯­æ³•**ï¼š

```sql
ALTER TABLE table_name
    ADD column_name data_type [constraint]
    | DROP COLUMN column_name
    | ALTER COLUMN column_name SET data_type
    | ADD CONSTRAINT constraint_name constraint_definition
    | DROP CONSTRAINT constraint_name;
```

### 3.3 DROP TABLE

**DROP TABLEè¯­æ³•**ï¼š

```sql
DROP TABLE table_name [CASCADE | RESTRICT];
```

---

## å››ã€æ•°æ®æ“ä½œè¯­è¨€ï¼ˆDMLï¼‰

### 4.1 INSERT

**INSERTè¯­æ³•**ï¼š

```sql
INSERT INTO table_name [(column_list)]
VALUES (value_list);
```

**ç¤ºä¾‹**ï¼š

```sql
-- SQL-92 INSERTç¤ºä¾‹
INSERT INTO Student (student_id, name, age, major)
VALUES (1, 'Alice', 20, 'Computer Science');
```

### 4.2 UPDATE

**UPDATEè¯­æ³•**ï¼š

```sql
UPDATE table_name
SET column_name = value [, column_name = value ...]
WHERE condition;
```

**ç¤ºä¾‹**ï¼š

```sql
-- SQL-92 UPDATEç¤ºä¾‹
UPDATE Student
SET age = 21
WHERE student_id = 1;
```

### 4.3 DELETE

**DELETEè¯­æ³•**ï¼š

```sql
DELETE FROM table_name
WHERE condition;
```

**ç¤ºä¾‹**ï¼š

```sql
-- SQL-92 DELETEç¤ºä¾‹
DELETE FROM Student
WHERE age < 18;
```

---

## äº”ã€æ•°æ®æŸ¥è¯¢è¯­è¨€ï¼ˆDQLï¼‰

### 5.1 SELECTåŸºæœ¬è¯­æ³•

**SELECTè¯­æ³•**ï¼š

```sql
SELECT [DISTINCT] select_list
FROM table_list
[WHERE condition]
[GROUP BY group_list]
[HAVING condition]
[ORDER BY order_list];
```

### 5.2 JOINæ“ä½œ

**SQL-92 JOINè¯­æ³•**ï¼š

```sql
-- INNER JOIN
SELECT * FROM table1
INNER JOIN table2 ON table1.id = table2.id;

-- LEFT JOIN
SELECT * FROM table1
LEFT JOIN table2 ON table1.id = table2.id;

-- RIGHT JOIN
SELECT * FROM table1
RIGHT JOIN table2 ON table1.id = table2.id;

-- FULL JOIN
SELECT * FROM table1
FULL JOIN table2 ON table1.id = table2.id;
```

### 5.3 å­æŸ¥è¯¢

**SQL-92å­æŸ¥è¯¢ç¤ºä¾‹**ï¼š

```sql
-- æ ‡é‡å­æŸ¥è¯¢
SELECT name, (SELECT COUNT(*) FROM Enrollment WHERE student_id = s.student_id) as course_count
FROM Student s;

-- ç›¸å…³å­æŸ¥è¯¢
SELECT * FROM Student s
WHERE EXISTS (
    SELECT 1 FROM Enrollment e
    WHERE e.student_id = s.student_id
);
```

---

## å…­ã€æ•°æ®æŽ§åˆ¶è¯­è¨€ï¼ˆDCLï¼‰

### 6.1 GRANT

**GRANTè¯­æ³•**ï¼š

```sql
GRANT privilege_list
ON object
TO user_list
[WITH GRANT OPTION];
```

**ç¤ºä¾‹**ï¼š

```sql
-- SQL-92 GRANTç¤ºä¾‹
GRANT SELECT, INSERT ON Student TO user1;
GRANT ALL PRIVILEGES ON Student TO user2 WITH GRANT OPTION;
```

### 6.2 REVOKE

**REVOKEè¯­æ³•**ï¼š

```sql
REVOKE privilege_list
ON object
FROM user_list
[CASCADE | RESTRICT];
```

---

## ä¸ƒã€äº‹åŠ¡æŽ§åˆ¶

### 7.1 äº‹åŠ¡è¯­å¥

**SQL-92äº‹åŠ¡æŽ§åˆ¶**ï¼š

```sql
-- å¼€å§‹äº‹åŠ¡
BEGIN TRANSACTION;

-- æäº¤äº‹åŠ¡
COMMIT;

-- å›žæ»šäº‹åŠ¡
ROLLBACK;

-- ä¿å­˜ç‚¹
SAVEPOINT savepoint_name;
ROLLBACK TO SAVEPOINT savepoint_name;
```

### 7.2 äº‹åŠ¡éš”ç¦»çº§åˆ«

**SQL-92éš”ç¦»çº§åˆ«**ï¼š

- READ UNCOMMITTED
- READ COMMITTED
- REPEATABLE READ
- SERIALIZABLE

---

## å…«ã€SQL-92ä¸ŽåŽç»­ç‰ˆæœ¬å¯¹æ¯”

### 8.1 ä¸»è¦å·®å¼‚

| ç‰¹æ€§ | SQL-92 | SQL:1999+ |
|------|--------|-----------|
| **é€’å½’æŸ¥è¯¢** | âŒ | âœ… |
| **CTE** | âŒ | âœ… |
| **çª—å£å‡½æ•°** | âŒ | âœ… |
| **JSONæ”¯æŒ** | âŒ | âœ… |
| **å­˜å‚¨è¿‡ç¨‹** | âŒ | âœ… |

### 8.2 å…¼å®¹æ€§

**SQL-92å…¼å®¹æ€§**ï¼š

- âœ… SQL-92æŸ¥è¯¢åœ¨æ‰€æœ‰åŽç»­ç‰ˆæœ¬ä¸­å®Œå…¨å…¼å®¹
- âœ… SQL-92æ˜¯SQLæ ‡å‡†çš„åŸºç¡€
- âœ… æ‰€æœ‰æ•°æ®åº“ç³»ç»Ÿéƒ½æ”¯æŒSQL-92æ ¸å¿ƒç‰¹æ€§

---

## ä¹ã€ç›¸å…³èµ„æº

### ç›¸å…³æ–‡æ¡£

- [SQLæ ‡å‡†æ¼”è¿›åŽ†å²](./02.01-SQLæ ‡å‡†æ¼”è¿›åŽ†å².md) - SQLæ ‡å‡†å‘å±•åŽ†ç¨‹
- [SQL:1999åˆ°SQL:2011æ ‡å‡†](./02.03-SQL-1999åˆ°SQL-2011æ ‡å‡†.md) - åŽç»­ç‰ˆæœ¬æ ‡å‡†
- [SQLæ ‡å‡†ç‰ˆæœ¬å¯¹æ¯”çŸ©é˜µ](./02.06-SQLæ ‡å‡†ç‰ˆæœ¬å¯¹æ¯”çŸ©é˜µ.md) - ç‰ˆæœ¬å¯¹æ¯”

### å¤–éƒ¨èµ„æº

- ANSI X3.135-1992 (SQL-92)
- ISO/IEC 9075:1992 (SQL-92)

---

**ç»´æŠ¤è€…**: SQL Standards Team
**æœ€åŽæ›´æ–°**: 2025-01-16
