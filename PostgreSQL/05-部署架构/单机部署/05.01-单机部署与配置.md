# å•æœºéƒ¨ç½²ä¸é…ç½®

> **æ–‡æ¡£ç‰ˆæœ¬**: v2.0
> **æœ€åæ›´æ–°**: 2025-11-12
> **ç‰ˆæœ¬è¦†ç›–**: PostgreSQL 18.x (æ¨è) â­ | 17.x (æ¨è) | 16.x (å…¼å®¹)
> **æ–‡æ¡£çŠ¶æ€**: âœ… å·²æ›´æ–°

---

## ğŸ“‹ ç›®å½•

- [å•æœºéƒ¨ç½²ä¸é…ç½®](#å•æœºéƒ¨ç½²ä¸é…ç½®)
  - [ğŸ“‹ ç›®å½•](#-ç›®å½•)
  - [1. æ¦‚è¿°](#1-æ¦‚è¿°)
  - [2. åˆå¹¶æ¥æºä¸æ˜ å°„](#2-åˆå¹¶æ¥æºä¸æ˜ å°„)
  - [3. å®‰è£…ä¸åˆå§‹åŒ–](#3-å®‰è£…ä¸åˆå§‹åŒ–)
    - [3.1 åŒ…ç®¡ç†å™¨å®‰è£…](#31-åŒ…ç®¡ç†å™¨å®‰è£…)
      - [Ubuntu/Debian](#ubuntudebian)
      - [CentOS/RHEL](#centosrhel)
      - [macOS](#macos)
    - [3.2 æºç ç¼–è¯‘å®‰è£…](#32-æºç ç¼–è¯‘å®‰è£…)
    - [3.3 æ•°æ®åº“åˆå§‹åŒ–](#33-æ•°æ®åº“åˆå§‹åŒ–)
    - [3.4 æœåŠ¡ç®¡ç†](#34-æœåŠ¡ç®¡ç†)
    - [3.5 éªŒè¯å®‰è£…](#35-éªŒè¯å®‰è£…)
  - [4. é…ç½®è¦ç‚¹](#4-é…ç½®è¦ç‚¹)
    - [4.1 postgresql.confåŸºç¡€é…ç½®](#41-postgresqlconfåŸºç¡€é…ç½®)
      - [è¿æ¥è®¾ç½®](#è¿æ¥è®¾ç½®)
      - [å†…å­˜è®¾ç½®](#å†…å­˜è®¾ç½®)
      - [I/Oè®¾ç½®](#ioè®¾ç½®)
      - [WALè®¾ç½®](#walè®¾ç½®)
      - [æ—¥å¿—è®¾ç½®](#æ—¥å¿—è®¾ç½®)
    - [4.2 pg\_hba.confè®¤è¯é…ç½®](#42-pg_hbaconfè®¤è¯é…ç½®)
      - [è®¤è¯è§„åˆ™ç¤ºä¾‹](#è®¤è¯è§„åˆ™ç¤ºä¾‹)
      - [è®¤è¯æ–¹æ³•è¯´æ˜](#è®¤è¯æ–¹æ³•è¯´æ˜)
    - [4.3 ç³»ç»Ÿå‚æ•°ä¼˜åŒ–](#43-ç³»ç»Ÿå‚æ•°ä¼˜åŒ–)
      - [Linuxå†…æ ¸å‚æ•°](#linuxå†…æ ¸å‚æ•°)
      - [èµ„æºé™åˆ¶](#èµ„æºé™åˆ¶)
    - [4.4 é…ç½®éªŒè¯](#44-é…ç½®éªŒè¯)
  - [5. å®‰å…¨ä¸åˆè§„](#5-å®‰å…¨ä¸åˆè§„)
    - [5.1 ç”¨æˆ·å’Œæƒé™ç®¡ç†](#51-ç”¨æˆ·å’Œæƒé™ç®¡ç†)
    - [5.2 SSL/TLSåŠ å¯†](#52-ssltlsåŠ å¯†)
    - [5.3 å®¡è®¡æ—¥å¿—](#53-å®¡è®¡æ—¥å¿—)
    - [5.4 è¡Œçº§å®‰å…¨ç­–ç•¥](#54-è¡Œçº§å®‰å…¨ç­–ç•¥)
    - [5.5 æ•°æ®åŠ å¯†](#55-æ•°æ®åŠ å¯†)
    - [5.6 å®‰å…¨æœ€ä½³å®è·µ](#56-å®‰å…¨æœ€ä½³å®è·µ)
  - [6. åç»­æ•´åˆä»»åŠ¡](#6-åç»­æ•´åˆä»»åŠ¡)
    - [6.1 ä¸åŒæ“ä½œç³»ç»Ÿå·®å¼‚](#61-ä¸åŒæ“ä½œç³»ç»Ÿå·®å¼‚)
      - [Ubuntu/Debian](#ubuntudebian-1)
      - [CentOS/RHEL](#centosrhel-1)
      - [macOS (Homebrew)](#macos-homebrew)
    - [6.2 ç³»ç»Ÿå‚æ•°æ¨èè¡¨](#62-ç³»ç»Ÿå‚æ•°æ¨èè¡¨)
    - [6.3 æ€§èƒ½è°ƒä¼˜æ£€æŸ¥æ¸…å•](#63-æ€§èƒ½è°ƒä¼˜æ£€æŸ¥æ¸…å•)

---

## 1. æ¦‚è¿°

- å®‰è£…ã€åˆå§‹åŒ–ã€åŸºç¡€é…ç½®ä¸å®‰å…¨åŠ å›º

## 2. åˆå¹¶æ¥æºä¸æ˜ å°„

- 1.1.15-äº‘åŸç”Ÿä¸å®¹å™¨åŒ–éƒ¨ç½².mdï¼ˆåŸºç¡€é…ç½®ç‰‡æ®µï¼‰
- 1.1.16-æ€§èƒ½è°ƒä¼˜ä¸ç›‘æ§-æ‰©å……ç‰ˆ.mdï¼ˆç›¸å…³é…ç½®ï¼‰

## 3. å®‰è£…ä¸åˆå§‹åŒ–

- åŒ…ç®¡ç†å™¨/æºç å®‰è£…ï¼Œinitdbï¼Œpg_ctl/æœåŠ¡ç®¡ç†

### 3.1 åŒ…ç®¡ç†å™¨å®‰è£…

#### Ubuntu/Debian

```bash
# æ·»åŠ PostgreSQLå®˜æ–¹APTä»“åº“
sudo sh -c 'echo "deb http://apt.postgresql.org/pub/repos/apt $(lsb_release -cs)-pgdg main" > /etc/apt/sources.list.d/pgdg.list'
wget --quiet -O - https://www.postgresql.org/media/keys/ACCC4CF8.asc | sudo apt-key add -
sudo apt-get update

# å®‰è£…PostgreSQL 18
sudo apt-get install -y postgresql-18 postgresql-contrib-18

# å¯åŠ¨æœåŠ¡
sudo systemctl start postgresql
sudo systemctl enable postgresql

# æ£€æŸ¥çŠ¶æ€
sudo systemctl status postgresql
```

#### CentOS/RHEL

```bash
# å®‰è£…PostgreSQLå®˜æ–¹YUMä»“åº“
sudo dnf install -y https://download.postgresql.org/pub/repos/yum/reporpms/EL-9-x86_64/pgdg-redhat-repo-latest.noarch.rpm

# å®‰è£…PostgreSQL 18
sudo dnf install -y postgresql18-server postgresql18-contrib

# åˆå§‹åŒ–æ•°æ®åº“
sudo /usr/pgsql-18/bin/postgresql-18-setup initdb

# å¯åŠ¨æœåŠ¡
sudo systemctl start postgresql-18
sudo systemctl enable postgresql-18
```

#### macOS

```bash
# ä½¿ç”¨Homebrewå®‰è£…
brew install postgresql@18

# å¯åŠ¨æœåŠ¡
brew services start postgresql@18

# åˆ›å»ºæ•°æ®åº“
createdb mydb
```

### 3.2 æºç ç¼–è¯‘å®‰è£…

```bash
# 1. å®‰è£…ä¾èµ–
sudo apt-get install -y build-essential libreadline-dev zlib1g-dev libssl-dev libxml2-dev libxslt1-dev

# 2. ä¸‹è½½æºç 
wget https://ftp.postgresql.org/pub/source/v18.0/postgresql-18.0.tar.gz
tar -xzf postgresql-18.0.tar.gz
cd postgresql-18.0

# 3. é…ç½®ç¼–è¯‘é€‰é¡¹
./configure --prefix=/usr/local/pgsql \
    --with-openssl \
    --with-libxml \
    --with-libxslt \
    --enable-nls \
    --with-python \
    --with-perl

# 4. ç¼–è¯‘å’Œå®‰è£…
make -j$(nproc)
sudo make install

# 5. åˆ›å»ºæ•°æ®ç›®å½•
sudo mkdir -p /usr/local/pgsql/data
sudo chown postgres:postgres /usr/local/pgsql/data

# 6. åˆå§‹åŒ–æ•°æ®åº“
sudo -u postgres /usr/local/pgsql/bin/initdb -D /usr/local/pgsql/data
```

### 3.3 æ•°æ®åº“åˆå§‹åŒ–

```bash
# ä½¿ç”¨initdbåˆå§‹åŒ–æ•°æ®åº“
sudo -u postgres /usr/pgsql-18/bin/initdb -D /var/lib/pgsql/18/data \
    --locale=zh_CN.UTF-8 \
    --encoding=UTF8 \
    --data-checksums

# åˆå§‹åŒ–å‚æ•°è¯´æ˜ï¼š
# -D: æ•°æ®ç›®å½•
# --locale: åŒºåŸŸè®¾ç½®
# --encoding: å­—ç¬¦ç¼–ç 
# --data-checksums: å¯ç”¨æ•°æ®æ ¡éªŒå’Œï¼ˆPostgreSQL 9.3+ï¼‰
```

### 3.4 æœåŠ¡ç®¡ç†

```bash
# ä½¿ç”¨systemdç®¡ç†ï¼ˆæ¨èï¼‰
sudo systemctl start postgresql-18
sudo systemctl stop postgresql-18
sudo systemctl restart postgresql-18
sudo systemctl status postgresql-18
sudo systemctl enable postgresql-18

# ä½¿ç”¨pg_ctlç®¡ç†
sudo -u postgres /usr/pgsql-18/bin/pg_ctl -D /var/lib/pgsql/18/data start
sudo -u postgres /usr/pgsql-18/bin/pg_ctl -D /var/lib/pgsql/18/data stop
sudo -u postgres /usr/pgsql-18/bin/pg_ctl -D /var/lib/pgsql/18/data restart
sudo -u postgres /usr/pgsql-18/bin/pg_ctl -D /var/lib/pgsql/18/data status
```

### 3.5 éªŒè¯å®‰è£…

```bash
# æ£€æŸ¥PostgreSQLç‰ˆæœ¬
psql --version

# è¿æ¥åˆ°æ•°æ®åº“
sudo -u postgres psql

# åœ¨psqlä¸­æ‰§è¡Œ
SELECT version();
\conninfo
\l
```

## 4. é…ç½®è¦ç‚¹

- postgresql.conf / pg_hba.confï¼Œå†…å­˜/IO/è¿æ¥æ•°

### 4.1 postgresql.confåŸºç¡€é…ç½®

```bash
# ç¼–è¾‘é…ç½®æ–‡ä»¶
sudo nano /var/lib/pgsql/18/data/postgresql.conf
```

#### è¿æ¥è®¾ç½®

```conf
# ç›‘å¬åœ°å€ï¼ˆå…è®¸æ‰€æœ‰IPè¿æ¥ï¼‰
listen_addresses = '*'

# ç«¯å£
port = 5432

# æœ€å¤§è¿æ¥æ•°
max_connections = 100

# è¶…çº§ç”¨æˆ·ä¿ç•™è¿æ¥æ•°
superuser_reserved_connections = 3
```

#### å†…å­˜è®¾ç½®

```conf
# å…±äº«ç¼“å†²åŒºï¼ˆå»ºè®®ä¸ºç³»ç»Ÿå†…å­˜çš„25%ï¼‰
shared_buffers = 256MB

# å·¥ä½œå†…å­˜ï¼ˆç”¨äºæ’åºã€å“ˆå¸Œç­‰æ“ä½œï¼‰
work_mem = 4MB

# ç»´æŠ¤å·¥ä½œå†…å­˜ï¼ˆç”¨äºVACUUMã€CREATE INDEXç­‰ï¼‰
maintenance_work_mem = 64MB

# æœ‰æ•ˆç¼“å­˜å¤§å°ï¼ˆå»ºè®®ä¸ºç³»ç»Ÿå†…å­˜çš„50-75%ï¼‰
effective_cache_size = 1GB
```

#### I/Oè®¾ç½®

```conf
# éšæœºé¡µé¢æˆæœ¬ï¼ˆSSDå»ºè®®1.1ï¼ŒHDDå»ºè®®4.0ï¼‰
random_page_cost = 1.1

# æœ‰æ•ˆI/Oå¹¶å‘æ•°ï¼ˆSSDå»ºè®®200ï¼ŒHDDå»ºè®®2ï¼‰
effective_io_concurrency = 200

# å¼‚æ­¥I/Oï¼ˆPostgreSQL 18æ–°ç‰¹æ€§ï¼‰
backend_flush_after = 0
```

#### WALè®¾ç½®

```conf
# WALçº§åˆ«
wal_level = replica

# æœ€å°WALå¤§å°
min_wal_size = 1GB

# æœ€å¤§WALå¤§å°
max_wal_size = 4GB

# æ£€æŸ¥ç‚¹å®Œæˆç›®æ ‡
checkpoint_completion_target = 0.9
```

#### æ—¥å¿—è®¾ç½®

```conf
# æ—¥å¿—æ”¶é›†
logging_collector = on

# æ—¥å¿—ç›®å½•
log_directory = 'log'

# æ—¥å¿—æ–‡ä»¶å
log_filename = 'postgresql-%Y-%m-%d_%H%M%S.log'

# æ—¥å¿—è½®è½¬
log_rotation_age = 1d
log_rotation_size = 100MB

# æ…¢æŸ¥è¯¢æ—¥å¿—
log_min_duration_statement = 500

# è®°å½•æ£€æŸ¥ç‚¹
log_checkpoints = on

# è®°å½•è¿æ¥
log_connections = on
log_disconnections = on
```

### 4.2 pg_hba.confè®¤è¯é…ç½®

```bash
# ç¼–è¾‘è®¤è¯é…ç½®æ–‡ä»¶
sudo nano /var/lib/pgsql/18/data/pg_hba.conf
```

#### è®¤è¯è§„åˆ™ç¤ºä¾‹

```conf
# TYPE  DATABASE        USER            ADDRESS                 METHOD

# æœ¬åœ°è¿æ¥ä½¿ç”¨peerè®¤è¯
local   all             all                                     peer

# IPv4æœ¬åœ°è¿æ¥ä½¿ç”¨md5è®¤è¯
host    all             all             127.0.0.1/32            md5

# IPv4å±€åŸŸç½‘è¿æ¥ä½¿ç”¨md5è®¤è¯
host    all             all             192.168.1.0/24          md5

# å¤åˆ¶è¿æ¥ä½¿ç”¨md5è®¤è¯
host    replication     replicator      192.168.1.0/24          md5

# SSLè¿æ¥ä½¿ç”¨scram-sha-256è®¤è¯
hostssl all             all             0.0.0.0/0               scram-sha-256
```

#### è®¤è¯æ–¹æ³•è¯´æ˜

- **trust**: æ— æ¡ä»¶å…è®¸è¿æ¥ï¼ˆä»…ç”¨äºæœ¬åœ°å¼€å‘ï¼‰
- **md5**: ä½¿ç”¨MD5åŠ å¯†å¯†ç 
- **scram-sha-256**: ä½¿ç”¨SCRAM-SHA-256åŠ å¯†å¯†ç ï¼ˆæ¨èï¼‰
- **peer**: ä½¿ç”¨æ“ä½œç³»ç»Ÿç”¨æˆ·åè®¤è¯ï¼ˆä»…æœ¬åœ°ï¼‰
- **cert**: ä½¿ç”¨SSLå®¢æˆ·ç«¯è¯ä¹¦è®¤è¯

### 4.3 ç³»ç»Ÿå‚æ•°ä¼˜åŒ–

#### Linuxå†…æ ¸å‚æ•°

```bash
# ç¼–è¾‘sysctl.conf
sudo nano /etc/sysctl.conf

# æ·»åŠ ä»¥ä¸‹å‚æ•°
# å…±äº«å†…å­˜è®¾ç½®
kernel.shmmax = 68719476736
kernel.shmall = 4294967296

# ç½‘ç»œå‚æ•°
net.core.somaxconn = 4096
net.ipv4.tcp_max_syn_backlog = 4096
net.ipv4.tcp_keepalive_time = 600
net.ipv4.tcp_keepalive_probes = 3
net.ipv4.tcp_keepalive_intvl = 15

# è™šæ‹Ÿå†…å­˜å‚æ•°
vm.swappiness = 1
vm.dirty_ratio = 15
vm.dirty_background_ratio = 5

# åº”ç”¨é…ç½®
sudo sysctl -p
```

#### èµ„æºé™åˆ¶

```bash
# ç¼–è¾‘limits.conf
sudo nano /etc/security/limits.conf

# æ·»åŠ ä»¥ä¸‹é™åˆ¶
postgres soft nofile 65536
postgres hard nofile 65536
postgres soft nproc 32768
postgres hard nproc 32768
```

### 4.4 é…ç½®éªŒè¯

```sql
-- æŸ¥çœ‹å½“å‰é…ç½®
SHOW shared_buffers;
SHOW max_connections;
SHOW work_mem;

-- æŸ¥çœ‹æ‰€æœ‰é…ç½®
SELECT name, setting, unit, source FROM pg_settings ORDER BY name;

-- é‡æ–°åŠ è½½é…ç½®ï¼ˆæ— éœ€é‡å¯ï¼‰
SELECT pg_reload_conf();
```

## 5. å®‰å…¨ä¸åˆè§„

- è®¤è¯æ–¹å¼ã€åŠ å¯†ã€å®¡è®¡

### 5.1 ç”¨æˆ·å’Œæƒé™ç®¡ç†

```sql
-- åˆ›å»ºç”¨æˆ·
CREATE USER app_user WITH PASSWORD 'secure_password';

-- åˆ›å»ºæ•°æ®åº“
CREATE DATABASE app_db OWNER app_user;

-- æˆäºˆæƒé™
GRANT CONNECT ON DATABASE app_db TO app_user;
GRANT USAGE ON SCHEMA public TO app_user;
GRANT SELECT, INSERT, UPDATE, DELETE ON ALL TABLES IN SCHEMA public TO app_user;

-- è®¾ç½®é»˜è®¤æƒé™
ALTER DEFAULT PRIVILEGES IN SCHEMA public
    GRANT SELECT, INSERT, UPDATE, DELETE ON TABLES TO app_user;
```

### 5.2 SSL/TLSåŠ å¯†

```bash
# ç”ŸæˆSSLè¯ä¹¦
sudo -u postgres openssl req -new -x509 -days 365 -nodes \
    -text -out /var/lib/pgsql/18/data/server.crt \
    -keyout /var/lib/pgsql/18/data/server.key \
    -subj "/CN=postgresql-server"

# è®¾ç½®æƒé™
sudo chmod 600 /var/lib/pgsql/18/data/server.key
sudo chown postgres:postgres /var/lib/pgsql/18/data/server.key
sudo chown postgres:postgres /var/lib/pgsql/18/data/server.crt
```

```conf
# postgresql.confä¸­å¯ç”¨SSL
ssl = on
ssl_cert_file = 'server.crt'
ssl_key_file = 'server.key'
```

### 5.3 å®¡è®¡æ—¥å¿—

```conf
# postgresql.confä¸­å¯ç”¨å®¡è®¡
log_statement = 'all'  # è®°å½•æ‰€æœ‰SQLè¯­å¥
# æˆ–
log_statement = 'ddl'  # ä»…è®°å½•DDLè¯­å¥
log_statement = 'mod'  # è®°å½•ä¿®æ”¹æ•°æ®çš„è¯­å¥

# è®°å½•å‚æ•°å˜æ›´
log_parameter_max_length = 1024
```

### 5.4 è¡Œçº§å®‰å…¨ç­–ç•¥

```sql
-- å¯ç”¨è¡Œçº§å®‰å…¨
ALTER TABLE sensitive_data ENABLE ROW LEVEL SECURITY;

-- åˆ›å»ºç­–ç•¥
CREATE POLICY user_data_policy ON sensitive_data
    FOR ALL
    TO app_user
    USING (user_id = current_user_id());
```

### 5.5 æ•°æ®åŠ å¯†

```sql
-- ä½¿ç”¨pgcryptoæ‰©å±•åŠ å¯†æ•°æ®
CREATE EXTENSION IF NOT EXISTS pgcrypto;

-- åŠ å¯†å­˜å‚¨
INSERT INTO users (username, password_hash)
VALUES ('user1', crypt('password123', gen_salt('bf')));

-- éªŒè¯å¯†ç 
SELECT * FROM users
WHERE username = 'user1'
AND password_hash = crypt('password123', password_hash);
```

### 5.6 å®‰å…¨æœ€ä½³å®è·µ

```bash
# 1. å®šæœŸæ›´æ–°PostgreSQL
sudo apt-get update && sudo apt-get upgrade postgresql-18

# 2. é™åˆ¶ç½‘ç»œè®¿é—®
# åœ¨pg_hba.confä¸­ä»…å…è®¸å¿…è¦çš„IPè®¿é—®

# 3. ä½¿ç”¨å¼ºå¯†ç ç­–ç•¥
# åœ¨åº”ç”¨å±‚æˆ–ä½¿ç”¨passwordcheckæ‰©å±•

# 4. å®šæœŸå¤‡ä»½
# é…ç½®è‡ªåŠ¨å¤‡ä»½è„šæœ¬

# 5. ç›‘æ§å¼‚å¸¸è®¿é—®
# ä½¿ç”¨pg_stat_statementså’Œæ—¥å¿—åˆ†æ
```

## 6. åç»­æ•´åˆä»»åŠ¡

- è¡¥å……ç³»ç»Ÿå‚æ•°æ¨èè¡¨ä¸ä¸åŒOSå·®å¼‚

### 6.1 ä¸åŒæ“ä½œç³»ç»Ÿå·®å¼‚

#### Ubuntu/Debian

```bash
# æ•°æ®ç›®å½•ä½ç½®
/var/lib/postgresql/18/main

# é…ç½®æ–‡ä»¶ä½ç½®
/etc/postgresql/18/main/postgresql.conf
/etc/postgresql/18/main/pg_hba.conf

# æ—¥å¿—ç›®å½•
/var/log/postgresql/
```

#### CentOS/RHEL

```bash
# æ•°æ®ç›®å½•ä½ç½®
/var/lib/pgsql/18/data

# é…ç½®æ–‡ä»¶ä½ç½®
/var/lib/pgsql/18/data/postgresql.conf
/var/lib/pgsql/18/data/pg_hba.conf

# æ—¥å¿—ç›®å½•
/var/lib/pgsql/18/data/log
```

#### macOS (Homebrew)

```bash
# æ•°æ®ç›®å½•ä½ç½®
/opt/homebrew/var/postgresql@18

# é…ç½®æ–‡ä»¶ä½ç½®
/opt/homebrew/var/postgresql@18/postgresql.conf
/opt/homebrew/var/postgresql@18/pg_hba.conf
```

### 6.2 ç³»ç»Ÿå‚æ•°æ¨èè¡¨

| ç³»ç»Ÿå†…å­˜ | shared_buffers | effective_cache_size | work_mem | maintenance_work_mem |
|---------|----------------|---------------------|----------|---------------------|
| 1GB     | 256MB         | 512MB              | 2MB      | 32MB                |
| 2GB     | 512MB         | 1GB                | 4MB      | 64MB                |
| 4GB     | 1GB           | 2GB                | 8MB      | 128MB               |
| 8GB     | 2GB           | 4GB                | 16MB     | 256MB               |
| 16GB    | 4GB           | 8GB                | 32MB     | 512MB               |
| 32GB    | 8GB           | 16GB               | 64MB     | 1GB                 |
| 64GB    | 16GB          | 32GB               | 128MB    | 2GB                 |

### 6.3 æ€§èƒ½è°ƒä¼˜æ£€æŸ¥æ¸…å•

```bash
# 1. æ£€æŸ¥PostgreSQLç‰ˆæœ¬
psql --version

# 2. æ£€æŸ¥æ•°æ®ç›®å½•æƒé™
ls -la /var/lib/pgsql/18/data

# 3. æ£€æŸ¥é…ç½®æ–‡ä»¶è¯­æ³•
sudo -u postgres /usr/pgsql-18/bin/postgres -D /var/lib/pgsql/18/data -C config_file

# 4. æ£€æŸ¥å…±äº«å†…å­˜
ipcs -m

# 5. æ£€æŸ¥ç³»ç»Ÿèµ„æº
free -h
df -h
iostat -x 1

# 6. æ£€æŸ¥è¿æ¥æ•°
psql -c "SELECT count(*) FROM pg_stat_activity;"

# 7. æ£€æŸ¥æ…¢æŸ¥è¯¢
psql -c "SELECT * FROM pg_stat_statements ORDER BY mean_exec_time DESC LIMIT 10;"
```
