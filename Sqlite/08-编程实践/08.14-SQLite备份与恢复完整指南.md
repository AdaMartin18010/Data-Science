# SQLiteå¤‡ä»½ä¸æ¢å¤å®Œæ•´æŒ‡å—

> **åˆ›å»ºæ—¥æœŸ**: 2025-12-05
> **ç‰ˆæœ¬**: SQLite 3.47.x
> **éš¾åº¦**: â­â­â­â­â­
> **é€‚ç”¨åœºæ™¯**: ç”Ÿäº§ç¯å¢ƒå¤‡ä»½ã€ç¾éš¾æ¢å¤ã€æ•°æ®è¿ç§»

---

## ğŸ“‘ ç›®å½•

- [SQLiteå¤‡ä»½ä¸æ¢å¤å®Œæ•´æŒ‡å—](#sqliteå¤‡ä»½ä¸æ¢å¤å®Œæ•´æŒ‡å—)
  - [ğŸ“‘ ç›®å½•](#-ç›®å½•)
  - [å¤‡ä»½ç­–ç•¥æ€»è§ˆ](#å¤‡ä»½ç­–ç•¥æ€»è§ˆ)
  - [1. å¤‡ä»½æ–¹æ³•](#1-å¤‡ä»½æ–¹æ³•)
    - [1.1 åœ¨çº¿å¤‡ä»½ï¼ˆOnline Backup APIï¼‰](#11-åœ¨çº¿å¤‡ä»½online-backup-api)
      - [Pythonå®ç°](#pythonå®ç°)
      - [Cè¯­è¨€å®ç°](#cè¯­è¨€å®ç°)
    - [1.2 æ–‡ä»¶å¤åˆ¶å¤‡ä»½](#12-æ–‡ä»¶å¤åˆ¶å¤‡ä»½)
    - [1.3 SQLè½¬å‚¨å¤‡ä»½](#13-sqlè½¬å‚¨å¤‡ä»½)
    - [1.4 å¢é‡å¤‡ä»½](#14-å¢é‡å¤‡ä»½)
  - [2. å¤‡ä»½å®ç°](#2-å¤‡ä»½å®ç°)
    - [2.1 Pythonå¤‡ä»½å®ç°](#21-pythonå¤‡ä»½å®ç°)
    - [2.2 Cè¯­è¨€å¤‡ä»½å®ç°](#22-cè¯­è¨€å¤‡ä»½å®ç°)
    - [2.3 Shellè„šæœ¬å¤‡ä»½](#23-shellè„šæœ¬å¤‡ä»½)
  - [3. æ¢å¤æ–¹æ³•](#3-æ¢å¤æ–¹æ³•)
    - [3.1 å®Œæ•´æ¢å¤](#31-å®Œæ•´æ¢å¤)
    - [3.2 éƒ¨åˆ†æ¢å¤](#32-éƒ¨åˆ†æ¢å¤)
    - [3.3 æ—¶é—´ç‚¹æ¢å¤](#33-æ—¶é—´ç‚¹æ¢å¤)
  - [4. WALæ¨¡å¼å¤‡ä»½](#4-walæ¨¡å¼å¤‡ä»½)
    - [4.1 WALæ¨¡å¼å¤‡ä»½ç­–ç•¥](#41-walæ¨¡å¼å¤‡ä»½ç­–ç•¥)
    - [4.2 æ£€æŸ¥ç‚¹ä¸å¤‡ä»½](#42-æ£€æŸ¥ç‚¹ä¸å¤‡ä»½)
  - [5. å¤‡ä»½éªŒè¯](#5-å¤‡ä»½éªŒè¯)
    - [5.1 å®Œæ•´æ€§éªŒè¯](#51-å®Œæ•´æ€§éªŒè¯)
    - [5.2 ä¸€è‡´æ€§éªŒè¯](#52-ä¸€è‡´æ€§éªŒè¯)
  - [6. è‡ªåŠ¨åŒ–å¤‡ä»½](#6-è‡ªåŠ¨åŒ–å¤‡ä»½)
    - [6.1 å®šæ—¶å¤‡ä»½](#61-å®šæ—¶å¤‡ä»½)
    - [6.2 äº‹ä»¶é©±åŠ¨å¤‡ä»½](#62-äº‹ä»¶é©±åŠ¨å¤‡ä»½)
  - [7. ç¾éš¾æ¢å¤è®¡åˆ’](#7-ç¾éš¾æ¢å¤è®¡åˆ’)
    - [7.1 RTOä¸RPO](#71-rtoä¸rpo)
    - [7.2 æ¢å¤æµç¨‹](#72-æ¢å¤æµç¨‹)
  - [8. å¤‡ä»½æœ€ä½³å®è·µ](#8-å¤‡ä»½æœ€ä½³å®è·µ)
    - [8.1 å¤‡ä»½ç­–ç•¥](#81-å¤‡ä»½ç­–ç•¥)
    - [8.2 æ¢å¤æµ‹è¯•](#82-æ¢å¤æµ‹è¯•)
  - [9. ğŸ”— ç›¸å…³èµ„æº](#9--ç›¸å…³èµ„æº)
    - [å†…éƒ¨èµ„æº](#å†…éƒ¨èµ„æº)
    - [å¤–éƒ¨èµ„æº](#å¤–éƒ¨èµ„æº)
  - [ğŸ”— äº¤å‰å¼•ç”¨](#-äº¤å‰å¼•ç”¨)
    - [ç¼–ç¨‹å®è·µæ–‡æ¡£](#ç¼–ç¨‹å®è·µæ–‡æ¡£)
    - [æ ¸å¿ƒæ¶æ„æ–‡æ¡£ ğŸ†•](#æ ¸å¿ƒæ¶æ„æ–‡æ¡£-)
    - [å½¢å¼åŒ–ç†è®ºæ–‡æ¡£ ğŸ†•](#å½¢å¼åŒ–ç†è®ºæ–‡æ¡£-)
    - [çŸ¥è¯†å›¾è°±ä¸å¯¼èˆª ğŸ†•](#çŸ¥è¯†å›¾è°±ä¸å¯¼èˆª-)
    - [ç›¸å…³æ¦‚å¿µé“¾æ¥ ğŸ†•](#ç›¸å…³æ¦‚å¿µé“¾æ¥-)
      - [å¤‡ä»½æ¢å¤æ¦‚å¿µ](#å¤‡ä»½æ¢å¤æ¦‚å¿µ)

---

## å¤‡ä»½ç­–ç•¥æ€»è§ˆ

```text
SQLiteå¤‡ä»½ç­–ç•¥çŸ©é˜µ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å¤‡ä»½æ–¹æ³•             â”‚ é€‚ç”¨åœºæ™¯     â”‚ ä¼˜ç‚¹          â”‚ ç¼ºç‚¹         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Online Backup API   â”‚ ç”Ÿäº§ç¯å¢ƒ      â”‚ åœ¨çº¿å¤‡ä»½      â”‚ éœ€è¦C API    â”‚
â”‚                     â”‚ å¤§å‹æ•°æ®åº“    â”‚ ä¸€è‡´æ€§ä¿è¯    â”‚ å®ç°å¤æ‚      â”‚
â”‚                     â”‚              â”‚ æ€§èƒ½å¥½        â”‚              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ–‡ä»¶å¤åˆ¶             â”‚ å°å‹æ•°æ®åº“    â”‚ ç®€å•å¿«é€Ÿ     â”‚ éœ€è¦åœæœº      â”‚
â”‚                     â”‚ ç»´æŠ¤çª—å£      â”‚ å®Œæ•´å¤‡ä»½     â”‚ ä¸€è‡´æ€§é£é™©    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ SQLè½¬å‚¨             â”‚ è·¨å¹³å°è¿ç§»    â”‚ å¯è¯»æ€§å¼º      â”‚ é€Ÿåº¦æ…¢       â”‚
â”‚                     â”‚ ç‰ˆæœ¬å…¼å®¹     â”‚ å¯ç¼–è¾‘        â”‚ å¤§æ–‡ä»¶å¤„ç†    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å¢é‡å¤‡ä»½             â”‚ é¢‘ç¹å¤‡ä»½      â”‚ èŠ‚çœç©ºé—´      â”‚ å®ç°å¤æ‚     â”‚
â”‚                     â”‚ ç½‘ç»œå¤‡ä»½      â”‚ å¿«é€Ÿå¤‡ä»½      â”‚ æ¢å¤å¤æ‚     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 1. å¤‡ä»½æ–¹æ³•

### 1.1 åœ¨çº¿å¤‡ä»½ï¼ˆOnline Backup APIï¼‰

åœ¨çº¿å¤‡ä»½APIæ˜¯SQLiteæ¨èçš„å¤‡ä»½æ–¹æ³•ï¼Œæ”¯æŒåœ¨æ•°æ®åº“è¿è¡Œæ—¶è¿›è¡Œå¤‡ä»½ã€‚

#### Pythonå®ç°

```python
import sqlite3
import shutil
from pathlib import Path
from contextlib import contextmanager

class OnlineBackup:
    def __init__(self, source_db, backup_db):
        self.source_db = source_db
        self.backup_db = backup_db

    def backup(self, progress_callback=None):
        """ä½¿ç”¨Online Backup APIè¿›è¡Œå¤‡ä»½"""
        source_conn = sqlite3.connect(self.source_db)
        backup_conn = sqlite3.connect(self.backup_db)

        try:
            # è·å–å¤‡ä»½å¯¹è±¡
            backup = source_conn.backup(backup_conn)

            # æ‰§è¡Œå¤‡ä»½
            if progress_callback:
                while not backup.done:
                    backup.step(100)  # æ¯æ¬¡å¤‡ä»½100é¡µ
                    progress = backup.progress
                    total = backup.pagecount
                    progress_callback(progress, total)
            else:
                backup.step(-1)  # ä¸€æ¬¡æ€§å¤‡ä»½æ‰€æœ‰é¡µé¢

            # å®Œæˆå¤‡ä»½
            backup.finish()

            return True
        except Exception as e:
            print(f"å¤‡ä»½å¤±è´¥: {e}")
            return False
        finally:
            source_conn.close()
            backup_conn.close()

    def backup_with_progress(self):
        """å¸¦è¿›åº¦æ˜¾ç¤ºçš„å¤‡ä»½"""
        def progress(remaining, total):
            percent = ((total - remaining) / total) * 100
            print(f"å¤‡ä»½è¿›åº¦: {percent:.1f}% ({total - remaining}/{total} é¡µ)")

        return self.backup(progress_callback=progress)
```

#### Cè¯­è¨€å®ç°

```c
#include <sqlite3.h>
#include <stdio.h>

int backup_database(const char* source_db, const char* backup_db) {
    sqlite3* source;
    sqlite3* backup;
    sqlite3_backup* backup_handle;
    int rc;

    // æ‰“å¼€æºæ•°æ®åº“
    rc = sqlite3_open(source_db, &source);
    if (rc != SQLITE_OK) {
        fprintf(stderr, "æ— æ³•æ‰“å¼€æºæ•°æ®åº“: %s\n", sqlite3_errmsg(source));
        return rc;
    }

    // æ‰“å¼€å¤‡ä»½æ•°æ®åº“
    rc = sqlite3_open(backup_db, &backup);
    if (rc != SQLITE_OK) {
        fprintf(stderr, "æ— æ³•æ‰“å¼€å¤‡ä»½æ•°æ®åº“: %s\n", sqlite3_errmsg(backup));
        sqlite3_close(source);
        return rc;
    }

    // åˆå§‹åŒ–å¤‡ä»½å¯¹è±¡
    backup_handle = sqlite3_backup_init(backup, "main", source, "main");
    if (backup_handle == NULL) {
        fprintf(stderr, "å¤‡ä»½åˆå§‹åŒ–å¤±è´¥: %s\n", sqlite3_errmsg(backup));
        sqlite3_close(backup);
        sqlite3_close(source);
        return SQLITE_ERROR;
    }

    // æ‰§è¡Œå¤‡ä»½ï¼ˆæ¯æ¬¡100é¡µï¼‰
    do {
        rc = sqlite3_backup_step(backup_handle, 100);
        if (rc == SQLITE_OK || rc == SQLITE_BUSY || rc == SQLITE_LOCKED) {
            int remaining = sqlite3_backup_remaining(backup_handle);
            int page_count = sqlite3_backup_pagecount(backup_handle);
            printf("å¤‡ä»½è¿›åº¦: %d/%d é¡µ\n", page_count - remaining, page_count);
        }

        if (rc == SQLITE_BUSY || rc == SQLITE_LOCKED) {
            sqlite3_sleep(250);  // ç­‰å¾…250msåé‡è¯•
        }
    } while (rc == SQLITE_OK || rc == SQLITE_BUSY || rc == SQLITE_LOCKED);

    // å®Œæˆå¤‡ä»½
    sqlite3_backup_finish(backup_handle);

    if (rc == SQLITE_DONE) {
        printf("å¤‡ä»½å®Œæˆ\n");
    } else {
        fprintf(stderr, "å¤‡ä»½å¤±è´¥: %s\n", sqlite3_errmsg(backup));
    }

    sqlite3_close(backup);
    sqlite3_close(source);

    return rc;
}
```

### 1.2 æ–‡ä»¶å¤åˆ¶å¤‡ä»½

æ–‡ä»¶å¤åˆ¶æ˜¯æœ€ç®€å•çš„å¤‡ä»½æ–¹æ³•ï¼Œä½†éœ€è¦ç¡®ä¿æ•°æ®åº“å¤„äºä¸€è‡´çŠ¶æ€ã€‚

```python
import shutil
import sqlite3
from pathlib import Path
from datetime import datetime

def file_copy_backup(db_path, backup_dir):
    """æ–‡ä»¶å¤åˆ¶å¤‡ä»½"""
    db_path = Path(db_path)
    backup_dir = Path(backup_dir)
    backup_dir.mkdir(parents=True, exist_ok=True)

    # ç”Ÿæˆå¤‡ä»½æ–‡ä»¶å
    timestamp = datetime.now().strftime("%Y%m%d_%H%M%S")
    backup_path = backup_dir / f"{db_path.stem}_{timestamp}.db"

    # æ£€æŸ¥WALæ¨¡å¼
    conn = sqlite3.connect(str(db_path))
    cursor = conn.cursor()
    cursor.execute("PRAGMA journal_mode")
    journal_mode = cursor.fetchone()[0]
    conn.close()

    if journal_mode == "wal":
        # WALæ¨¡å¼ï¼šéœ€è¦å…ˆæ‰§è¡Œæ£€æŸ¥ç‚¹
        conn = sqlite3.connect(str(db_path))
        cursor = conn.cursor()
        cursor.execute("PRAGMA wal_checkpoint(TRUNCATE)")
        conn.close()

    # å¤åˆ¶æ•°æ®åº“æ–‡ä»¶
    shutil.copy2(db_path, backup_path)

    # å¦‚æœå­˜åœ¨WALæ–‡ä»¶ï¼Œä¹Ÿå¤åˆ¶
    wal_path = db_path.parent / f"{db_path.name}-wal"
    if wal_path.exists():
        backup_wal_path = backup_dir / f"{db_path.stem}_{timestamp}.db-wal"
        shutil.copy2(wal_path, backup_wal_path)

    # å¦‚æœå­˜åœ¨SHMæ–‡ä»¶ï¼Œä¹Ÿå¤åˆ¶
    shm_path = db_path.parent / f"{db_path.name}-shm"
    if shm_path.exists():
        backup_shm_path = backup_dir / f"{db_path.stem}_{timestamp}.db-shm"
        shutil.copy2(shm_path, backup_shm_path)

    return backup_path
```

### 1.3 SQLè½¬å‚¨å¤‡ä»½

SQLè½¬å‚¨ç”Ÿæˆå¯è¯»çš„SQLè„šæœ¬ï¼Œé€‚åˆè·¨å¹³å°è¿ç§»å’Œç‰ˆæœ¬å…¼å®¹ã€‚

```python
import sqlite3
import subprocess
from pathlib import Path

def sql_dump_backup(db_path, dump_file):
    """SQLè½¬å‚¨å¤‡ä»½"""
    db_path = Path(db_path)
    dump_file = Path(dump_file)

    # ä½¿ç”¨sqlite3å‘½ä»¤è¡Œå·¥å…·
    cmd = ['sqlite3', str(db_path), '.dump']

    with open(dump_file, 'w', encoding='utf-8') as f:
        result = subprocess.run(cmd, stdout=f, stderr=subprocess.PIPE)

    if result.returncode != 0:
        raise Exception(f"SQLè½¬å‚¨å¤±è´¥: {result.stderr.decode()}")

    return dump_file

def sql_dump_backup_python(db_path, dump_file):
    """ä½¿ç”¨Pythonå®ç°SQLè½¬å‚¨"""
    conn = sqlite3.connect(db_path)
    dump_file = Path(dump_file)

    with open(dump_file, 'w', encoding='utf-8') as f:
        # å†™å…¥å¤´éƒ¨
        f.write("-- SQLiteæ•°æ®åº“è½¬å‚¨\n")
        f.write(f"-- æºæ•°æ®åº“: {db_path}\n")
        f.write(f"-- ç”Ÿæˆæ—¶é—´: {datetime.now().isoformat()}\n\n")

        # è½¬å‚¨æ‰€æœ‰è¡¨
        cursor = conn.cursor()

        # è·å–æ‰€æœ‰è¡¨
        cursor.execute("""
            SELECT name
            FROM sqlite_master
            WHERE type='table'
            AND name NOT LIKE 'sqlite_%'
        """)

        tables = cursor.fetchall()

        for (table_name,) in tables:
            # è·å–è¡¨ç»“æ„
            cursor.execute(f"SELECT sql FROM sqlite_master WHERE type='table' AND name='{table_name}'")
            create_sql = cursor.fetchone()
            if create_sql:
                f.write(f"{create_sql[0]};\n\n")

            # è·å–è¡¨æ•°æ®
            cursor.execute(f"SELECT * FROM {table_name}")
            rows = cursor.fetchall()

            # è·å–åˆ—å
            cursor.execute(f"PRAGMA table_info({table_name})")
            columns = [row[1] for row in cursor.fetchall()]

            # å†™å…¥æ•°æ®
            for row in rows:
                values = []
                for value in row:
                    if value is None:
                        values.append('NULL')
                    elif isinstance(value, str):
                        values.append(f"'{value.replace("'", "''")}'")
                    else:
                        values.append(str(value))

                f.write(f"INSERT INTO {table_name} ({', '.join(columns)}) VALUES ({', '.join(values)});\n")

            f.write("\n")

        # è½¬å‚¨ç´¢å¼•
        cursor.execute("""
            SELECT sql
            FROM sqlite_master
            WHERE type='index'
            AND name NOT LIKE 'sqlite_%'
        """)

        indexes = cursor.fetchall()
        for (index_sql,) in indexes:
            if index_sql:
                f.write(f"{index_sql};\n\n")

    conn.close()
    return dump_file
```

### 1.4 å¢é‡å¤‡ä»½

å¢é‡å¤‡ä»½åªå¤‡ä»½è‡ªä¸Šæ¬¡å¤‡ä»½ä»¥æ¥çš„å˜æ›´ã€‚

```python
class IncrementalBackup:
    def __init__(self, db_path, backup_dir):
        self.db_path = db_path
        self.backup_dir = Path(backup_dir)
        self.backup_dir.mkdir(parents=True, exist_ok=True)
        self.last_backup_file = self.backup_dir / "last_backup.txt"

    def get_last_backup_time(self):
        """è·å–ä¸Šæ¬¡å¤‡ä»½æ—¶é—´"""
        if self.last_backup_file.exists():
            with open(self.last_backup_file, 'r') as f:
                return datetime.fromisoformat(f.read().strip())
        return None

    def save_backup_time(self, backup_time):
        """ä¿å­˜å¤‡ä»½æ—¶é—´"""
        with open(self.last_backup_file, 'w') as f:
            f.write(backup_time.isoformat())

    def incremental_backup(self):
        """æ‰§è¡Œå¢é‡å¤‡ä»½"""
        last_backup = self.get_last_backup_time()
        current_time = datetime.now()

        # è·å–è‡ªä¸Šæ¬¡å¤‡ä»½ä»¥æ¥çš„å˜æ›´
        conn = sqlite3.connect(self.db_path)
        cursor = conn.cursor()

        # æ£€æŸ¥æ˜¯å¦æœ‰å˜æ›´ï¼ˆéœ€è¦åº”ç”¨å±‚æ”¯æŒï¼‰
        # è¿™é‡Œç®€åŒ–å¤„ç†ï¼Œå®é™…åº”è¯¥æ£€æŸ¥WALæ–‡ä»¶æˆ–å˜æ›´æ—¥å¿—

        # æ‰§è¡Œå¤‡ä»½
        backup_path = self.backup_dir / f"incremental_{current_time.strftime('%Y%m%d_%H%M%S')}.db"

        online_backup = OnlineBackup(self.db_path, str(backup_path))
        success = online_backup.backup()

        if success:
            self.save_backup_time(current_time)

        conn.close()
        return backup_path if success else None
```

---

## 2. å¤‡ä»½å®ç°

### 2.1 Pythonå¤‡ä»½å®ç°

```python
class SQLiteBackupManager:
    def __init__(self, db_path, backup_dir, retention_days=30):
        self.db_path = Path(db_path)
        self.backup_dir = Path(backup_dir)
        self.backup_dir.mkdir(parents=True, exist_ok=True)
        self.retention_days = retention_days

    def full_backup(self, method='online'):
        """å®Œæ•´å¤‡ä»½"""
        timestamp = datetime.now().strftime("%Y%m%d_%H%M%S")
        backup_path = self.backup_dir / f"full_{timestamp}.db"

        if method == 'online':
            backup = OnlineBackup(str(self.db_path), str(backup_path))
            success = backup.backup()
        elif method == 'file_copy':
            backup_path = file_copy_backup(self.db_path, self.backup_dir)
            success = True
        elif method == 'sql_dump':
            backup_path = self.backup_dir / f"full_{timestamp}.sql"
            backup_path = sql_dump_backup(self.db_path, backup_path)
            success = True
        else:
            raise ValueError(f"æœªçŸ¥çš„å¤‡ä»½æ–¹æ³•: {method}")

        if success:
            # éªŒè¯å¤‡ä»½
            if self.verify_backup(backup_path):
                # æ¸…ç†æ—§å¤‡ä»½
                self.cleanup_old_backups()
                return backup_path
            else:
                backup_path.unlink()
                raise Exception("å¤‡ä»½éªŒè¯å¤±è´¥")

        return None

    def verify_backup(self, backup_path):
        """éªŒè¯å¤‡ä»½"""
        try:
            conn = sqlite3.connect(str(backup_path))
            cursor = conn.cursor()

            # å¿«é€Ÿå®Œæ•´æ€§æ£€æŸ¥
            cursor.execute("PRAGMA quick_check")
            result = cursor.fetchone()[0]

            conn.close()
            return result == 'ok'
        except Exception as e:
            print(f"å¤‡ä»½éªŒè¯å¤±è´¥: {e}")
            return False

    def cleanup_old_backups(self):
        """æ¸…ç†æ—§å¤‡ä»½"""
        cutoff_date = datetime.now() - timedelta(days=self.retention_days)

        for backup_file in self.backup_dir.glob("*.db"):
            if backup_file.stat().st_mtime < cutoff_date.timestamp():
                backup_file.unlink()
                print(f"åˆ é™¤æ—§å¤‡ä»½: {backup_file}")
```

### 2.2 Cè¯­è¨€å¤‡ä»½å®ç°

è§1.1èŠ‚Cè¯­è¨€å®ç°éƒ¨åˆ†ã€‚

### 2.3 Shellè„šæœ¬å¤‡ä»½

```bash
#!/bin/bash
# SQLiteå¤‡ä»½è„šæœ¬

DB_PATH="$1"
BACKUP_DIR="${2:-./backups}"
RETENTION_DAYS="${3:-30}"

if [ -z "$DB_PATH" ]; then
    echo "ç”¨æ³•: $0 <database_path> [backup_dir] [retention_days]"
    exit 1
fi

mkdir -p "$BACKUP_DIR"

# ç”Ÿæˆå¤‡ä»½æ–‡ä»¶å
TIMESTAMP=$(date +%Y%m%d_%H%M%S)
BACKUP_FILE="$BACKUP_DIR/backup_${TIMESTAMP}.db"

# æ‰§è¡Œå¤‡ä»½
sqlite3 "$DB_PATH" ".backup '$BACKUP_FILE'"

if [ $? -eq 0 ]; then
    echo "å¤‡ä»½æˆåŠŸ: $BACKUP_FILE"

    # éªŒè¯å¤‡ä»½
    sqlite3 "$BACKUP_FILE" "PRAGMA quick_check" | grep -q "ok"
    if [ $? -eq 0 ]; then
        echo "å¤‡ä»½éªŒè¯é€šè¿‡"
    else
        echo "è­¦å‘Š: å¤‡ä»½éªŒè¯å¤±è´¥"
        rm "$BACKUP_FILE"
        exit 1
    fi

    # æ¸…ç†æ—§å¤‡ä»½
    find "$BACKUP_DIR" -name "backup_*.db" -mtime +$RETENTION_DAYS -delete
    echo "å·²æ¸…ç† $RETENTION_DAYS å¤©å‰çš„å¤‡ä»½"
else
    echo "å¤‡ä»½å¤±è´¥"
    exit 1
fi
```

---

## 3. æ¢å¤æ–¹æ³•

### 3.1 å®Œæ•´æ¢å¤

```python
def restore_from_backup(backup_path, target_path):
    """ä»å¤‡ä»½æ¢å¤æ•°æ®åº“"""
    backup_path = Path(backup_path)
    target_path = Path(target_path)

    # å¦‚æœç›®æ ‡æ•°æ®åº“å­˜åœ¨ï¼Œå…ˆå¤‡ä»½
    if target_path.exists():
        old_backup = target_path.parent / f"{target_path.stem}_old_{datetime.now().strftime('%Y%m%d_%H%M%S')}.db"
        shutil.copy2(target_path, old_backup)
        print(f"å·²å¤‡ä»½ç°æœ‰æ•°æ®åº“åˆ°: {old_backup}")

    # æ¢å¤æ•°æ®åº“
    if backup_path.suffix == '.sql':
        # SQLè½¬å‚¨æ¢å¤
        conn = sqlite3.connect(str(target_path))
        with open(backup_path, 'r', encoding='utf-8') as f:
            sql_script = f.read()
            conn.executescript(sql_script)
        conn.close()
    else:
        # æ–‡ä»¶å¤åˆ¶æ¢å¤
        shutil.copy2(backup_path, target_path)

    # éªŒè¯æ¢å¤
    conn = sqlite3.connect(str(target_path))
    cursor = conn.cursor()
    cursor.execute("PRAGMA quick_check")
    result = cursor.fetchone()[0]
    conn.close()

    if result == 'ok':
        print("æ¢å¤æˆåŠŸå¹¶éªŒè¯é€šè¿‡")
        return True
    else:
        print(f"æ¢å¤éªŒè¯å¤±è´¥: {result}")
        return False
```

### 3.2 éƒ¨åˆ†æ¢å¤

```python
def partial_restore(backup_path, target_path, tables=None):
    """éƒ¨åˆ†æ¢å¤ï¼ˆåªæ¢å¤æŒ‡å®šè¡¨ï¼‰"""
    backup_conn = sqlite3.connect(str(backup_path))
    target_conn = sqlite3.connect(str(target_path))

    if tables is None:
        # è·å–æ‰€æœ‰è¡¨
        cursor = backup_conn.cursor()
        cursor.execute("""
            SELECT name
            FROM sqlite_master
            WHERE type='table'
            AND name NOT LIKE 'sqlite_%'
        """)
        tables = [row[0] for row in cursor.fetchall()]

    for table in tables:
        # åˆ é™¤ç›®æ ‡è¡¨ä¸­çš„æ•°æ®
        target_conn.execute(f"DELETE FROM {table}")

        # ä»å¤‡ä»½å¤åˆ¶æ•°æ®
        cursor = backup_conn.cursor()
        cursor.execute(f"SELECT * FROM {table}")
        rows = cursor.fetchall()

        # è·å–åˆ—å
        cursor.execute(f"PRAGMA table_info({table})")
        columns = [row[1] for row in cursor.fetchall()]

        # æ’å…¥æ•°æ®
        placeholders = ', '.join(['?'] * len(columns))
        insert_sql = f"INSERT INTO {table} ({', '.join(columns)}) VALUES ({placeholders})"
        target_conn.executemany(insert_sql, rows)

    target_conn.commit()
    backup_conn.close()
    target_conn.close()
```

### 3.3 æ—¶é—´ç‚¹æ¢å¤

æ—¶é—´ç‚¹æ¢å¤éœ€è¦ç»“åˆWALæ—¥å¿—å’Œæ£€æŸ¥ç‚¹ã€‚

```python
def point_in_time_restore(base_backup, wal_files, target_path, target_time):
    """æ—¶é—´ç‚¹æ¢å¤"""
    # æ¢å¤åŸºç¡€å¤‡ä»½
    shutil.copy2(base_backup, target_path)

    # åº”ç”¨WALæ–‡ä»¶ç›´åˆ°ç›®æ ‡æ—¶é—´
    conn = sqlite3.connect(str(target_path))
    cursor = conn.cursor()

    for wal_file in sorted(wal_files):
        # æ£€æŸ¥WALæ–‡ä»¶æ—¶é—´æˆ³
        wal_time = datetime.fromtimestamp(Path(wal_file).stat().st_mtime)
        if wal_time > target_time:
            break

        # åº”ç”¨WALæ–‡ä»¶
        # æ³¨æ„ï¼šè¿™éœ€è¦SQLiteçš„WALæ¢å¤æœºåˆ¶æ”¯æŒ
        # å®é™…å®ç°å¯èƒ½éœ€è¦ä½¿ç”¨sqlite3å‘½ä»¤è¡Œå·¥å…·æˆ–C API

    conn.close()
```

---

## 4. WALæ¨¡å¼å¤‡ä»½

### 4.1 WALæ¨¡å¼å¤‡ä»½ç­–ç•¥

```python
def wal_mode_backup(db_path, backup_path):
    """WALæ¨¡å¼ä¸‹çš„å¤‡ä»½"""
    conn = sqlite3.connect(str(db_path))
    cursor = conn.cursor()

    # 1. æ‰§è¡Œæ£€æŸ¥ç‚¹ï¼Œå°†WALå†…å®¹åˆå¹¶åˆ°æ•°æ®åº“
    cursor.execute("PRAGMA wal_checkpoint(TRUNCATE)")

    # 2. ç­‰å¾…æ£€æŸ¥ç‚¹å®Œæˆ
    while True:
        cursor.execute("PRAGMA wal_checkpoint(PASSIVE)")
        result = cursor.fetchone()
        if result[0] == 0 and result[1] == 0:  # æ£€æŸ¥ç‚¹å®Œæˆ
            break
        time.sleep(0.1)

    # 3. æ‰§è¡Œå¤‡ä»½
    backup = OnlineBackup(str(db_path), str(backup_path))
    success = backup.backup()

    conn.close()
    return success
```

### 4.2 æ£€æŸ¥ç‚¹ä¸å¤‡ä»½

```python
def checkpoint_and_backup(db_path, backup_path):
    """æ‰§è¡Œæ£€æŸ¥ç‚¹åå¤‡ä»½"""
    conn = sqlite3.connect(str(db_path))
    cursor = conn.cursor()

    # è·å–å½“å‰WALæ¨¡å¼
    cursor.execute("PRAGMA journal_mode")
    journal_mode = cursor.fetchone()[0]

    if journal_mode == 'wal':
        # WALæ¨¡å¼ï¼šæ‰§è¡Œæ£€æŸ¥ç‚¹
        cursor.execute("PRAGMA wal_checkpoint(TRUNCATE)")

        # éªŒè¯æ£€æŸ¥ç‚¹å®Œæˆ
        cursor.execute("PRAGMA wal_checkpoint(PASSIVE)")
        checkpoint_result = cursor.fetchone()

        if checkpoint_result[0] != 0 or checkpoint_result[1] != 0:
            print("è­¦å‘Š: æ£€æŸ¥ç‚¹æœªå®Œå…¨å®Œæˆ")

    conn.close()

    # æ‰§è¡Œå¤‡ä»½
    return wal_mode_backup(db_path, backup_path)
```

---

## 5. å¤‡ä»½éªŒè¯

### 5.1 å®Œæ•´æ€§éªŒè¯

```python
def verify_backup_integrity(backup_path):
    """éªŒè¯å¤‡ä»½å®Œæ•´æ€§"""
    conn = sqlite3.connect(str(backup_path))
    cursor = conn.cursor()

    # å¿«é€Ÿæ£€æŸ¥
    cursor.execute("PRAGMA quick_check")
    quick_result = cursor.fetchone()[0]

    if quick_result != 'ok':
        conn.close()
        return False, f"å¿«é€Ÿæ£€æŸ¥å¤±è´¥: {quick_result}"

    # å®Œæ•´æ£€æŸ¥
    cursor.execute("PRAGMA integrity_check")
    integrity_results = cursor.fetchall()

    conn.close()

    # æ£€æŸ¥æ˜¯å¦æœ‰é”™è¯¯
    for result in integrity_results:
        if result[0] != 'ok':
            return False, f"å®Œæ•´æ€§æ£€æŸ¥å¤±è´¥: {result[0]}"

    return True, "éªŒè¯é€šè¿‡"
```

### 5.2 ä¸€è‡´æ€§éªŒè¯

```python
def verify_backup_consistency(original_path, backup_path):
    """éªŒè¯å¤‡ä»½ä¸€è‡´æ€§"""
    orig_conn = sqlite3.connect(str(original_path))
    backup_conn = sqlite3.connect(str(backup_path))

    orig_cursor = orig_conn.cursor()
    backup_cursor = backup_conn.cursor()

    # è·å–æ‰€æœ‰è¡¨
    orig_cursor.execute("""
        SELECT name
        FROM sqlite_master
        WHERE type='table'
        AND name NOT LIKE 'sqlite_%'
    """)
    tables = [row[0] for row in orig_cursor.fetchall()]

    inconsistencies = []

    for table in tables:
        # æ¯”è¾ƒè¡Œæ•°
        orig_cursor.execute(f"SELECT COUNT(*) FROM {table}")
        orig_count = orig_cursor.fetchone()[0]

        backup_cursor.execute(f"SELECT COUNT(*) FROM {table}")
        backup_count = backup_cursor.fetchone()[0]

        if orig_count != backup_count:
            inconsistencies.append(f"è¡¨ {table}: è¡Œæ•°ä¸åŒ¹é… ({orig_count} vs {backup_count})")

    orig_conn.close()
    backup_conn.close()

    return len(inconsistencies) == 0, inconsistencies
```

---

## 6. è‡ªåŠ¨åŒ–å¤‡ä»½

### 6.1 å®šæ—¶å¤‡ä»½

```python
import schedule
import time

class AutomatedBackup:
    def __init__(self, db_path, backup_dir):
        self.backup_manager = SQLiteBackupManager(db_path, backup_dir)

    def daily_backup(self):
        """æ¯æ—¥å¤‡ä»½"""
        print(f"å¼€å§‹æ¯æ—¥å¤‡ä»½: {datetime.now()}")
        backup_path = self.backup_manager.full_backup()
        if backup_path:
            print(f"å¤‡ä»½å®Œæˆ: {backup_path}")
        else:
            print("å¤‡ä»½å¤±è´¥")

    def hourly_backup(self):
        """æ¯å°æ—¶å¤‡ä»½"""
        print(f"å¼€å§‹æ¯å°æ—¶å¤‡ä»½: {datetime.now()}")
        backup_path = self.backup_manager.full_backup()
        if backup_path:
            print(f"å¤‡ä»½å®Œæˆ: {backup_path}")

    def start_scheduler(self):
        """å¯åŠ¨å®šæ—¶å¤‡ä»½"""
        # æ¯å¤©å‡Œæ™¨2ç‚¹å¤‡ä»½
        schedule.every().day.at("02:00").do(self.daily_backup)

        # æ¯å°æ—¶å¤‡ä»½ï¼ˆå¯é€‰ï¼‰
        # schedule.every().hour.do(self.hourly_backup)

        print("å®šæ—¶å¤‡ä»½å·²å¯åŠ¨")
        while True:
            schedule.run_pending()
            time.sleep(60)
```

### 6.2 äº‹ä»¶é©±åŠ¨å¤‡ä»½

```python
class EventDrivenBackup:
    def __init__(self, db_path, backup_dir):
        self.db_path = db_path
        self.backup_manager = SQLiteBackupManager(db_path, backup_dir)
        self.last_backup_size = 0

    def check_and_backup(self):
        """æ£€æŸ¥å˜æ›´å¹¶å¤‡ä»½"""
        current_size = Path(self.db_path).stat().st_size

        # å¦‚æœæ•°æ®åº“å¤§å°å˜åŒ–è¶…è¿‡é˜ˆå€¼ï¼Œæ‰§è¡Œå¤‡ä»½
        if abs(current_size - self.last_backup_size) > 1024 * 1024:  # 1MB
            print("æ£€æµ‹åˆ°æ•°æ®åº“å˜æ›´ï¼Œæ‰§è¡Œå¤‡ä»½")
            backup_path = self.backup_manager.full_backup()
            if backup_path:
                self.last_backup_size = current_size
                return backup_path

        return None
```

---

## 7. ç¾éš¾æ¢å¤è®¡åˆ’

### 7.1 RTOä¸RPO

```text
ç¾éš¾æ¢å¤æŒ‡æ ‡
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

RTO (Recovery Time Objective) - æ¢å¤æ—¶é—´ç›®æ ‡
  â€¢ ç›®æ ‡: < 1å°æ—¶
  â€¢ æªæ–½: è‡ªåŠ¨åŒ–æ¢å¤è„šæœ¬ã€é¢„æµ‹è¯•æ¢å¤æµç¨‹

RPO (Recovery Point Objective) - æ¢å¤ç‚¹ç›®æ ‡
  â€¢ ç›®æ ‡: < 1å°æ—¶æ•°æ®ä¸¢å¤±
  â€¢ æªæ–½: æ¯å°æ—¶å¢é‡å¤‡ä»½ã€å®æ—¶WALå¤åˆ¶
```

### 7.2 æ¢å¤æµç¨‹

```python
class DisasterRecovery:
    def __init__(self, backup_dir):
        self.backup_dir = Path(backup_dir)

    def list_available_backups(self):
        """åˆ—å‡ºå¯ç”¨å¤‡ä»½"""
        backups = []
        for backup_file in sorted(self.backup_dir.glob("*.db"), reverse=True):
            backups.append({
                'path': backup_file,
                'time': datetime.fromtimestamp(backup_file.stat().st_mtime),
                'size': backup_file.stat().st_size
            })
        return backups

    def recover_to_latest(self, target_path):
        """æ¢å¤åˆ°æœ€æ–°å¤‡ä»½"""
        backups = self.list_available_backups()
        if not backups:
            raise Exception("æ²¡æœ‰å¯ç”¨çš„å¤‡ä»½")

        latest_backup = backups[0]
        print(f"æ¢å¤åˆ°å¤‡ä»½: {latest_backup['path']} ({latest_backup['time']})")

        return restore_from_backup(latest_backup['path'], target_path)

    def recover_to_point(self, target_path, target_time):
        """æ¢å¤åˆ°æŒ‡å®šæ—¶é—´ç‚¹"""
        backups = self.list_available_backups()

        # æ‰¾åˆ°æœ€æ¥è¿‘ç›®æ ‡æ—¶é—´çš„å¤‡ä»½
        best_backup = None
        min_diff = float('inf')

        for backup in backups:
            diff = abs((backup['time'] - target_time).total_seconds())
            if diff < min_diff:
                min_diff = diff
                best_backup = backup

        if best_backup:
            print(f"æ¢å¤åˆ°å¤‡ä»½: {best_backup['path']} ({best_backup['time']})")
            return restore_from_backup(best_backup['path'], target_path)
        else:
            raise Exception("æœªæ‰¾åˆ°åˆé€‚çš„å¤‡ä»½")
```

---

## 8. å¤‡ä»½æœ€ä½³å®è·µ

### 8.1 å¤‡ä»½ç­–ç•¥

1. **3-2-1è§„åˆ™**
   - 3ä»½å¤‡ä»½å‰¯æœ¬
   - 2ç§ä¸åŒä»‹è´¨
   - 1ä»½å¼‚åœ°å¤‡ä»½

2. **å¤‡ä»½é¢‘ç‡**
   - ç”Ÿäº§ç¯å¢ƒï¼šæ¯å°æ—¶å¢é‡å¤‡ä»½ + æ¯æ—¥å®Œæ•´å¤‡ä»½
   - å¼€å‘ç¯å¢ƒï¼šæ¯æ—¥å®Œæ•´å¤‡ä»½

3. **å¤‡ä»½éªŒè¯**
   - æ¯æ¬¡å¤‡ä»½åç«‹å³éªŒè¯
   - å®šæœŸæµ‹è¯•æ¢å¤æµç¨‹

4. **å¤‡ä»½å­˜å‚¨**
   - æœ¬åœ°å¤‡ä»½ï¼šå¿«é€Ÿæ¢å¤
   - è¿œç¨‹å¤‡ä»½ï¼šç¾éš¾æ¢å¤
   - ç‰ˆæœ¬æ§åˆ¶ï¼šä¿ç•™å¤šä¸ªç‰ˆæœ¬

### 8.2 æ¢å¤æµ‹è¯•

```python
def test_recovery_process(backup_dir, test_db_path):
    """æµ‹è¯•æ¢å¤æµç¨‹"""
    dr = DisasterRecovery(backup_dir)

    # åˆ—å‡ºå¤‡ä»½
    backups = dr.list_available_backups()
    print(f"å¯ç”¨å¤‡ä»½æ•°é‡: {len(backups)}")

    # æµ‹è¯•æ¢å¤åˆ°æœ€æ–°
    test_path = Path(test_db_path)
    if test_path.exists():
        test_path.unlink()

    success = dr.recover_to_latest(test_db_path)

    if success:
        # éªŒè¯æ¢å¤çš„æ•°æ®åº“
        conn = sqlite3.connect(test_db_path)
        cursor = conn.cursor()
        cursor.execute("PRAGMA quick_check")
        result = cursor.fetchone()[0]
        conn.close()

        if result == 'ok':
            print("æ¢å¤æµ‹è¯•æˆåŠŸ")
            return True

    print("æ¢å¤æµ‹è¯•å¤±è´¥")
    return False
```

---

## 9. ğŸ”— ç›¸å…³èµ„æº

### å†…éƒ¨èµ„æº

- [ç”Ÿäº§ç¯å¢ƒç›‘æ§ä¸è¯Šæ–­](./08.13-SQLiteç”Ÿäº§ç¯å¢ƒç›‘æ§ä¸è¯Šæ–­.md) - ç›‘æ§å’Œè¯Šæ–­å·¥å…·
- [é”™è¯¯å¤„ç†](./08.05-é”™è¯¯å¤„ç†.md) - é”™è¯¯å¤„ç†å’Œæ¢å¤
- [PRAGMAé…ç½®](./08.04-PRAGMAé…ç½®.md) - WALæ¨¡å¼é…ç½®
- [äº‹åŠ¡ç®¡ç†](./08.02-äº‹åŠ¡ç®¡ç†.md) - äº‹åŠ¡å’Œä¸€è‡´æ€§

### å¤–éƒ¨èµ„æº

- [SQLiteå®˜æ–¹æ–‡æ¡£ - Online Backup API](https://www.sqlite.org/backup.html)
- [SQLiteå®˜æ–¹æ–‡æ¡£ - WALæ¨¡å¼](https://www.sqlite.org/wal.html)
- [SQLiteå®˜æ–¹æ–‡æ¡£ - æ£€æŸ¥ç‚¹](https://www.sqlite.org/wal.html#checkpointing)

---

## ğŸ”— äº¤å‰å¼•ç”¨

### ç¼–ç¨‹å®è·µæ–‡æ¡£

- â­â­â­ [ç”Ÿäº§ç¯å¢ƒç›‘æ§ä¸è¯Šæ–­](./08.13-SQLiteç”Ÿäº§ç¯å¢ƒç›‘æ§ä¸è¯Šæ–­.md) - ç›‘æ§å’Œè¯Šæ–­å·¥å…·ï¼ˆå«äº¤å‰å¼•ç”¨ï¼‰
- â­â­ [é”™è¯¯å¤„ç†](./08.05-é”™è¯¯å¤„ç†.md) - é”™è¯¯å¤„ç†å’Œæ¢å¤ï¼ˆå«äº¤å‰å¼•ç”¨ï¼‰
- â­â­ [å®‰å…¨ä¸åŠ å¯†](./08.15-SQLiteå®‰å…¨ä¸åŠ å¯†å®Œæ•´æŒ‡å—.md) - å¤‡ä»½åŠ å¯†ï¼ˆå«äº¤å‰å¼•ç”¨ï¼‰

### æ ¸å¿ƒæ¶æ„æ–‡æ¡£ ğŸ†•

- â­â­â­ [äº‹åŠ¡ä¸å¹¶å‘æ§åˆ¶](../01-æ ¸å¿ƒæ¶æ„/01.02-äº‹åŠ¡ä¸å¹¶å‘æ§åˆ¶.md) - WALæ¨¡å¼å¤‡ä»½åŸºç¡€ï¼ˆå«è®ºè¯è„‰ç»œï¼‰
- â­â­ [å­˜å‚¨å¼•æ“](../01-æ ¸å¿ƒæ¶æ„/01.03-å­˜å‚¨å¼•æ“.md) - å­˜å‚¨å¤‡ä»½åŸºç¡€

### å½¢å¼åŒ–ç†è®ºæ–‡æ¡£ ğŸ†•

- â­â­ [WALæ¨¡å¼å½¢å¼åŒ–éªŒè¯](../06-å½¢å¼åŒ–ç†è®º/06.04-WALæ¨¡å¼å½¢å¼åŒ–éªŒè¯.md) - WALæ¢å¤ç†è®ºï¼ˆå«äº¤å‰å¼•ç”¨ï¼‰
- â­â­ [ACIDåŸå­æ€§è¯æ˜](../06-å½¢å¼åŒ–ç†è®º/06.01-ACIDåŸå­æ€§è¯æ˜.md) - æ¢å¤åŸå­æ€§ç†è®º

### çŸ¥è¯†å›¾è°±ä¸å¯¼èˆª ğŸ†•

- â­â­â­ [çŸ¥è¯†å›¾è°±ä¸æ¦‚å¿µå…³ç³»ç½‘ç»œ](../09-æœ€æ–°ç‰¹æ€§/09.03-SQLiteçŸ¥è¯†å›¾è°±ä¸æ¦‚å¿µå…³ç³»ç½‘ç»œ.md) - å¤‡ä»½æ¢å¤æ¦‚å¿µå…³ç³»ï¼ˆ400+æ¦‚å¿µï¼‰
- â­â­ [æ–‡æ¡£ä¾èµ–å…³ç³»å›¾](../00-é¡¹ç›®å¯¼èˆª/06-æ–‡æ¡£ä¾èµ–å…³ç³»å›¾.md) - å¤‡ä»½æ¢å¤æ–‡æ¡£ä¾èµ–
- â­â­ [æœ¯è¯­æ ‡å‡†åŒ–è¯å…¸](../00-é¡¹ç›®å¯¼èˆª/03-æœ¯è¯­è¯å…¸/SQLiteæœ¯è¯­æ ‡å‡†åŒ–è¯å…¸.md) - å¤‡ä»½æ¢å¤æœ¯è¯­ç´¢å¼•

### ç›¸å…³æ¦‚å¿µé“¾æ¥ ğŸ†•

#### å¤‡ä»½æ¢å¤æ¦‚å¿µ

- **å¤‡ä»½æ¢å¤** â†’ [çŸ¥è¯†å›¾è°±ï¼šå¼€å‘å®è·µæœ¬ä½“](../09-æœ€æ–°ç‰¹æ€§/09.03-SQLiteçŸ¥è¯†å›¾è°±ä¸æ¦‚å¿µå…³ç³»ç½‘ç»œ.md#å¼€å‘å®è·µæœ¬ä½“)
- **WALå¤‡ä»½** â†’ [çŸ¥è¯†å›¾è°±ï¼šWALæœºåˆ¶](../09-æœ€æ–°ç‰¹æ€§/09.03-SQLiteçŸ¥è¯†å›¾è°±ä¸æ¦‚å¿µå…³ç³»ç½‘ç»œ.md#æ ¸å¿ƒæœ¬ä½“walæœºåˆ¶)
- **å´©æºƒæ¢å¤** â†’ [çŸ¥è¯†å›¾è°±ï¼šå´©æºƒæ¢å¤æ¦‚å¿µ](../09-æœ€æ–°ç‰¹æ€§/09.03-SQLiteçŸ¥è¯†å›¾è°±ä¸æ¦‚å¿µå…³ç³»ç½‘ç»œ.md#æ ¸å¿ƒæœ¬ä½“walæœºåˆ¶)

---

**æœ€åæ›´æ–°**: 2025-12-05
**ç»´æŠ¤è€…**: Data-Science Team
