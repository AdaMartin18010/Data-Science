# 9.2.1 å¾®æœåŠ¡åŸºç¡€ç†è®ºæ·±åŒ–

## ğŸ“‘ ç›®å½•

- [9.2.1 å¾®æœåŠ¡åŸºç¡€ç†è®ºæ·±åŒ–](#921-å¾®æœåŠ¡åŸºç¡€ç†è®ºæ·±åŒ–)
  - [ğŸ“‘ ç›®å½•](#-ç›®å½•)
  - [1. ç›®å½•](#1-ç›®å½•)
  - [2. ç†è®ºåŸºç¡€](#2-ç†è®ºåŸºç¡€)
    - [2.1. å¾®æœåŠ¡æ¶æ„æ¦‚è¿°](#21-å¾®æœåŠ¡æ¶æ„æ¦‚è¿°)
    - [2.2. æ ¸å¿ƒåŸåˆ™](#22-æ ¸å¿ƒåŸåˆ™)
  - [3. æ¶æ„è®¾è®¡](#3-æ¶æ„è®¾è®¡)
    - [3.1. æœåŠ¡æ‹†åˆ†ç­–ç•¥](#31-æœåŠ¡æ‹†åˆ†ç­–ç•¥)
  - [4. æœåŠ¡é€šä¿¡æ¨¡å¼](#4-æœåŠ¡é€šä¿¡æ¨¡å¼)
    - [4.1. åŒæ­¥é€šä¿¡](#41-åŒæ­¥é€šä¿¡)
  - [5. å¼‚æ­¥é€šä¿¡](#5-å¼‚æ­¥é€šä¿¡)
  - [6. æ•°æ®ç®¡ç†](#6-æ•°æ®ç®¡ç†)
    - [6.1. æ•°æ®åº“è®¾è®¡](#61-æ•°æ®åº“è®¾è®¡)
    - [6.2. æ•°æ®ä¸€è‡´æ€§](#62-æ•°æ®ä¸€è‡´æ€§)
  - [7. æœåŠ¡å‘ç°ä¸é…ç½®](#7-æœåŠ¡å‘ç°ä¸é…ç½®)
    - [7.1. æœåŠ¡æ³¨å†Œ](#71-æœåŠ¡æ³¨å†Œ)
  - [8. é…ç½®ç®¡ç†](#8-é…ç½®ç®¡ç†)
  - [9. éƒ¨ç½²ç­–ç•¥](#9-éƒ¨ç½²ç­–ç•¥)
    - [9.1. å®¹å™¨åŒ–éƒ¨ç½²](#91-å®¹å™¨åŒ–éƒ¨ç½²)
  - [10. Kuberneteséƒ¨ç½²](#10-kuberneteséƒ¨ç½²)
  - [11. ç›‘æ§ä¸å¯è§‚æµ‹æ€§](#11-ç›‘æ§ä¸å¯è§‚æµ‹æ€§)
    - [11.1. æ—¥å¿—ç®¡ç†](#111-æ—¥å¿—ç®¡ç†)
  - [12. åˆ†å¸ƒå¼è¿½è¸ª](#12-åˆ†å¸ƒå¼è¿½è¸ª)
  - [13. å®‰å…¨ä¸è®¤è¯](#13-å®‰å…¨ä¸è®¤è¯)
    - [13.1. APIç½‘å…³å®‰å…¨](#131-apiç½‘å…³å®‰å…¨)
  - [14. æœ€ä½³å®è·µ](#14-æœ€ä½³å®è·µ)
    - [14.1. æœåŠ¡è®¾è®¡åŸåˆ™](#141-æœåŠ¡è®¾è®¡åŸåˆ™)
    - [14.2. é€šä¿¡è®¾è®¡](#142-é€šä¿¡è®¾è®¡)
    - [14.3. *æ•°æ®ç®¡ç†*](#143-æ•°æ®ç®¡ç†)
    - [14.4. *éƒ¨ç½²ç­–ç•¥*](#144-éƒ¨ç½²ç­–ç•¥)
  - [15. æ€»ç»“](#15-æ€»ç»“)

---


## 1. ç›®å½•

- [9.2.1 å¾®æœåŠ¡åŸºç¡€ç†è®ºæ·±åŒ–](#921-å¾®æœåŠ¡åŸºç¡€ç†è®ºæ·±åŒ–)
  - [ğŸ“‘ ç›®å½•](#-ç›®å½•)
  - [1. ç›®å½•](#1-ç›®å½•)
  - [2. ç†è®ºåŸºç¡€](#2-ç†è®ºåŸºç¡€)
    - [2.1. å¾®æœåŠ¡æ¶æ„æ¦‚è¿°](#21-å¾®æœåŠ¡æ¶æ„æ¦‚è¿°)
    - [2.2. æ ¸å¿ƒåŸåˆ™](#22-æ ¸å¿ƒåŸåˆ™)
  - [3. æ¶æ„è®¾è®¡](#3-æ¶æ„è®¾è®¡)
    - [3.1. æœåŠ¡æ‹†åˆ†ç­–ç•¥](#31-æœåŠ¡æ‹†åˆ†ç­–ç•¥)
  - [4. æœåŠ¡é€šä¿¡æ¨¡å¼](#4-æœåŠ¡é€šä¿¡æ¨¡å¼)
    - [4.1. åŒæ­¥é€šä¿¡](#41-åŒæ­¥é€šä¿¡)
  - [5. å¼‚æ­¥é€šä¿¡](#5-å¼‚æ­¥é€šä¿¡)
  - [6. æ•°æ®ç®¡ç†](#6-æ•°æ®ç®¡ç†)
    - [6.1. æ•°æ®åº“è®¾è®¡](#61-æ•°æ®åº“è®¾è®¡)
    - [6.2. æ•°æ®ä¸€è‡´æ€§](#62-æ•°æ®ä¸€è‡´æ€§)
  - [7. æœåŠ¡å‘ç°ä¸é…ç½®](#7-æœåŠ¡å‘ç°ä¸é…ç½®)
    - [7.1. æœåŠ¡æ³¨å†Œ](#71-æœåŠ¡æ³¨å†Œ)
  - [8. é…ç½®ç®¡ç†](#8-é…ç½®ç®¡ç†)
  - [9. éƒ¨ç½²ç­–ç•¥](#9-éƒ¨ç½²ç­–ç•¥)
    - [9.1. å®¹å™¨åŒ–éƒ¨ç½²](#91-å®¹å™¨åŒ–éƒ¨ç½²)
  - [10. Kuberneteséƒ¨ç½²](#10-kuberneteséƒ¨ç½²)
  - [11. ç›‘æ§ä¸å¯è§‚æµ‹æ€§](#11-ç›‘æ§ä¸å¯è§‚æµ‹æ€§)
    - [11.1. æ—¥å¿—ç®¡ç†](#111-æ—¥å¿—ç®¡ç†)
  - [12. åˆ†å¸ƒå¼è¿½è¸ª](#12-åˆ†å¸ƒå¼è¿½è¸ª)
  - [13. å®‰å…¨ä¸è®¤è¯](#13-å®‰å…¨ä¸è®¤è¯)
    - [13.1. APIç½‘å…³å®‰å…¨](#131-apiç½‘å…³å®‰å…¨)
  - [14. æœ€ä½³å®è·µ](#14-æœ€ä½³å®è·µ)
    - [14.1. æœåŠ¡è®¾è®¡åŸåˆ™](#141-æœåŠ¡è®¾è®¡åŸåˆ™)
    - [14.2. é€šä¿¡è®¾è®¡](#142-é€šä¿¡è®¾è®¡)
    - [14.3. *æ•°æ®ç®¡ç†*](#143-æ•°æ®ç®¡ç†)
    - [14.4. *éƒ¨ç½²ç­–ç•¥*](#144-éƒ¨ç½²ç­–ç•¥)
  - [15. æ€»ç»“](#15-æ€»ç»“)

## 2. ç†è®ºåŸºç¡€

### 2.1. å¾®æœåŠ¡æ¶æ„æ¦‚è¿°

å¾®æœåŠ¡æ¶æ„æ˜¯ä¸€ç§å°†å•ä½“åº”ç”¨ç¨‹åºåˆ†è§£ä¸ºä¸€ç³»åˆ—å°å‹ã€ç‹¬ç«‹çš„æœåŠ¡çš„æ¶æ„é£æ ¼ï¼š

- **æœåŠ¡è‡ªæ²»**ï¼šæ¯ä¸ªæœåŠ¡ç‹¬ç«‹å¼€å‘ã€éƒ¨ç½²ã€æ‰©å±•
- **æŠ€æœ¯å¤šæ ·æ€§**ï¼šä¸åŒæœåŠ¡å¯ä»¥ä½¿ç”¨ä¸åŒçš„æŠ€æœ¯æ ˆ
- **æ•°æ®éš”ç¦»**ï¼šæ¯ä¸ªæœåŠ¡ç®¡ç†è‡ªå·±çš„æ•°æ®
- **æ•…éšœéš”ç¦»**ï¼šå•ä¸ªæœåŠ¡æ•…éšœä¸å½±å“æ•´ä½“ç³»ç»Ÿ

### 2.2. æ ¸å¿ƒåŸåˆ™

- **å•ä¸€èŒè´£**ï¼šæ¯ä¸ªæœåŠ¡ä¸“æ³¨äºç‰¹å®šä¸šåŠ¡åŠŸèƒ½
- **æœåŠ¡ç‹¬ç«‹**ï¼šæœåŠ¡é—´æ¾è€¦åˆï¼Œç‹¬ç«‹éƒ¨ç½²
- **æ•°æ®è‡ªæ²»**ï¼šæ¯ä¸ªæœåŠ¡æ‹¥æœ‰è‡ªå·±çš„æ•°æ®
- **æŠ€æœ¯å¤šæ ·æ€§**ï¼šæ”¯æŒä¸åŒæŠ€æœ¯æ ˆçš„é€‰æ‹©

## 3. æ¶æ„è®¾è®¡

### 3.1. æœåŠ¡æ‹†åˆ†ç­–ç•¥

```java
// é¢†åŸŸé©±åŠ¨è®¾è®¡ç¤ºä¾‹
public class OrderService {
    private OrderRepository orderRepository;
    private PaymentService paymentService;
    private InventoryService inventoryService;

    public Order createOrder(CreateOrderRequest request) {
        // è®¢å•åˆ›å»ºé€»è¾‘
        Order order = new Order(request.getCustomerId(), request.getItems());

        // è°ƒç”¨æ”¯ä»˜æœåŠ¡
        PaymentResult payment = paymentService.processPayment(order.getTotal());

        // è°ƒç”¨åº“å­˜æœåŠ¡
        inventoryService.reserveItems(order.getItems());

        return orderRepository.save(order);
    }
}
```

```python
# Pythonå¾®æœåŠ¡ç¤ºä¾‹
from abc import ABC, abstractmethod
from typing import List, Dict, Any

class OrderService:
    def __init__(self, order_repository, payment_service, inventory_service):
        self.order_repository = order_repository
        self.payment_service = payment_service
        self.inventory_service = inventory_service

    def create_order(self, request: Dict[str, Any]) -> Dict[str, Any]:
# è®¢å•åˆ›å»ºé€»è¾‘
        order = {
            'customer_id': request['customer_id'],
            'items': request['items'],
            'total': sum(item['price'] for item in request['items'])
        }

# è°ƒç”¨æ”¯ä»˜æœåŠ¡
        payment_result = self.payment_service.process_payment(order['total'])

# è°ƒç”¨åº“å­˜æœåŠ¡
        self.inventory_service.reserve_items(order['items'])

        return self.order_repository.save(order)
```

## 4. æœåŠ¡é€šä¿¡æ¨¡å¼

### 4.1. åŒæ­¥é€šä¿¡

```java
// REST APIé€šä¿¡
@RestController
@RequestMapping("/api/orders")
public class OrderController {

    @Autowired
    private PaymentService paymentService;

    @PostMapping
    public ResponseEntity<Order> createOrder(@RequestBody CreateOrderRequest request) {
        // è°ƒç”¨æ”¯ä»˜æœåŠ¡
        PaymentResult payment = paymentService.processPayment(request.getAmount());

        if (payment.isSuccess()) {
            Order order = orderService.createOrder(request);
            return ResponseEntity.ok(order);
        } else {
            return ResponseEntity.badRequest().build();
        }
    }
}
```

```python
# Python REST APIé€šä¿¡
import requests
from flask import Flask, request, jsonify

app = Flask(__name__)

class OrderController:
    def __init__(self, payment_service_url):
        self.payment_service_url = payment_service_url

    def create_order(self, request_data):
# è°ƒç”¨æ”¯ä»˜æœåŠ¡
        payment_response = requests.post(
            f"{self.payment_service_url}/payments",
            json={'amount': request_data['amount']}
        )

        if payment_response.status_code == 200:
# åˆ›å»ºè®¢å•
            order = self.create_order_internal(request_data)
            return jsonify(order), 200
        else:
            return jsonify({'error': 'Payment failed'}), 400

@app.route('/api/orders', methods=['POST'])
def create_order():
    controller = OrderController('http://payment-service:8080')
    return controller.create_order(request.json)
```

## 5. å¼‚æ­¥é€šä¿¡

```java
// æ¶ˆæ¯é˜Ÿåˆ—é€šä¿¡
@Service
public class OrderService {

    @Autowired
    private RabbitTemplate rabbitTemplate;

    public void createOrder(CreateOrderRequest request) {
        Order order = orderRepository.save(new Order(request));

        // å‘é€å¼‚æ­¥æ¶ˆæ¯
        OrderCreatedEvent event = new OrderCreatedEvent(order.getId());
        rabbitTemplate.convertAndSend("order.exchange", "order.created", event);
    }
}

@Component
public class PaymentEventHandler {

    @RabbitListener(queues = "payment.queue")
    public void handleOrderCreated(OrderCreatedEvent event) {
        // å¤„ç†è®¢å•åˆ›å»ºäº‹ä»¶
        paymentService.processPayment(event.getOrderId());
    }
}
```

```python
# Pythonæ¶ˆæ¯é˜Ÿåˆ—é€šä¿¡
import pika
import json

class OrderService:
    def __init__(self, order_repository, rabbitmq_connection):
        self.order_repository = order_repository
        self.rabbitmq_connection = rabbitmq_connection

    def create_order(self, request_data):
        order = self.order_repository.save(request_data)

# å‘é€å¼‚æ­¥æ¶ˆæ¯
        event = {
            'order_id': order['id'],
            'event_type': 'order_created'
        }

        channel = self.rabbitmq_connection.channel()
        channel.basic_publish(
            exchange='order.exchange',
            routing_key='order.created',
            body=json.dumps(event)
        )

        return order

class PaymentEventHandler:
    def __init__(self, payment_service):
        self.payment_service = payment_service

    def handle_order_created(self, event):
# å¤„ç†è®¢å•åˆ›å»ºäº‹ä»¶
        self.payment_service.process_payment(event['order_id'])
```

## 6. æ•°æ®ç®¡ç†

### 6.1. æ•°æ®åº“è®¾è®¡

```sql
-- è®¢å•æœåŠ¡æ•°æ®åº“
CREATE TABLE orders (
    id BIGINT PRIMARY KEY,
    customer_id BIGINT NOT NULL,
    total_amount DECIMAL(10,2) NOT NULL,
    status VARCHAR(20) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE order_items (
    id BIGINT PRIMARY KEY,
    order_id BIGINT NOT NULL,
    product_id BIGINT NOT NULL,
    quantity INT NOT NULL,
    price DECIMAL(10,2) NOT NULL,
    FOREIGN KEY (order_id) REFERENCES orders(id)
);

-- ç”¨æˆ·æœåŠ¡æ•°æ®åº“
CREATE TABLE users (
    id BIGINT PRIMARY KEY,
    username VARCHAR(50) UNIQUE NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### 6.2. æ•°æ®ä¸€è‡´æ€§

```java
// Sagaæ¨¡å¼å®ç°
public class OrderSaga {

    private final List<SagaStep> steps = Arrays.asList(
        new ReserveInventoryStep(),
        new ProcessPaymentStep(),
        new ConfirmOrderStep()
    );

    public void execute(CreateOrderRequest request) {
        SagaContext context = new SagaContext(request);

        for (SagaStep step : steps) {
            try {
                step.execute(context);
            } catch (Exception e) {
                // è¡¥å¿æ“ä½œ
                compensate(context, step);
                throw e;
            }
        }
    }

    private void compensate(SagaContext context, SagaStep failedStep) {
        // æ‰§è¡Œè¡¥å¿é€»è¾‘
        for (SagaStep step : steps) {
            if (step == failedStep) {
                break;
            }
            step.compensate(context);
        }
    }
}
```

```python
# Python Sagaæ¨¡å¼
class OrderSaga:
    def __init__(self):
        self.steps = [
            ReserveInventoryStep(),
            ProcessPaymentStep(),
            ConfirmOrderStep()
        ]

    def execute(self, request):
        context = SagaContext(request)

        try:
            for step in self.steps:
                step.execute(context)
        except Exception as e:
# è¡¥å¿æ“ä½œ
            self.compensate(context, step)
            raise e

    def compensate(self, context, failed_step):
# æ‰§è¡Œè¡¥å¿é€»è¾‘
        for step in self.steps:
            if step == failed_step:
                break
            step.compensate(context)
```

## 7. æœåŠ¡å‘ç°ä¸é…ç½®

### 7.1. æœåŠ¡æ³¨å†Œ

```java
// EurekaæœåŠ¡æ³¨å†Œ
@SpringBootApplication
@EnableEurekaServer
public class EurekaServerApplication {
    public static void main(String[] args) {
        SpringApplication.run(EurekaServerApplication.class, args);
    }
}

@SpringBootApplication
@EnableDiscoveryClient
public class OrderServiceApplication {
    public static void main(String[] args) {
        SpringApplication.run(OrderServiceApplication.class, args);
    }
}
```

```yaml
# application.yml
spring:
  application:
    name: order-service
  cloud:
    discovery:
      enabled: true
eureka:
  client:
    service-url:
      defaultZone: http://localhost:8761/eureka/
  instance:
    prefer-ip-address: true
```

## 8. é…ç½®ç®¡ç†

```java
// Spring Cloud Config
@RefreshScope
@RestController
public class OrderController {

    @Value("${order.max-items}")
    private int maxItems;

    @Value("${order.timeout}")
    private int timeout;

    @PostMapping("/orders")
    public Order createOrder(@RequestBody CreateOrderRequest request) {
        if (request.getItems().size() > maxItems) {
            throw new IllegalArgumentException("Too many items");
        }
        // åˆ›å»ºè®¢å•é€»è¾‘
    }
}
```

```yaml
# config/order-service.yml
order:
  max-items: 10
  timeout: 30
  retry:
    max-attempts: 3
    backoff: 1000
```

## 9. éƒ¨ç½²ç­–ç•¥

### 9.1. å®¹å™¨åŒ–éƒ¨ç½²

```dockerfile
# Dockerfile
FROM openjdk:11-jre-slim
COPY target/order-service.jar app.jar
EXPOSE 8080
ENTRYPOINT ["java", "-jar", "/app.jar"]
```

```yaml
# docker-compose.yml
version: '3.8'
services:
  order-service:
    build: ./order-service
    ports:
      - "8080:8080"
    environment:
      - SPRING_PROFILES_ACTIVE=docker
      - EUREKA_CLIENT_SERVICEURL_DEFAULTZONE=http://eureka:8761/eureka/
    depends_on:
      - eureka
      - mysql

  payment-service:
    build: ./payment-service
    ports:
      - "8081:8080"
    environment:
      - SPRING_PROFILES_ACTIVE=docker
    depends_on:
      - eureka
      - mysql

  eureka:
    build: ./eureka-server
    ports:
      - "8761:8760"

  mysql:
    image: mysql:8.0
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: orders
    ports:
      - "3306:3306"
```

## 10. Kuberneteséƒ¨ç½²

```yaml
# order-service-deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: order-service
spec:
  replicas: 3
  selector:
    matchLabels:
      app: order-service
  template:
    metadata:
      labels:
        app: order-service
    spec:
      containers:
      - name: order-service
        image: order-service:latest
        ports:
        - containerPort: 8080
        env:
        - name: SPRING_PROFILES_ACTIVE
          value: "kubernetes"
        - name: EUREKA_CLIENT_SERVICEURL_DEFAULTZONE
          value: "http://eureka-service:8761/eureka/"
---
apiVersion: v1
kind: Service
metadata:
  name: order-service
spec:
  selector:
    app: order-service
  ports:
  - port: 80
    targetPort: 8080
  type: ClusterIP
```

## 11. ç›‘æ§ä¸å¯è§‚æµ‹æ€§

### 11.1. æ—¥å¿—ç®¡ç†

```java
// ç»“æ„åŒ–æ—¥å¿—
@Slf4j
@Service
public class OrderService {

    public Order createOrder(CreateOrderRequest request) {
        log.info("Creating order for customer: {}", request.getCustomerId());

        try {
            Order order = orderRepository.save(new Order(request));
            log.info("Order created successfully: {}", order.getId());
            return order;
        } catch (Exception e) {
            log.error("Failed to create order for customer: {}",
                     request.getCustomerId(), e);
            throw e;
        }
    }
}
```

```python
# Pythonç»“æ„åŒ–æ—¥å¿—
import logging
import json

class OrderService:
    def __init__(self):
        self.logger = logging.getLogger(__name__)

    def create_order(self, request):
        self.logger.info("Creating order", extra={
            'customer_id': request['customer_id'],
            'items_count': len(request['items'])
        })

        try:
            order = self.order_repository.save(request)
            self.logger.info("Order created successfully", extra={
                'order_id': order['id']
            })
            return order
        except Exception as e:
            self.logger.error("Failed to create order", extra={
                'customer_id': request['customer_id'],
                'error': str(e)
            })
            raise
```

## 12. åˆ†å¸ƒå¼è¿½è¸ª

```java
// Spring Cloud Sleuth
@RestController
public class OrderController {

    @Autowired
    private PaymentService paymentService;

    @PostMapping("/orders")
    public Order createOrder(@RequestBody CreateOrderRequest request) {
        // è‡ªåŠ¨ç”Ÿæˆtrace ID
        log.info("Processing order request");

        Order order = orderService.createOrder(request);

        // è°ƒç”¨æ”¯ä»˜æœåŠ¡ï¼Œtrace IDä¼šè‡ªåŠ¨ä¼ é€’
        PaymentResult payment = paymentService.processPayment(order.getTotal());

        return order;
    }
}
```

```python
# Pythonåˆ†å¸ƒå¼è¿½è¸ª
from opentelemetry import trace
from opentelemetry.trace import Status, StatusCode

class OrderService:
    def __init__(self):
        self.tracer = trace.get_tracer(__name__)

    def create_order(self, request):
        with self.tracer.start_as_current_span("create_order") as span:
            span.set_attribute("customer_id", request['customer_id'])
            span.set_attribute("items_count", len(request['items']))

            try:
                order = self.order_repository.save(request)
                span.set_attribute("order_id", order['id'])
                span.set_status(Status(StatusCode.OK))
                return order
            except Exception as e:
                span.set_status(Status(StatusCode.ERROR, str(e)))
                raise
```

## 13. å®‰å…¨ä¸è®¤è¯

### 13.1. APIç½‘å…³å®‰å…¨

```java
// Spring Cloud Gateway
@Configuration
public class GatewayConfig {

    @Bean
    public RouteLocator customRouteLocator(RouteLocatorBuilder builder) {
        return builder.routes()
            .route("order-service", r -> r
                .path("/api/orders/**")
                .filters(f -> f
                    .addRequestHeader("X-Response-Time", System.currentTimeMillis() + "")
                    .circuitBreaker(config -> config
                        .setName("order-service")
                        .setFallbackUri("forward:/fallback")))
                .uri("lb://order-service"))
            .build();
    }
}
```

```yaml
# application.yml
spring:
  cloud:
    gateway:
      routes:
      - id: order-service
        uri: lb://order-service
        predicates:
        - Path=/api/orders/**
        filters:
        - name: CircuitBreaker
          args:
            name: order-service
            fallbackUri: forward:/fallback
        - name: RequestRateLimiter
          args:
            redis-rate-limiter.replenishRate: 10
            redis-rate-limiter.burstCapacity: 20
```

## 14. æœ€ä½³å®è·µ

### 14.1. æœåŠ¡è®¾è®¡åŸåˆ™

1. **å•ä¸€èŒè´£**ï¼šæ¯ä¸ªæœåŠ¡ä¸“æ³¨äºç‰¹å®šä¸šåŠ¡åŠŸèƒ½
2. **æœåŠ¡è‡ªæ²»**ï¼šæœåŠ¡ç‹¬ç«‹å¼€å‘ã€éƒ¨ç½²ã€æ‰©å±•
3. **æ•°æ®éš”ç¦»**ï¼šæ¯ä¸ªæœåŠ¡ç®¡ç†è‡ªå·±çš„æ•°æ®
4. **æ•…éšœéš”ç¦»**ï¼šå•ä¸ªæœåŠ¡æ•…éšœä¸å½±å“æ•´ä½“ç³»ç»Ÿ

### 14.2. é€šä¿¡è®¾è®¡

1. **åŒæ­¥é€šä¿¡**ï¼šä½¿ç”¨REST APIæˆ–gRPC
2. **å¼‚æ­¥é€šä¿¡**ï¼šä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—
3. **æœåŠ¡å‘ç°**ï¼šä½¿ç”¨æœåŠ¡æ³¨å†Œä¸­å¿ƒ
4. **è´Ÿè½½å‡è¡¡**ï¼šä½¿ç”¨å®¢æˆ·ç«¯æˆ–æœåŠ¡ç«¯è´Ÿè½½å‡è¡¡

### 14.3. *æ•°æ®ç®¡ç†*

1. **æ•°æ®åº“ per æœåŠ¡**ï¼šæ¯ä¸ªæœåŠ¡ç‹¬ç«‹çš„æ•°æ®åº“
2. **æœ€ç»ˆä¸€è‡´æ€§**ï¼šä½¿ç”¨Sagaæ¨¡å¼å¤„ç†åˆ†å¸ƒå¼äº‹åŠ¡
3. **æ•°æ®åŒæ­¥**ï¼šä½¿ç”¨äº‹ä»¶é©±åŠ¨æ¶æ„åŒæ­¥æ•°æ®
4. **ç¼“å­˜ç­–ç•¥**ï¼šåˆç†ä½¿ç”¨ç¼“å­˜æé«˜æ€§èƒ½

### 14.4. *éƒ¨ç½²ç­–ç•¥*

1. **å®¹å™¨åŒ–**ï¼šä½¿ç”¨Dockerå®¹å™¨åŒ–åº”ç”¨
2. **ç¼–æ’**ï¼šä½¿ç”¨Kubernetesè¿›è¡Œå®¹å™¨ç¼–æ’
3. **CI/CD**ï¼šè‡ªåŠ¨åŒ–æ„å»ºã€æµ‹è¯•ã€éƒ¨ç½²
4. **è“ç»¿éƒ¨ç½²**ï¼šé›¶åœæœºæ—¶é—´éƒ¨ç½²

## 15. æ€»ç»“

å¾®æœåŠ¡æ¶æ„ä¸ºå¤§å‹å¤æ‚ç³»ç»Ÿæä¾›äº†çµæ´»ã€å¯æ‰©å±•çš„è§£å†³æ–¹æ¡ˆã€‚é€šè¿‡åˆç†çš„æœåŠ¡æ‹†åˆ†ã€é€šä¿¡è®¾è®¡ã€æ•°æ®ç®¡ç†å’Œéƒ¨ç½²ç­–ç•¥ï¼Œå¯ä»¥æ„å»ºå‡ºé«˜è´¨é‡ã€å¯ç»´æŠ¤çš„å¾®æœåŠ¡ç³»ç»Ÿã€‚
