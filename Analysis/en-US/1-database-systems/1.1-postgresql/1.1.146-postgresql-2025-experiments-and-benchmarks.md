# 1.1.146 PostgreSQL 2025 — Experiments and Benchmarks

## 1. Goals and Scope

- Evaluate AI-native, vector, streaming, multimodal, and cloud-native features of PostgreSQL 2025.
- Provide reproducible scripts, metrics templates, and visualization outputs.

English | [中文](../../../1-数据库系统/1.1-PostgreSQL/1.1.146-PostgreSQL-2025-实验与基准.md)

## 2. Environment

- Hardware: 32C/128G, NVMe SSD; optional GPU (A10/MI210)
- OS/Platform: Linux ≥ 5.15; optional containers/Kubernetes

## 3. Workloads

- Vector Search: 1e6–5e7 vectors (768-dim)
- AI Inference: sentiment/NER/match; batch sizes 1–8
- Streaming: 1k/5k/20k events/s with rolling windows

## 4. Data Prep Scripts

- SQL to generate vectors (pgvector)
- Python helpers for multimodal embeddings (placeholders)

## 5. Benchmark Scripts

- Vector: online index builds (HNSW/IVF) and query plans
- Inference: inline SQL UDF calls; throughput and latency
- Streaming: window queries; latency distribution

## 6. Metrics Templates

- Performance: QPS, P50/95/99, CPU/GPU, IOPS, bandwidth
- Quality: recall@k, accuracy, NDCG
- Cost: $/QPS, $/TB/mo, QPS/W

## 7. Result Aggregation & Visualization

- Aggregate:

```bash
python benchmarks/aggregate_results.py results/all.csv bench_stream.json bench_infer.json
```

- Visualize:

```bash
python benchmarks/plot_results.py bench_stream.json bench_infer.json
```

- Outputs at repo root (open in browser):
  - [p50_ms.html](../../../../p50_ms.html)
  - [p95_ms.html](../../../../p95_ms.html)
  - [p99_ms.html](../../../../p99_ms.html)
  - [avg_ms.html](../../../../avg_ms.html)
  - [throughput_qps.html](../../../../throughput_qps.html)

## 8. How to Reproduce

1) Prepare env → 2) Load data → 3) Build indexes → 4) Run benchmarks → 5) Collect metrics → 6) Report → 7) Regression compare.

## 9. Notes

- Schedule nightly regressions to track performance drift
- Keep configs (index params, batch sizes) under version control
