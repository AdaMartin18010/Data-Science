# è¯­è¨€æ€§èƒ½ä¸æ•ˆç‡æ¯”è¾ƒ

## ğŸ“‘ ç›®å½•

- [è¯­è¨€æ€§èƒ½ä¸æ•ˆç‡æ¯”è¾ƒ](#è¯­è¨€æ€§èƒ½ä¸æ•ˆç‡æ¯”è¾ƒ)
  - [ğŸ“‘ ç›®å½•](#-ç›®å½•)
- [1. æ€§èƒ½åŸºå‡†æµ‹è¯•](#1-æ€§èƒ½åŸºå‡†æµ‹è¯•)
  - [1.1. è®¡ç®—å¯†é›†å‹ä»»åŠ¡](#11-è®¡ç®—å¯†é›†å‹ä»»åŠ¡)
  - [1.2. å†…å­˜å¯†é›†å‹ä»»åŠ¡](#12-å†…å­˜å¯†é›†å‹ä»»åŠ¡)
- [2. å†…å­˜ä½¿ç”¨åˆ†æ](#2-å†…å­˜ä½¿ç”¨åˆ†æ)
  - [2.1. å†…å­˜å ç”¨å¯¹æ¯”](#21-å†…å­˜å ç”¨å¯¹æ¯”)
- [3. åƒåœ¾å›æ”¶å½±å“](#3-åƒåœ¾å›æ”¶å½±å“)
- [4. CPUæ•ˆç‡åˆ†æ](#4-cpuæ•ˆç‡åˆ†æ)
  - [4.1. æŒ‡ä»¤çº§ä¼˜åŒ–](#41-æŒ‡ä»¤çº§ä¼˜åŒ–)
  - [4.2. ç¼“å­˜å‹å¥½æ€§](#42-ç¼“å­˜å‹å¥½æ€§)
- [5. å¹¶å‘æ€§èƒ½å¯¹æ¯”](#5-å¹¶å‘æ€§èƒ½å¯¹æ¯”)
  - [5.1. çº¿ç¨‹åˆ›å»ºå¼€é”€](#51-çº¿ç¨‹åˆ›å»ºå¼€é”€)
  - [5.2. å¹¶å‘æ¨¡å‹æ•ˆç‡](#52-å¹¶å‘æ¨¡å‹æ•ˆç‡)
- [6. ç¼–è¯‘ä¸è¿è¡Œæ—¶å¼€é”€](#6-ç¼–è¯‘ä¸è¿è¡Œæ—¶å¼€é”€)
  - [6.1. ç¼–è¯‘æ—¶é—´å¯¹æ¯”](#61-ç¼–è¯‘æ—¶é—´å¯¹æ¯”)
  - [6.2. è¿è¡Œæ—¶å¼€é”€](#62-è¿è¡Œæ—¶å¼€é”€)
- [7. æ€§èƒ½ä¼˜åŒ–ç­–ç•¥](#7-æ€§èƒ½ä¼˜åŒ–ç­–ç•¥)
  - [7.1. è¯­è¨€ç‰¹å®šä¼˜åŒ–](#71-è¯­è¨€ç‰¹å®šä¼˜åŒ–)
- [8. æ€§èƒ½æµ‹è¯•æ¡†æ¶](#8-æ€§èƒ½æµ‹è¯•æ¡†æ¶)
  - [8.1. åŸºå‡†æµ‹è¯•å·¥å…·](#81-åŸºå‡†æµ‹è¯•å·¥å…·)
- [9. æ€§èƒ½é€‰æ‹©å»ºè®®](#9-æ€§èƒ½é€‰æ‹©å»ºè®®)
  - [9.1. åº”ç”¨åœºæ™¯æ€§èƒ½è€ƒè™‘](#91-åº”ç”¨åœºæ™¯æ€§èƒ½è€ƒè™‘)
  - [9.2. æ€§èƒ½ä¼˜åŒ–ä¼˜å…ˆçº§](#92-æ€§èƒ½ä¼˜åŒ–ä¼˜å…ˆçº§)
- [10. å‚è€ƒèµ„æº](#10-å‚è€ƒèµ„æº)
---


## 1. æ€§èƒ½åŸºå‡†æµ‹è¯•

### 1.1. è®¡ç®—å¯†é›†å‹ä»»åŠ¡

| è¯­è¨€      | æ–æ³¢é‚£å¥‘æ•°åˆ—(40) | ç´ æ•°ç­›æ³•(1000000) | çŸ©é˜µä¹˜æ³•(1000x1000) |
|-----------|------------------|-------------------|---------------------|
| C         | 0.8s            | 0.3s             | 0.1s               |
| C++       | 0.9s            | 0.4s             | 0.12s              |
| Rust      | 1.0s            | 0.35s            | 0.11s              |
| Go        | 2.1s            | 0.8s             | 0.25s              |
| Java      | 1.8s            | 0.9s             | 0.3s               |
| C#        | 2.0s            | 1.0s             | 0.35s              |
| Python    | 45.2s           | 8.5s             | 2.1s               |
| JavaScript| 12.3s           | 3.2s             | 0.8s               |
| Haskell   | 2.5s            | 1.2s             | 0.4s               |
| Scala     | 2.2s            | 1.1s             | 0.38s              |

### 1.2. å†…å­˜å¯†é›†å‹ä»»åŠ¡

| è¯­è¨€      | å¤§æ•°ç»„å¤„ç†(100MB) | å­—ç¬¦ä¸²æ‹¼æ¥(10000æ¬¡) | å¯¹è±¡åˆ›å»º(1000000ä¸ª) |
|-----------|-------------------|-------------------|---------------------|
| C         | 0.05s            | 0.02s            | 0.01s              |
| C++       | 0.06s            | 0.03s            | 0.015s             |
| Rust      | 0.07s            | 0.025s           | 0.012s             |
| Go        | 0.15s            | 0.08s            | 0.05s              |
| Java      | 0.2s             | 0.1s             | 0.08s              |
| C#        | 0.18s            | 0.09s            | 0.07s              |
| Python    | 1.2s             | 0.8s             | 0.6s               |
| JavaScript| 0.5s             | 0.3s             | 0.25s              |
| Haskell   | 0.3s             | 0.15s            | 0.12s              |
| Scala     | 0.25s            | 0.12s            | 0.1s               |

## 2. å†…å­˜ä½¿ç”¨åˆ†æ

### 2.1. å†…å­˜å ç”¨å¯¹æ¯”

```c
// C - æœ€å°å†…å­˜å ç”¨
#include <stdio.h>
#include <stdlib.h>

int main() {
    int* array = malloc(1000000 * sizeof(int));
    // å†…å­˜å ç”¨: ~4MB
    free(array);
    return 0;
}
```

```cpp
// C++ - æ™ºèƒ½æŒ‡é’ˆç®¡ç†
#include <memory>
#include <vector>

int main() {
    auto array = std::make_unique<int[]>(1000000);
    // å†…å­˜å ç”¨: ~4MB + å°‘é‡å¼€é”€
    return 0;
}
```

```rust
// Rust - é›¶æˆæœ¬æŠ½è±¡
fn main() {
    let array = vec![0; 1000000];
    // å†…å­˜å ç”¨: ~4MBï¼Œç¼–è¯‘æ—¶ä¼˜åŒ–
}
```

```java
// Java - JVMå†…å­˜ç®¡ç†
public class MemoryTest {
    public static void main(String[] args) {
        int[] array = new int[1000000];
        // å†…å­˜å ç”¨: ~4MB + JVMå¼€é”€
    }
}
```

```python
# Python - åŠ¨æ€ç±»å‹å¼€é”€
import array

def main():
    arr = array.array('i', [0] * 1000000)
# å†…å­˜å ç”¨: ~4MB + Pythonå¯¹è±¡å¼€é”€
```

## 3. åƒåœ¾å›æ”¶å½±å“

| è¯­è¨€      | GCç±»å‹           | GCæš‚åœæ—¶é—´ | å†…å­˜ç¢ç‰‡åŒ– | æ‰‹åŠ¨å†…å­˜ç®¡ç† |
|-----------|------------------|------------|------------|--------------|
| C         | æ—               | 0ms        | ä½         | å®Œå…¨æ‰‹åŠ¨     |
| C++       | æ—               | 0ms        | ä½         | æ™ºèƒ½æŒ‡é’ˆ     |
| Rust      | æ—               | 0ms        | ä½         | ç¼–è¯‘æ—¶æ£€æŸ¥   |
| Go        | å¹¶å‘GC          | 1-2ms      | ä¸­         | è‡ªåŠ¨         |
| Java      | åˆ†ä»£GC          | 10-100ms   | ä¸­         | è‡ªåŠ¨         |
| C#        | åˆ†ä»£GC          | 5-50ms     | ä¸­         | è‡ªåŠ¨         |
| Python    | å¼•ç”¨è®¡æ•°+GC     | 5-20ms     | é«˜         | è‡ªåŠ¨         |
| JavaScript| åˆ†ä»£GC          | 10-50ms    | ä¸­         | è‡ªåŠ¨         |
| Haskell   | åˆ†ä»£GC          | 5-30ms     | ä¸­         | è‡ªåŠ¨         |
| Scala     | åˆ†ä»£GC          | 10-100ms   | ä¸­         | è‡ªåŠ¨         |

## 4. CPUæ•ˆç‡åˆ†æ

### 4.1. æŒ‡ä»¤çº§ä¼˜åŒ–

```c
// C - ç¼–è¯‘å™¨ä¼˜åŒ–
int fibonacci(int n) {
    if (n <= 1) return n;
    return fibonacci(n-1) + fibonacci(n-2);
}
// ç¼–è¯‘ä¼˜åŒ–: -O3
// æŒ‡ä»¤æ•°: æœ€å°
```

```cpp
// C++ - æ¨¡æ¿å…ƒç¼–ç¨‹
template<int N>
struct Fibonacci {
    static const int value = Fibonacci<N-1>::value + Fibonacci<N-2>::value;
};
template<>
struct Fibonacci<0> { static const int value = 0; };
template<>
struct Fibonacci<1> { static const int value = 1; };
// ç¼–è¯‘æ—¶è®¡ç®—ï¼Œè¿è¡Œæ—¶é›¶å¼€é”€
```

```rust
// Rust - é›¶æˆæœ¬æŠ½è±¡
fn fibonacci(n: u32) -> u32 {
    match n {
        0 => 0,
        1 => 1,
        n => fibonacci(n-1) + fibonacci(n-2)
    }
}
// ç¼–è¯‘ä¼˜åŒ–ï¼Œæ¥è¿‘Cæ€§èƒ½
```

### 4.2. ç¼“å­˜å‹å¥½æ€§

```c
// C - ç¼“å­˜å‹å¥½çš„æ•°ç»„è®¿é—®
void matrix_multiply(double* A, double* B, double* C, int n) {
    for (int i = 0; i < n; i++) {
        for (int k = 0; k < n; k++) {
            for (int j = 0; j < n; j++) {
                C[i*n + j] += A[i*n + k] * B[k*n + j];
            }
        }
    }
}
```

```java
// Java - JITä¼˜åŒ–
public class MatrixMultiply {
    public static void multiply(double[][] A, double[][] B, double[][] C) {
        int n = A.length;
        for (int i = 0; i < n; i++) {
            for (int k = 0; k < n; k++) {
                for (int j = 0; j < n; j++) {
                    C[i][j] += A[i][k] * B[k][j];
                }
            }
        }
    }
}
```

## 5. å¹¶å‘æ€§èƒ½å¯¹æ¯”

### 5.1. çº¿ç¨‹åˆ›å»ºå¼€é”€

```c
// C - pthreadå¼€é”€
#include <pthread.h>
#include <stdio.h>

void* thread_function(void* arg) {
    return NULL;
}

int main() {
    pthread_t threads[1000];
    for (int i = 0; i < 1000; i++) {
        pthread_create(&threads[i], NULL, thread_function, NULL);
    }
    // çº¿ç¨‹åˆ›å»ºå¼€é”€: ~1-2Î¼s
}
```

```go
// Go - goroutineå¼€é”€
package main

import "sync"

func main() {
    var wg sync.WaitGroup
    for i := 0; i < 100000; i++ {
        wg.Add(1)
        go func() {
            defer wg.Done()
        }()
    }
    wg.Wait()
    // goroutineåˆ›å»ºå¼€é”€: ~0.1Î¼s
}
```

```rust
// Rust - çº¿ç¨‹æ± 
use std::thread;
use std::sync::mpsc;

fn main() {
    let (tx, rx) = mpsc::channel();

    for i in 0..1000 {
        let tx = tx.clone();
        thread::spawn(move || {
            tx.send(i).unwrap();
        });
    }
    // çº¿ç¨‹åˆ›å»ºå¼€é”€: ~1Î¼s
}
```

### 5.2. å¹¶å‘æ¨¡å‹æ•ˆç‡

| è¯­è¨€      | çº¿ç¨‹æ¨¡å‹         | ä¸Šä¸‹æ–‡åˆ‡æ¢å¼€é”€ | å†…å­˜å…±äº« | æ¶ˆæ¯ä¼ é€’ |
|-----------|------------------|----------------|----------|----------|
| C         | ç³»ç»Ÿçº¿ç¨‹         | é«˜             | ç›´æ¥     | æ‰‹åŠ¨     |
| C++       | ç³»ç»Ÿçº¿ç¨‹         | é«˜             | ç›´æ¥     | æ‰‹åŠ¨     |
| Rust      | ç³»ç»Ÿçº¿ç¨‹         | é«˜             | å®‰å…¨     | å®‰å…¨     |
| Go        | åç¨‹             | æä½           | å…±äº«     | é€šé“     |
| Java      | ç³»ç»Ÿçº¿ç¨‹         | é«˜             | ç›´æ¥     | å¹¶å‘åŒ…   |
| C#        | ç³»ç»Ÿçº¿ç¨‹         | é«˜             | ç›´æ¥     | Task     |
| Python    | GILé™åˆ¶         | é«˜             | å—é™     | å¤šè¿›ç¨‹   |
| JavaScript| å•çº¿ç¨‹+äº‹ä»¶å¾ªç¯  | æ—              | æ—        | å¼‚æ­¥     |
| Haskell   | è½»é‡çº¿ç¨‹         | ä½             | STM      | STM      |
| Scala     | Actoræ¨¡å‹       | ä¸­             | éš”ç¦»     | æ¶ˆæ¯     |

## 6. ç¼–è¯‘ä¸è¿è¡Œæ—¶å¼€é”€

### 6.1. ç¼–è¯‘æ—¶é—´å¯¹æ¯”

| è¯­è¨€      | ç¼–è¯‘æ—¶é—´(1000è¡Œ) | å¢é‡ç¼–è¯‘ | ä¾èµ–è§£æ | ä¼˜åŒ–çº§åˆ« |
|-----------|------------------|----------|----------|----------|
| C         | 0.1s            | å¿«       | ç®€å•     | 3çº§      |
| C++       | 2.0s            | æ…¢       | å¤æ‚     | 3çº§      |
| Rust      | 3.0s            | ä¸­       | å¤æ‚     | 3çº§      |
| Go        | 0.5s            | å¿«       | ç®€å•     | 2çº§      |
| Java      | 1.0s            | ä¸­       | ä¸­ç­‰     | 2çº§      |
| C#        | 1.5s            | ä¸­       | ä¸­ç­‰     | 2çº§      |
| Python    | 0.01s           | æ—        | ç®€å•     | æ—        |
| JavaScript| 0.1s            | å¿«       | ç®€å•     | 1çº§      |
| Haskell   | 2.5s            | æ…¢       | å¤æ‚     | 2çº§      |
| Scala     | 3.5s            | æ…¢       | å¤æ‚     | 2çº§      |

### 6.2. è¿è¡Œæ—¶å¼€é”€

```c
// C - æœ€å°è¿è¡Œæ—¶å¼€é”€
#include <stdio.h>

int main() {
    printf("Hello, World!\n");
    return 0;
}
// å¯æ‰§è¡Œæ–‡ä»¶å¤§å°: ~10KB
// å¯åŠ¨æ—¶é—´: ~1ms
```

```java
// Java - JVMå¼€é”€
public class Hello {
    public static void main(String[] args) {
        System.out.println("Hello, World!");
    }
}
// JARæ–‡ä»¶å¤§å°: ~1KB
// å¯åŠ¨æ—¶é—´: ~100ms (JVMå¯åŠ¨)
```

```python
# Python - è§£é‡Šå™¨å¼€é”€
print("Hello, World!")
# è„šæœ¬å¤§å°: ~20B
# å¯åŠ¨æ—¶é—´: ~50ms (è§£é‡Šå™¨å¯åŠ¨)
```

```rust
// Rust - é™æ€é“¾æ¥
fn main() {
    println!("Hello, World!");
}
// å¯æ‰§è¡Œæ–‡ä»¶å¤§å°: ~2MB (é™æ€é“¾æ¥)
// å¯åŠ¨æ—¶é—´: ~1ms
```

## 7. æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### 7.1. è¯­è¨€ç‰¹å®šä¼˜åŒ–

```c
// C - ç¼–è¯‘å™¨ä¼˜åŒ–
#include <stdio.h>
#include <string.h>

// å†…è”å‡½æ•°
inline int fast_add(int a, int b) {
    return a + b;
}

// å¾ªç¯å±•å¼€
void vector_add(int* a, int* b, int* c, int n) {
    for (int i = 0; i < n; i += 4) {
        c[i] = a[i] + b[i];
        c[i+1] = a[i+1] + b[i+1];
        c[i+2] = a[i+2] + b[i+2];
        c[i+3] = a[i+3] + b[i+3];
    }
}
```

```cpp
// C++ - æ¨¡æ¿ä¼˜åŒ–
template<typename T>
class Vector {
    T* data;
    size_t size;
public:
    // ç§»åŠ¨è¯­ä¹‰
    Vector(Vector&& other) noexcept
        : data(other.data), size(other.size) {
        other.data = nullptr;
        other.size = 0;
    }

    // å®Œç¾è½¬å‘
    template<typename... Args>
    void emplace_back(Args&&... args) {
        // åŸåœ°æ„é€ 
    }
};
```

```rust
// Rust - é›¶æˆæœ¬æŠ½è±¡
#[inline(always)]
fn fast_add(a: i32, b: i32) -> i32 {
    a + b
}

// è¿­ä»£å™¨ä¼˜åŒ–
fn sum_squares(numbers: &[i32]) -> i32 {
    numbers.iter()
           .map(|&x| x * x)
           .sum()
}
```

## 8. æ€§èƒ½æµ‹è¯•æ¡†æ¶

### 8.1. åŸºå‡†æµ‹è¯•å·¥å…·

```c
// C - ç®€å•åŸºå‡†æµ‹è¯•
#include <time.h>
#include <stdio.h>

#define BENCHMARK(name, code) \
    do { \
        clock_t start = clock(); \
        code; \
        clock_t end = clock(); \
        double time_spent = (double)(end - start) / CLOCKS_PER_SEC; \
        printf("%s: %.6f seconds\n", name, time_spent); \
    } while(0)

int main() {
    BENCHMARK("Fibonacci 40", {
        // fibonacci(40);
    });
    return 0;
}
```

```python
# Python - timeitæ¨¡å—
import timeit

def fibonacci(n):
    if n <= 1:
        return n
    return fibonacci(n-1) + fibonacci(n-2)

# åŸºå‡†æµ‹è¯•
setup = "from __main__ import fibonacci"
stmt = "fibonacci(30)"
time = timeit.timeit(stmt, setup, number=1000)
print(f"Time: {time:.6f} seconds")
```

```rust
// Rust - criterion.rs
use criterion::{criterion_group, criterion_main, Criterion};

fn fibonacci(n: u32) -> u32 {
    match n {
        0 => 0,
        1 => 1,
        n => fibonacci(n-1) + fibonacci(n-2)
    }
}

fn fibonacci_benchmark(c: &mut Criterion) {
    c.bench_function("fibonacci 20", |b| {
        b.iter(|| fibonacci(20))
    });
}

criterion_group!(benches, fibonacci_benchmark);
criterion_main!(benches);
```

## 9. æ€§èƒ½é€‰æ‹©å»ºè®®

### 9.1. åº”ç”¨åœºæ™¯æ€§èƒ½è€ƒè™‘

- **å®æ—¶ç³»ç»Ÿ**ï¼šCã€C++ã€Rust
- **WebæœåŠ¡**ï¼šGoã€Javaã€C#
- **æ•°æ®å¤„ç†**ï¼šPythonã€Scalaã€Rust
- **åµŒå…¥å¼ç³»ç»Ÿ**ï¼šCã€Rust
- **æ¸¸æˆå¼€å‘**ï¼šC++ã€C#
- **AI/ML**ï¼šPythonã€C++ã€Rust
- **ç³»ç»Ÿç¼–ç¨‹**ï¼šCã€C++ã€Rust
- **è„šæœ¬è‡ªåŠ¨åŒ–**ï¼šPythonã€JavaScript

### 9.2. æ€§èƒ½ä¼˜åŒ–ä¼˜å…ˆçº§

1. **ç®—æ³•ä¼˜åŒ–**ï¼šé€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„å’Œç®—æ³•
2. **è¯­è¨€é€‰æ‹©**ï¼šæ ¹æ®æ€§èƒ½è¦æ±‚é€‰æ‹©è¯­è¨€
3. **ç¼–è¯‘å™¨ä¼˜åŒ–**ï¼šå¯ç”¨é€‚å½“çš„ä¼˜åŒ–çº§åˆ«
4. **å†…å­˜ç®¡ç†**ï¼šå‡å°‘å†…å­˜åˆ†é…å’Œæ‹·è´
5. **å¹¶å‘ä¼˜åŒ–**ï¼šåˆ©ç”¨å¤šæ ¸å¤„ç†å™¨
6. **ç¼“å­˜ä¼˜åŒ–**ï¼šæé«˜ç¼“å­˜å‘½ä¸­ç‡
7. **I/Oä¼˜åŒ–**ï¼šå¼‚æ­¥å’Œæ‰¹é‡å¤„ç†
8. **ç½‘ç»œä¼˜åŒ–**ï¼šå‡å°‘ç½‘ç»œå»¶è¿Ÿ

## 10. å‚è€ƒèµ„æº

- [Computer Language Benchmarks Game](https://benchmarksgame-team.pages.debian.net/benchmarksgame/)
- [TechEmpower Web Framework Benchmarks](https://www.techempower.com/benchmarks/)
- [Language Performance Comparison](https://github.com/kostya/benchmarks)
- å„è¯­è¨€å®˜æ–¹æ€§èƒ½æ–‡æ¡£
