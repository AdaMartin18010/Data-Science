# è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ï¼šåˆ†å±‚æµ‹è¯•ç­–ç•¥ä¸å®è·µæŒ‡å—

## ğŸ“‘ ç›®å½•

- [è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ï¼šåˆ†å±‚æµ‹è¯•ç­–ç•¥ä¸å®è·µæŒ‡å—](#è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶åˆ†å±‚æµ‹è¯•ç­–ç•¥ä¸å®è·µæŒ‡å—)
  - [ğŸ“‘ ç›®å½•](#-ç›®å½•)
  - [1. ğŸ“‹ æ¦‚è¿°](#1--æ¦‚è¿°)
  - [3. ğŸ“Š æ€ç»´å¯¼å›¾](#3--æ€ç»´å¯¼å›¾)
  - [4. ç†è®ºåŸºç¡€](#4-ç†è®ºåŸºç¡€)
    - [4.1. æµ‹è¯•é‡‘å­—å¡”ç†è®º](#41-æµ‹è¯•é‡‘å­—å¡”ç†è®º)
      - [4.1.1. é‡‘å­—å¡”å±‚çº§](#411-é‡‘å­—å¡”å±‚çº§)
      - [4.1.2. åæ¨¡å¼ï¼šå†°æ·‡æ·‹è›‹ç­’](#412-åæ¨¡å¼å†°æ·‡æ·‹è›‹ç­’)
    - [4.2. æµ‹è¯•ç­–ç•¥](#42-æµ‹è¯•ç­–ç•¥)
      - [4.2.1. æµ‹è¯•ç­–ç•¥é€‰æ‹©](#421-æµ‹è¯•ç­–ç•¥é€‰æ‹©)
      - [4.2.2. æµ‹è¯•å·¦ç§»ç­–ç•¥](#422-æµ‹è¯•å·¦ç§»ç­–ç•¥)
    - [4.3. æµ‹è¯•ç±»å‹åˆ†ç±»](#43-æµ‹è¯•ç±»å‹åˆ†ç±»)
      - [4.3.1. æŒ‰æµ‹è¯•èŒƒå›´åˆ†ç±»](#431-æŒ‰æµ‹è¯•èŒƒå›´åˆ†ç±»)
      - [4.3.2. æŒ‰æµ‹è¯•ç›®çš„åˆ†ç±»](#432-æŒ‰æµ‹è¯•ç›®çš„åˆ†ç±»)
    - [4.4. æµ‹è¯•é©±åŠ¨å¼€å‘ï¼ˆTDDï¼‰](#44-æµ‹è¯•é©±åŠ¨å¼€å‘tdd)
      - [4.4.1. TDDå¾ªç¯](#441-tddå¾ªç¯)
      - [4.4.2. TDDä¼˜åŠ¿](#442-tddä¼˜åŠ¿)
      - [4.4.3. TDDå®è·µç¤ºä¾‹](#443-tddå®è·µç¤ºä¾‹)
    - [4.5. è¡Œä¸ºé©±åŠ¨å¼€å‘ï¼ˆBDDï¼‰](#45-è¡Œä¸ºé©±åŠ¨å¼€å‘bdd)
      - [4.5.1. BDDè¯­æ³•ï¼ˆGherkinï¼‰](#451-bddè¯­æ³•gherkin)
      - [4.5.2. BDDå·¥å…·](#452-bddå·¥å…·)
  - [5. å•å…ƒæµ‹è¯•æ¡†æ¶](#5-å•å…ƒæµ‹è¯•æ¡†æ¶)
    - [5.1. Rustå•å…ƒæµ‹è¯•](#51-rustå•å…ƒæµ‹è¯•)
      - [5.1.1. Rustæµ‹è¯•åŸºç¡€](#511-rustæµ‹è¯•åŸºç¡€)
      - [5.1.2. Rustæµ‹è¯•å·¥å…·](#512-rustæµ‹è¯•å·¥å…·)
    - [5.1.3. Rust Mockæ¡†æ¶](#513-rust-mockæ¡†æ¶)
  - [5.2. Goå•å…ƒæµ‹è¯•](#52-goå•å…ƒæµ‹è¯•)
    - [5.2.1. Goæµ‹è¯•åŸºç¡€](#521-goæµ‹è¯•åŸºç¡€)
      - [5.2.2. Goæµ‹è¯•å·¥å…·](#522-goæµ‹è¯•å·¥å…·)
    - [5.2.3. Go Mockæ¡†æ¶](#523-go-mockæ¡†æ¶)
  - [5.3. Pythonå•å…ƒæµ‹è¯•](#53-pythonå•å…ƒæµ‹è¯•)
    - [5.3.1. Pythonæµ‹è¯•æ¡†æ¶](#531-pythonæµ‹è¯•æ¡†æ¶)
    - [5.3.2. Pythonæµ‹è¯•å·¥å…·](#532-pythonæµ‹è¯•å·¥å…·)
    - [5.3.3. Python Mockæ¡†æ¶](#533-python-mockæ¡†æ¶)
  - [5.4. JavaScript/TypeScriptå•å…ƒæµ‹è¯•](#54-javascripttypescriptå•å…ƒæµ‹è¯•)
    - [5.4.1. Jestæµ‹è¯•æ¡†æ¶](#541-jestæµ‹è¯•æ¡†æ¶)
      - [5.4.2. Vitestæµ‹è¯•æ¡†æ¶](#542-vitestæµ‹è¯•æ¡†æ¶)
    - [5.5. Javaå•å…ƒæµ‹è¯•](#55-javaå•å…ƒæµ‹è¯•)
      - [5.5.1. JUnit 5](#551-junit-5)
  - [6. é›†æˆæµ‹è¯•æ¡†æ¶](#6-é›†æˆæµ‹è¯•æ¡†æ¶)
    - [6.1. Docker Composeé›†æˆæµ‹è¯•](#61-docker-composeé›†æˆæµ‹è¯•)
      - [6.1.1. Docker Composeæµ‹è¯•é…ç½®](#611-docker-composeæµ‹è¯•é…ç½®)
  - [6.1.2. é›†æˆæµ‹è¯•æ‰§è¡Œ](#612-é›†æˆæµ‹è¯•æ‰§è¡Œ)
  - [6.2. æµ‹è¯•æ•°æ®åº“ç®¡ç†](#62-æµ‹è¯•æ•°æ®åº“ç®¡ç†)
    - [6.2.1. æ•°æ®åº“è¿ç§»æµ‹è¯•](#621-æ•°æ®åº“è¿ç§»æµ‹è¯•)
  - [6.2.2. æµ‹è¯•æ•°æ®éš”ç¦»](#622-æµ‹è¯•æ•°æ®éš”ç¦»)
  - [6.3. æœåŠ¡é—´é›†æˆæµ‹è¯•](#63-æœåŠ¡é—´é›†æˆæµ‹è¯•)
    - [6.3.1. å¾®æœåŠ¡é›†æˆæµ‹è¯•](#631-å¾®æœåŠ¡é›†æˆæµ‹è¯•)
  - [6.4. APIé›†æˆæµ‹è¯•](#64-apié›†æˆæµ‹è¯•)
    - [6.4.1. REST APIæµ‹è¯•](#641-rest-apiæµ‹è¯•)
  - [7. ç«¯åˆ°ç«¯æµ‹è¯•æ¡†æ¶](#7-ç«¯åˆ°ç«¯æµ‹è¯•æ¡†æ¶)
    - [7.1. Playwrightç«¯åˆ°ç«¯æµ‹è¯•](#71-playwrightç«¯åˆ°ç«¯æµ‹è¯•)
      - [7.1.1. PlaywrightåŸºç¡€](#711-playwrightåŸºç¡€)
      - [7.1.2. Playwrighté…ç½®](#712-playwrighté…ç½®)
    - [7.2. K6è´Ÿè½½æµ‹è¯•](#72-k6è´Ÿè½½æµ‹è¯•)
      - [7.2.1. K6æµ‹è¯•è„šæœ¬](#721-k6æµ‹è¯•è„šæœ¬)
      - [7.2.2. K6æ‰§è¡Œ](#722-k6æ‰§è¡Œ)
  - [7.3. Selenium WebDriveræµ‹è¯•](#73-selenium-webdriveræµ‹è¯•)
    - [7.3.1. Selenium Python](#731-selenium-python)
  - [7.4. Cypressç«¯åˆ°ç«¯æµ‹è¯•](#74-cypressç«¯åˆ°ç«¯æµ‹è¯•)
    - [7.4.1. Cypressæµ‹è¯•](#741-cypressæµ‹è¯•)
  - [8. æ€§èƒ½æµ‹è¯•æ¡†æ¶](#8-æ€§èƒ½æµ‹è¯•æ¡†æ¶)
    - [8.1. æ€§èƒ½æµ‹è¯•ç±»å‹](#81-æ€§èƒ½æµ‹è¯•ç±»å‹)
    - [8.2. æ€§èƒ½æµ‹è¯•å·¥å…·](#82-æ€§èƒ½æµ‹è¯•å·¥å…·)
    - [8.3. æ€§èƒ½åŸºå‡†æµ‹è¯•](#83-æ€§èƒ½åŸºå‡†æµ‹è¯•)
      - [8.3.1. GoåŸºå‡†æµ‹è¯•](#831-goåŸºå‡†æµ‹è¯•)
      - [8.3.2. RuståŸºå‡†æµ‹è¯•](#832-ruståŸºå‡†æµ‹è¯•)
  - [9. å®‰å…¨æµ‹è¯•æ¡†æ¶](#9-å®‰å…¨æµ‹è¯•æ¡†æ¶)
    - [9.1. å®‰å…¨æµ‹è¯•ç±»å‹](#91-å®‰å…¨æµ‹è¯•ç±»å‹)
    - [9.2. å®‰å…¨æµ‹è¯•å·¥å…·](#92-å®‰å…¨æµ‹è¯•å·¥å…·)
    - [9.3. å®‰å…¨æ‰«æé›†æˆ](#93-å®‰å…¨æ‰«æé›†æˆ)
  - [10. æµ‹è¯•è¦†ç›–ç‡é—¨ç¦](#10-æµ‹è¯•è¦†ç›–ç‡é—¨ç¦)
    - [10.1. è¦†ç›–ç‡é˜ˆå€¼é…ç½®](#101-è¦†ç›–ç‡é˜ˆå€¼é…ç½®)
      - [10.1.1. Goè¦†ç›–ç‡é˜ˆå€¼](#1011-goè¦†ç›–ç‡é˜ˆå€¼)
  - [10.1.2. Rustè¦†ç›–ç‡é˜ˆå€¼](#1012-rustè¦†ç›–ç‡é˜ˆå€¼)
    - [10.1.3. Pythonè¦†ç›–ç‡é˜ˆå€¼](#1013-pythonè¦†ç›–ç‡é˜ˆå€¼)
  - [10.2. è¦†ç›–ç‡æŠ¥å‘Šç”Ÿæˆ](#102-è¦†ç›–ç‡æŠ¥å‘Šç”Ÿæˆ)
    - [10.2.1. HTMLæŠ¥å‘Š](#1021-htmlæŠ¥å‘Š)
  - [10.3. è¦†ç›–ç‡é—¨ç¦ç­–ç•¥](#103-è¦†ç›–ç‡é—¨ç¦ç­–ç•¥)
  - [11. æµ‹è¯•æ•°æ®ç®¡ç†](#11-æµ‹è¯•æ•°æ®ç®¡ç†)
    - [11.1. æµ‹è¯•æ•°æ®ç”Ÿæˆ](#111-æµ‹è¯•æ•°æ®ç”Ÿæˆ)
      - [11.1.1. ä½¿ç”¨Fakerç”Ÿæˆæ•°æ®](#1111-ä½¿ç”¨fakerç”Ÿæˆæ•°æ®)
  - [11.2. æµ‹è¯•æ•°æ®éš”ç¦»](#112-æµ‹è¯•æ•°æ®éš”ç¦»)
    - [11.3. æµ‹è¯•æ•°æ®æ¸…ç†](#113-æµ‹è¯•æ•°æ®æ¸…ç†)
  - [12. CI/CDé›†æˆ](#12-cicdé›†æˆ)
    - [12.1. GitHub Actionsé›†æˆ](#121-github-actionsé›†æˆ)
  - [12.2. GitLab CIé›†æˆ](#122-gitlab-cié›†æˆ)
  - [12.3. Jenkinsé›†æˆ](#123-jenkinsé›†æˆ)
    - [12.4. æµ‹è¯•å¹¶è¡ŒåŒ–ç­–ç•¥](#124-æµ‹è¯•å¹¶è¡ŒåŒ–ç­–ç•¥)
  - [13. å®é™…åº”ç”¨æ¡ˆä¾‹](#13-å®é™…åº”ç”¨æ¡ˆä¾‹)
    - [13.1. å¾®æœåŠ¡æ¶æ„æµ‹è¯•æ¡ˆä¾‹](#131-å¾®æœåŠ¡æ¶æ„æµ‹è¯•æ¡ˆä¾‹)
      - [13.1.1. æµ‹è¯•ç­–ç•¥](#1311-æµ‹è¯•ç­–ç•¥)
      - [13.1.2. æµ‹è¯•æ‰§è¡Œæµç¨‹](#1312-æµ‹è¯•æ‰§è¡Œæµç¨‹)
    - [13.2. æ•°æ®åº“ç³»ç»Ÿæµ‹è¯•æ¡ˆä¾‹](#132-æ•°æ®åº“ç³»ç»Ÿæµ‹è¯•æ¡ˆä¾‹)
      - [13.2.1. PostgreSQLæµ‹è¯•](#1321-postgresqlæµ‹è¯•)
  - [13.3. Webåº”ç”¨æµ‹è¯•æ¡ˆä¾‹](#133-webåº”ç”¨æµ‹è¯•æ¡ˆä¾‹)
    - [13.3.1. å…¨æ ˆæµ‹è¯•](#1331-å…¨æ ˆæµ‹è¯•)
  - [14. æœ€ä½³å®è·µä¸å»ºè®®](#14-æœ€ä½³å®è·µä¸å»ºè®®)
    - [14.1. æµ‹è¯•ç¼–å†™åŸåˆ™](#141-æµ‹è¯•ç¼–å†™åŸåˆ™)
    - [14.2. æµ‹è¯•ç»´æŠ¤å»ºè®®](#142-æµ‹è¯•ç»´æŠ¤å»ºè®®)
    - [14.3. æµ‹è¯•è´¨é‡æŒ‡æ ‡](#143-æµ‹è¯•è´¨é‡æŒ‡æ ‡)
  - [15. ğŸ”— ç›¸å…³èµ„æº](#15--ç›¸å…³èµ„æº)
  - [16. ğŸ”— äº¤å‰å¼•ç”¨](#16--äº¤å‰å¼•ç”¨)
    - [16.1. ç›¸å…³æ–‡æ¡£](#161-ç›¸å…³æ–‡æ¡£)

---


> **åˆ›å»ºæ—¥æœŸ**ï¼š2025-01-16
> **æœ€åæ›´æ–°**ï¼š2025-01-16
> **ç‰ˆæœ¬**ï¼šv1.0.0
> **çŠ¶æ€**ï¼šâœ… å·²å®Œæˆ

---

## 1. ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£æä¾›å®Œæ•´çš„è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶è®¾è®¡æŒ‡å—ï¼Œæ¶µç›–ä»ç†è®ºåŸºç¡€åˆ°å®è·µåº”ç”¨çš„å…¨é¢å†…å®¹ã€‚å»ºç«‹åˆ†å±‚è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ï¼šå•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ã€ç«¯åˆ°ç«¯æµ‹è¯•ï¼ˆE2Eï¼‰ï¼Œçº³å…¥CI/CDé—¨ç¦ä¸è´¨é‡é˜ˆå€¼ã€‚

---

## 3. ğŸ“Š æ€ç»´å¯¼å›¾

```mermaid
graph TB
    A[è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶] --> B[ç†è®ºåŸºç¡€]
    A --> C[æµ‹è¯•æ¡†æ¶]
    A --> D[CI/CDé›†æˆ]
    A --> E[è´¨é‡ä¿è¯]

    B --> B1[æµ‹è¯•é‡‘å­—å¡”]
    B --> B2[æµ‹è¯•ç­–ç•¥]
    B --> B3[æµ‹è¯•ç±»å‹]
    B --> B4[TDD/BDD]

    C --> C1[å•å…ƒæµ‹è¯•]
    C --> C2[é›†æˆæµ‹è¯•]
    C --> C3[ç«¯åˆ°ç«¯æµ‹è¯•]
    C --> C4[æ€§èƒ½æµ‹è¯•]
    C --> C5[å®‰å…¨æµ‹è¯•]

    C1 --> C1A[Rust]
    C1 --> C1B[Go]
    C1 --> C1C[Python]
    C1 --> C1D[JavaScript]

    C2 --> C2A[Docker Compose]
    C2 --> C2B[æµ‹è¯•æ•°æ®åº“]
    C2 --> C2C[APIæµ‹è¯•]

    C3 --> C3A[Playwright]
    C3 --> C3B[K6]
    C3 --> C3C[Selenium]

    D --> D1[GitHub Actions]
    D --> D2[GitLab CI]
    D --> D3[Jenkins]

    E --> E1[è¦†ç›–ç‡é—¨ç¦]
    E --> E2[æµ‹è¯•æ•°æ®ç®¡ç†]
    E --> E3[è´¨é‡é˜ˆå€¼]
```

---

## 4. ç†è®ºåŸºç¡€

### 4.1. æµ‹è¯•é‡‘å­—å¡”ç†è®º

æµ‹è¯•é‡‘å­—å¡”æ˜¯è‡ªåŠ¨åŒ–æµ‹è¯•ç­–ç•¥çš„æ ¸å¿ƒç†è®ºï¼Œç”±Mike Cohnæå‡ºã€‚é‡‘å­—å¡”ç»“æ„åæ˜ äº†ä¸åŒæµ‹è¯•ç±»å‹çš„æ•°é‡å’Œæ‰§è¡Œé€Ÿåº¦ï¼š

```text
        /\
       /E2E\         å°‘é‡ã€æ…¢é€Ÿã€æ˜‚è´µ
      /------\
     /é›†æˆæµ‹è¯•\       ä¸­ç­‰æ•°é‡ã€ä¸­ç­‰é€Ÿåº¦
    /----------\
   /  å•å…ƒæµ‹è¯•  \     å¤§é‡ã€å¿«é€Ÿã€ä¾¿å®œ
  /--------------\
```

#### 4.1.1. é‡‘å­—å¡”å±‚çº§

1. **å•å…ƒæµ‹è¯•ï¼ˆåº•å±‚ï¼‰**
   - æ•°é‡ï¼šæœ€å¤šï¼ˆ70-80%ï¼‰
   - é€Ÿåº¦ï¼šæœ€å¿«ï¼ˆæ¯«ç§’çº§ï¼‰
   - æˆæœ¬ï¼šæœ€ä½
   - èŒƒå›´ï¼šå•ä¸ªå‡½æ•°/æ–¹æ³•
   - ç›®æ ‡ï¼šéªŒè¯ä»£ç é€»è¾‘æ­£ç¡®æ€§

2. **é›†æˆæµ‹è¯•ï¼ˆä¸­å±‚ï¼‰**
   - æ•°é‡ï¼šä¸­ç­‰ï¼ˆ15-20%ï¼‰
   - é€Ÿåº¦ï¼šä¸­ç­‰ï¼ˆç§’çº§ï¼‰
   - æˆæœ¬ï¼šä¸­ç­‰
   - èŒƒå›´ï¼šç»„ä»¶/æœåŠ¡é—´äº¤äº’
   - ç›®æ ‡ï¼šéªŒè¯æ¥å£å’Œé›†æˆç‚¹

3. **ç«¯åˆ°ç«¯æµ‹è¯•ï¼ˆé¡¶å±‚ï¼‰**
   - æ•°é‡ï¼šæœ€å°‘ï¼ˆ5-10%ï¼‰
   - é€Ÿåº¦ï¼šæœ€æ…¢ï¼ˆåˆ†é’Ÿçº§ï¼‰
   - æˆæœ¬ï¼šæœ€é«˜
   - èŒƒå›´ï¼šå®Œæ•´ç”¨æˆ·æµç¨‹
   - ç›®æ ‡ï¼šéªŒè¯ä¸šåŠ¡åœºæ™¯

#### 4.1.2. åæ¨¡å¼ï¼šå†°æ·‡æ·‹è›‹ç­’

é¿å…æµ‹è¯•å†°æ·‡æ·‹è›‹ç­’åæ¨¡å¼ï¼ˆå€’é‡‘å­—å¡”ï¼‰ï¼š

```text
    /å•å…ƒæµ‹è¯•\       å°‘é‡ã€å¿«é€Ÿ
   /----------\
  /  é›†æˆæµ‹è¯•  \     ä¸­ç­‰æ•°é‡
 /--------------\
/   E2Eæµ‹è¯•     \   å¤§é‡ã€æ…¢é€Ÿï¼ˆé”™è¯¯ï¼ï¼‰
```

**é—®é¢˜**ï¼š

- E2Eæµ‹è¯•è¿‡å¤šå¯¼è‡´æµ‹è¯•å¥—ä»¶æ‰§è¡Œç¼“æ…¢
- éš¾ä»¥å®šä½é—®é¢˜
- ç»´æŠ¤æˆæœ¬é«˜
- æµ‹è¯•ä¸ç¨³å®š

### 4.2. æµ‹è¯•ç­–ç•¥

#### 4.2.1. æµ‹è¯•ç­–ç•¥é€‰æ‹©

æ ¹æ®é¡¹ç›®ç‰¹ç‚¹é€‰æ‹©æµ‹è¯•ç­–ç•¥ï¼š

| é¡¹ç›®ç±»å‹ | å•å…ƒæµ‹è¯• | é›†æˆæµ‹è¯• | E2Eæµ‹è¯• | æ€§èƒ½æµ‹è¯• |
|---------|---------|---------|---------|---------|
| **åº“/æ¡†æ¶** | 90% | 5% | 5% | å¯é€‰ |
| **APIæœåŠ¡** | 70% | 20% | 5% | 5% |
| **Webåº”ç”¨** | 60% | 20% | 15% | 5% |
| **å¾®æœåŠ¡** | 65% | 25% | 5% | 5% |
| **ç§»åŠ¨åº”ç”¨** | 50% | 20% | 25% | 5% |

#### 4.2.2. æµ‹è¯•å·¦ç§»ç­–ç•¥

**æµ‹è¯•å·¦ç§»ï¼ˆShift Leftï¼‰**ï¼šåœ¨å¼€å‘æ—©æœŸå¼•å…¥æµ‹è¯•

- **éœ€æ±‚é˜¶æ®µ**ï¼šç¼–å†™éªŒæ”¶æµ‹è¯•
- **è®¾è®¡é˜¶æ®µ**ï¼šç¼–å†™é›†æˆæµ‹è¯•è§„èŒƒ
- **ç¼–ç é˜¶æ®µ**ï¼šç¼–å†™å•å…ƒæµ‹è¯•ï¼ˆTDDï¼‰
- **é›†æˆé˜¶æ®µ**ï¼šæ‰§è¡Œé›†æˆæµ‹è¯•
- **éƒ¨ç½²é˜¶æ®µ**ï¼šæ‰§è¡ŒE2Eæµ‹è¯•

**ä¼˜åŠ¿**ï¼š

- æ—©æœŸå‘ç°ç¼ºé™·
- é™ä½ä¿®å¤æˆæœ¬
- æé«˜ä»£ç è´¨é‡
- åŠ å¿«äº¤ä»˜é€Ÿåº¦

### 4.3. æµ‹è¯•ç±»å‹åˆ†ç±»

#### 4.3.1. æŒ‰æµ‹è¯•èŒƒå›´åˆ†ç±»

1. **å•å…ƒæµ‹è¯•ï¼ˆUnit Testï¼‰**
   - æµ‹è¯•å•ä¸ªå‡½æ•°/æ–¹æ³•
   - éš”ç¦»ä¾èµ–ï¼ˆMock/Stubï¼‰
   - å¿«é€Ÿæ‰§è¡Œ

2. **é›†æˆæµ‹è¯•ï¼ˆIntegration Testï¼‰**
   - æµ‹è¯•ç»„ä»¶é—´äº¤äº’
   - ä½¿ç”¨çœŸå®ä¾èµ–
   - éªŒè¯æ¥å£å¥‘çº¦

3. **ç³»ç»Ÿæµ‹è¯•ï¼ˆSystem Testï¼‰**
   - æµ‹è¯•å®Œæ•´ç³»ç»Ÿ
   - ç«¯åˆ°ç«¯æµç¨‹
   - éªŒè¯ä¸šåŠ¡éœ€æ±‚

4. **éªŒæ”¶æµ‹è¯•ï¼ˆAcceptance Testï¼‰**
   - éªŒè¯ç”¨æˆ·éœ€æ±‚
   - ä¸šåŠ¡åœºæ™¯éªŒè¯
   - ç”¨æˆ·éªŒæ”¶æ ‡å‡†

#### 4.3.2. æŒ‰æµ‹è¯•ç›®çš„åˆ†ç±»

1. **åŠŸèƒ½æµ‹è¯•**
   - éªŒè¯åŠŸèƒ½æ­£ç¡®æ€§
   - ä¸šåŠ¡é€»è¾‘éªŒè¯

2. **æ€§èƒ½æµ‹è¯•**
   - è´Ÿè½½æµ‹è¯•
   - å‹åŠ›æµ‹è¯•
   - å®¹é‡æµ‹è¯•

3. **å®‰å…¨æµ‹è¯•**
   - æ¼æ´æ‰«æ
   - æ¸—é€æµ‹è¯•
   - å®‰å…¨å®¡è®¡

4. **å…¼å®¹æ€§æµ‹è¯•**
   - æµè§ˆå™¨å…¼å®¹
   - æ“ä½œç³»ç»Ÿå…¼å®¹
   - è®¾å¤‡å…¼å®¹

### 4.4. æµ‹è¯•é©±åŠ¨å¼€å‘ï¼ˆTDDï¼‰

#### 4.4.1. TDDå¾ªç¯

TDDéµå¾ª"çº¢-ç»¿-é‡æ„"å¾ªç¯ï¼š

```text
1. çº¢ï¼ˆRedï¼‰
   â””â”€> ç¼–å†™å¤±è´¥çš„æµ‹è¯•

2. ç»¿ï¼ˆGreenï¼‰
   â””â”€> ç¼–å†™æœ€å°å®ç°ä½¿æµ‹è¯•é€šè¿‡

3. é‡æ„ï¼ˆRefactorï¼‰
   â””â”€> ä¼˜åŒ–ä»£ç ï¼Œä¿æŒæµ‹è¯•é€šè¿‡
```

#### 4.4.2. TDDä¼˜åŠ¿

- **è®¾è®¡é©±åŠ¨**ï¼šæµ‹è¯•å³æ–‡æ¡£
- **å¿«é€Ÿåé¦ˆ**ï¼šç«‹å³å‘ç°é—®é¢˜
- **ä»£ç è´¨é‡**ï¼šæé«˜å¯æµ‹è¯•æ€§
- **é‡æ„å®‰å…¨**ï¼šæµ‹è¯•ä¿æŠ¤é‡æ„

#### 4.4.3. TDDå®è·µç¤ºä¾‹

```rust
// 1. çº¢ï¼šç¼–å†™å¤±è´¥çš„æµ‹è¯•
#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn test_add() {
        assert_eq!(add(2, 3), 5);
    }
}

// 2. ç»¿ï¼šæœ€å°å®ç°
pub fn add(a: i32, b: i32) -> i32 {
    a + b
}

// 3. é‡æ„ï¼šä¼˜åŒ–ä»£ç 
pub fn add(a: i32, b: i32) -> i32 {
    // æ·»åŠ è¾¹ç•Œæ£€æŸ¥ã€é”™è¯¯å¤„ç†ç­‰
    a.checked_add(b).expect("overflow")
}
```

### 4.5. è¡Œä¸ºé©±åŠ¨å¼€å‘ï¼ˆBDDï¼‰

#### 4.5.1. BDDè¯­æ³•ï¼ˆGherkinï¼‰

BDDä½¿ç”¨è‡ªç„¶è¯­è¨€æè¿°è¡Œä¸ºï¼š

```gherkin
Feature: ç”¨æˆ·ç™»å½•
  Scenario: æˆåŠŸç™»å½•
    Given ç”¨æˆ·è®¿é—®ç™»å½•é¡µé¢
    When ç”¨æˆ·è¾“å…¥æ­£ç¡®çš„ç”¨æˆ·åå’Œå¯†ç 
    And ç”¨æˆ·ç‚¹å‡»ç™»å½•æŒ‰é’®
    Then ç”¨æˆ·åº”è¯¥è¢«é‡å®šå‘åˆ°ä¸»é¡µ
    And åº”è¯¥æ˜¾ç¤ºæ¬¢è¿æ¶ˆæ¯
```

#### 4.5.2. BDDå·¥å…·

- **Cucumber**ï¼šå¤šè¯­è¨€æ”¯æŒ
- **SpecFlow**ï¼š.NETå¹³å°
- **Behave**ï¼šPythonå¹³å°
- **Jest-Cucumber**ï¼šJavaScriptå¹³å°

---

## 5. å•å…ƒæµ‹è¯•æ¡†æ¶

### 5.1. Rustå•å…ƒæµ‹è¯•

#### 5.1.1. Rustæµ‹è¯•åŸºç¡€

Rustå†…ç½®æµ‹è¯•æ¡†æ¶ï¼Œä½¿ç”¨`#[cfg(test)]`å’Œ`#[test]`å±æ€§ï¼š

```rust
#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn test_basic() {
        assert_eq!(2 + 2, 4);
    }

    #[test]
    #[should_panic(expected = "divide by zero")]
    fn test_panic() {
        divide(10, 0);
    }

    #[test]
    #[ignore]
    fn test_expensive() {
        // è€—æ—¶æµ‹è¯•ï¼Œé»˜è®¤è·³è¿‡
    }
}
```

#### 5.1.2. Rustæµ‹è¯•å·¥å…·

**cargo test**ï¼šè¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
cargo test

# è¿è¡Œç‰¹å®šæµ‹è¯•
cargo test test_basic

# è¿è¡Œå¿½ç•¥çš„æµ‹è¯•
cargo test -- --ignored

# æ˜¾ç¤ºè¾“å‡º
cargo test -- --nocapture

# å¹¶è¡Œæ‰§è¡Œ
cargo test -- --test-threads=4
```

**grcov**ï¼šè¦†ç›–ç‡å·¥å…·

```bash
# å®‰è£…grcov
cargo install grcov

# ç”Ÿæˆè¦†ç›–ç‡
export CARGO_INCREMENTAL=0
export RUSTFLAGS="-Cinstrument-coverage"
cargo build
cargo test
grcov . --binary-path ./target/debug/deps/ -s . -t html --branch --ignore-not-existing -o coverage/
```

### 5.1.3. Rust Mockæ¡†æ¶

**mockall**ï¼šå¼ºå¤§çš„Mockæ¡†æ¶

```rust
use mockall::*;

#[automock]
trait Database {
    fn get_user(&self, id: u64) -> Option<User>;
}

#[test]
fn test_with_mock() {
    let mut mock_db = MockDatabase::new();
    mock_db.expect_get_user()
        .with(predicate::eq(1))
        .times(1)
        .returning(|_| Some(User::new()));

    let service = UserService::new(Box::new(mock_db));
    assert!(service.get_user(1).is_some());
}
```

## 5.2. Goå•å…ƒæµ‹è¯•

### 5.2.1. Goæµ‹è¯•åŸºç¡€

Goä½¿ç”¨`testing`åŒ…å’Œ`*testing.T`ï¼š

```go
package math

import "testing"

func TestAdd(t *testing.T) {
    result := Add(2, 3)
    if result != 5 {
        t.Errorf("Add(2, 3) = %d; want 5", result)
    }
}

func TestAddTable(t *testing.T) {
    tests := []struct {
        name     string
        a        int
        b        int
        expected int
    }{
        {"positive", 2, 3, 5},
        {"negative", -1, -2, -3},
        {"zero", 0, 0, 0},
    }

    for _, tt := range tests {
        t.Run(tt.name, func(t *testing.T) {
            result := Add(tt.a, tt.b)
            if result != tt.expected {
                t.Errorf("Add(%d, %d) = %d; want %d",
                    tt.a, tt.b, result, tt.expected)
            }
        })
    }
}
```

#### 5.2.2. Goæµ‹è¯•å·¥å…·

**go test**ï¼šè¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
go test ./...

# è¿è¡Œç‰¹å®šåŒ…
go test ./pkg/math

# æ˜¾ç¤ºè¦†ç›–ç‡
go test -cover ./...

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
go test -coverprofile=coverage.out ./...
go tool cover -html=coverage.out -o coverage.html

# ç«æ€æ£€æµ‹
go test -race ./...

# åŸºå‡†æµ‹è¯•
go test -bench=. -benchmem
```

### 5.2.3. Go Mockæ¡†æ¶

**gomock**ï¼šå®˜æ–¹Mockæ¡†æ¶

```go
//go:generate mockgen -source=db.go -destination=mock_db.go

type Database interface {
    GetUser(id int) (*User, error)
}

// ç”ŸæˆMock
// mockgen -source=db.go -destination=mock_db.go

func TestService(t *testing.T) {
    ctrl := gomock.NewController(t)
    defer ctrl.Finish()

    mockDB := NewMockDatabase(ctrl)
    mockDB.EXPECT().
        GetUser(1).
        Return(&User{ID: 1}, nil).
        Times(1)

    service := NewService(mockDB)
    user, err := service.GetUser(1)
    assert.NoError(t, err)
    assert.Equal(t, 1, user.ID)
}
```

## 5.3. Pythonå•å…ƒæµ‹è¯•

### 5.3.1. Pythonæµ‹è¯•æ¡†æ¶

**pytest**ï¼šç°ä»£Pythonæµ‹è¯•æ¡†æ¶

```python
# test_math.py
import pytest

def test_add():
    assert add(2, 3) == 5

@pytest.mark.parametrize("a,b,expected", [
    (2, 3, 5),
    (-1, -2, -3),
    (0, 0, 0),
])
def test_add_parametrize(a, b, expected):
    assert add(a, b) == expected

@pytest.fixture
def sample_data():
    return {"key": "value"}

def test_with_fixture(sample_data):
    assert sample_data["key"] == "value"
```

**unittest**ï¼šæ ‡å‡†åº“æµ‹è¯•æ¡†æ¶

```python
import unittest

class TestMath(unittest.TestCase):
    def setUp(self):
        self.calculator = Calculator()

    def test_add(self):
        self.assertEqual(self.calculator.add(2, 3), 5)

    def tearDown(self):
        pass

if __name__ == '__main__':
    unittest.main()
```

### 5.3.2. Pythonæµ‹è¯•å·¥å…·

```bash
# pytest
pytest                    # è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest test_file.py       # è¿è¡Œç‰¹å®šæ–‡ä»¶
pytest -v                 # è¯¦ç»†è¾“å‡º
pytest -k "test_add"      # è¿è¡ŒåŒ¹é…çš„æµ‹è¯•
pytest --cov=. --cov-report=html  # è¦†ç›–ç‡

# coverage
coverage run -m pytest
coverage report
coverage html
```

### 5.3.3. Python Mockæ¡†æ¶

**unittest.mock**ï¼šæ ‡å‡†åº“Mock

```python
from unittest.mock import Mock, patch, MagicMock

def test_with_mock():
    mock_db = Mock()
    mock_db.get_user.return_value = User(id=1)

    service = UserService(mock_db)
    user = service.get_user(1)
    assert user.id == 1
    mock_db.get_user.assert_called_once_with(1)

@patch('module.database')
def test_with_patch(mock_db):
    mock_db.get_user.return_value = User(id=1)
    # æµ‹è¯•ä»£ç 
```

## 5.4. JavaScript/TypeScriptå•å…ƒæµ‹è¯•

### 5.4.1. Jestæµ‹è¯•æ¡†æ¶

```javascript
// math.test.js
describe('Math', () => {
  test('adds 2 + 3 to equal 5', () => {
    expect(add(2, 3)).toBe(5);
  });

  test.each([
    [2, 3, 5],
    [-1, -2, -3],
  ])('adds %i + %i to equal %i', (a, b, expected) => {
    expect(add(a, b)).toBe(expected);
  });

  beforeEach(() => {
    // æ¯ä¸ªæµ‹è¯•å‰æ‰§è¡Œ
  });
});
```

#### 5.4.2. Vitestæµ‹è¯•æ¡†æ¶

```typescript
// math.test.ts
import { describe, it, expect } from 'vitest'

describe('Math', () => {
  it('should add two numbers', () => {
    expect(add(2, 3)).toBe(5)
  })
})
```

### 5.5. Javaå•å…ƒæµ‹è¯•

#### 5.5.1. JUnit 5

```java
import org.junit.jupiter.api.*;

class MathTest {
    @BeforeEach
    void setUp() {
        // æ¯ä¸ªæµ‹è¯•å‰æ‰§è¡Œ
    }

    @Test
    void testAdd() {
        assertEquals(5, Math.add(2, 3));
    }

    @ParameterizedTest
    @CsvSource({"2, 3, 5", "-1, -2, -3"})
    void testAddParameterized(int a, int b, int expected) {
        assertEquals(expected, Math.add(a, b));
    }
}
```

---

## 6. é›†æˆæµ‹è¯•æ¡†æ¶

### 6.1. Docker Composeé›†æˆæµ‹è¯•

#### 6.1.1. Docker Composeæµ‹è¯•é…ç½®

```yaml
# docker-compose.test.yml
version: '3.8'

services:
  postgres:
    image: postgres:15
    environment:
      POSTGRES_DB: test_db
      POSTGRES_USER: test_user
      POSTGRES_PASSWORD: test_pass
    ports:
      - "5432:5432"
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U test_user"]
      interval: 5s
      timeout: 5s
      retries: 5

  redis:
    image: redis:7-alpine
    ports:
      - "6379:6379"

  app:
    build:
      context: .
      dockerfile: Dockerfile.test
    depends_on:
      postgres:
        condition: service_healthy
      redis:
        condition: service_started
    environment:
      DATABASE_URL: postgres://test_user:test_pass@postgres:5432/test_db
      REDIS_URL: redis://redis:6379
    command: pytest tests/integration
```

## 6.1.2. é›†æˆæµ‹è¯•æ‰§è¡Œ

```bash
# å¯åŠ¨æµ‹è¯•ç¯å¢ƒ
docker-compose -f docker-compose.test.yml up -d

# è¿è¡Œé›†æˆæµ‹è¯•
docker-compose -f docker-compose.test.yml run --rm app pytest

# æ¸…ç†
docker-compose -f docker-compose.test.yml down -v
```

## 6.2. æµ‹è¯•æ•°æ®åº“ç®¡ç†

### 6.2.1. æ•°æ®åº“è¿ç§»æµ‹è¯•

```python
# tests/integration/test_migrations.py
import pytest
from alembic import command
from alembic.config import Config

@pytest.fixture(scope="session")
def db_migration():
    alembic_cfg = Config("alembic.ini")
    command.upgrade(alembic_cfg, "head")
    yield
    command.downgrade(alembic_cfg, "base")

def test_user_model(db_migration):
    # æµ‹è¯•ä»£ç 
    pass
```

## 6.2.2. æµ‹è¯•æ•°æ®éš”ç¦»

```python
# ä½¿ç”¨äº‹åŠ¡å›æ»š
@pytest.fixture
def db_session(db):
    transaction = db.begin()
    yield db
    transaction.rollback()

# ä½¿ç”¨æµ‹è¯•æ•°æ®åº“
@pytest.fixture(scope="session")
def test_db():
    engine = create_engine("postgresql://test:test@localhost/test_db")
    Base.metadata.create_all(engine)
    yield engine
    Base.metadata.drop_all(engine)
```

## 6.3. æœåŠ¡é—´é›†æˆæµ‹è¯•

### 6.3.1. å¾®æœåŠ¡é›†æˆæµ‹è¯•

```python
# tests/integration/test_services.py
import pytest
import requests

@pytest.fixture
def user_service():
    return "http://localhost:8001"

@pytest.fixture
def order_service():
    return "http://localhost:8002"

def test_create_order(user_service, order_service):
    # åˆ›å»ºç”¨æˆ·
    user_resp = requests.post(f"{user_service}/users", json={
        "name": "Test User"
    })
    user_id = user_resp.json()["id"]

    # åˆ›å»ºè®¢å•
    order_resp = requests.post(f"{order_service}/orders", json={
        "user_id": user_id,
        "items": [{"product_id": 1, "quantity": 2}]
    })

    assert order_resp.status_code == 201
```

## 6.4. APIé›†æˆæµ‹è¯•

### 6.4.1. REST APIæµ‹è¯•

```python
# tests/integration/test_api.py
import pytest
from fastapi.testclient import TestClient

@pytest.fixture
def client():
    from app.main import app
    return TestClient(app)

def test_create_user(client):
    response = client.post("/users", json={
        "name": "Test User",
        "email": "test@example.com"
    })
    assert response.status_code == 201
    assert response.json()["name"] == "Test User"

def test_get_user(client):
    # å…ˆåˆ›å»ºç”¨æˆ·
    create_resp = client.post("/users", json={
        "name": "Test User",
        "email": "test@example.com"
    })
    user_id = create_resp.json()["id"]

    # è·å–ç”¨æˆ·
    get_resp = client.get(f"/users/{user_id}")
    assert get_resp.status_code == 200
    assert get_resp.json()["id"] == user_id
```

---

## 7. ç«¯åˆ°ç«¯æµ‹è¯•æ¡†æ¶

### 7.1. Playwrightç«¯åˆ°ç«¯æµ‹è¯•

#### 7.1.1. PlaywrightåŸºç¡€

```typescript
// tests/e2e/login.spec.ts
import { test, expect } from '@playwright/test';

test.describe('ç”¨æˆ·ç™»å½•', () => {
  test('æˆåŠŸç™»å½•', async ({ page }) => {
    await page.goto('https://example.com/login');
    await page.fill('#username', 'testuser');
    await page.fill('#password', 'password123');
    await page.click('button[type="submit"]');
    await expect(page).toHaveURL('https://example.com/dashboard');
    await expect(page.locator('.welcome-message')).toBeVisible();
  });

  test('ç™»å½•å¤±è´¥', async ({ page }) => {
    await page.goto('https://example.com/login');
    await page.fill('#username', 'wronguser');
    await page.fill('#password', 'wrongpass');
    await page.click('button[type="submit"]');
    await expect(page.locator('.error-message')).toContainText('ç™»å½•å¤±è´¥');
  });
});
```

#### 7.1.2. Playwrighté…ç½®

```typescript
// playwright.config.ts
import { defineConfig, devices } from '@playwright/test';

export default defineConfig({
  testDir: './tests/e2e',
  fullyParallel: true,
  forbidOnly: !!process.env.CI,
  retries: process.env.CI ? 2 : 0,
  workers: process.env.CI ? 1 : undefined,
  reporter: 'html',
  use: {
    baseURL: 'http://localhost:3000',
    trace: 'on-first-retry',
  },
  projects: [
    {
      name: 'chromium',
      use: { ...devices['Desktop Chrome'] },
    },
    {
      name: 'firefox',
      use: { ...devices['Desktop Firefox'] },
    },
  ],
});
```

### 7.2. K6è´Ÿè½½æµ‹è¯•

#### 7.2.1. K6æµ‹è¯•è„šæœ¬

```javascript
// tests/load/api_test.js
import http from 'k6/http';
import { check, sleep } from 'k6';

export const options = {
  stages: [
    { duration: '30s', target: 20 },   // 30ç§’å†…å¢åŠ åˆ°20ç”¨æˆ·
    { duration: '1m', target: 20 },    // ä¿æŒ20ç”¨æˆ·1åˆ†é’Ÿ
    { duration: '30s', target: 50 },   // 30ç§’å†…å¢åŠ åˆ°50ç”¨æˆ·
    { duration: '1m', target: 50 },    // ä¿æŒ50ç”¨æˆ·1åˆ†é’Ÿ
    { duration: '30s', target: 0 },    // 30ç§’å†…å‡å°‘åˆ°0ç”¨æˆ·
  ],
  thresholds: {
    http_req_duration: ['p(95)<500'],  // 95%è¯·æ±‚åœ¨500mså†…
    http_req_failed: ['rate<0.01'],    // é”™è¯¯ç‡å°äº1%
  },
};

export default function () {
  const response = http.get('https://api.example.com/users');
  check(response, {
    'status is 200': (r) => r.status === 200,
    'response time < 500ms': (r) => r.timings.duration < 500,
  });
  sleep(1);
}
```

#### 7.2.2. K6æ‰§è¡Œ

```bash
# è¿è¡Œè´Ÿè½½æµ‹è¯•
k6 run tests/load/api_test.js

# ä½¿ç”¨äº‘æœåŠ¡
k6 cloud tests/load/api_test.js

# åˆ†å¸ƒå¼æ‰§è¡Œ
k6 run --vus 100 --duration 30s tests/load/api_test.js
```

## 7.3. Selenium WebDriveræµ‹è¯•

### 7.3.1. Selenium Python

```python
# tests/e2e/test_login.py
from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC

def test_login():
    driver = webdriver.Chrome()
    try:
        driver.get("https://example.com/login")
        driver.find_element(By.ID, "username").send_keys("testuser")
        driver.find_element(By.ID, "password").send_keys("password123")
        driver.find_element(By.CSS_SELECTOR, "button[type='submit']").click()

        wait = WebDriverWait(driver, 10)
        welcome = wait.until(
            EC.presence_of_element_located((By.CLASS_NAME, "welcome-message"))
        )
        assert "æ¬¢è¿" in welcome.text
    finally:
        driver.quit()
```

## 7.4. Cypressç«¯åˆ°ç«¯æµ‹è¯•

### 7.4.1. Cypressæµ‹è¯•

```javascript
// cypress/e2e/login.cy.js
describe('ç”¨æˆ·ç™»å½•', () => {
  it('æˆåŠŸç™»å½•', () => {
    cy.visit('/login');
    cy.get('#username').type('testuser');
    cy.get('#password').type('password123');
    cy.get('button[type="submit"]').click();
    cy.url().should('include', '/dashboard');
    cy.get('.welcome-message').should('be.visible');
  });
});
```

---

## 8. æ€§èƒ½æµ‹è¯•æ¡†æ¶

### 8.1. æ€§èƒ½æµ‹è¯•ç±»å‹

1. **è´Ÿè½½æµ‹è¯•ï¼ˆLoad Testingï¼‰**
   - æ­£å¸¸è´Ÿè½½ä¸‹çš„æ€§èƒ½
   - éªŒè¯ç³»ç»Ÿå®¹é‡

2. **å‹åŠ›æµ‹è¯•ï¼ˆStress Testingï¼‰**
   - è¶…å‡ºæ­£å¸¸è´Ÿè½½
   - æ‰¾å‡ºç³»ç»Ÿæé™

3. **å®¹é‡æµ‹è¯•ï¼ˆCapacity Testingï¼‰**
   - æœ€å¤§ç”¨æˆ·æ•°
   - èµ„æºä½¿ç”¨æƒ…å†µ

4. **åŸºå‡†æµ‹è¯•ï¼ˆBenchmark Testingï¼‰**
   - æ€§èƒ½åŸºå‡†
   - å›å½’æ£€æµ‹

### 8.2. æ€§èƒ½æµ‹è¯•å·¥å…·

- **K6**ï¼šç°ä»£è´Ÿè½½æµ‹è¯•å·¥å…·
- **JMeter**ï¼šApacheæ€§èƒ½æµ‹è¯•å·¥å…·
- **Gatling**ï¼šScalaæ€§èƒ½æµ‹è¯•æ¡†æ¶
- **Locust**ï¼šPythonæ€§èƒ½æµ‹è¯•å·¥å…·
- **wrk**ï¼šHTTPåŸºå‡†æµ‹è¯•å·¥å…·

### 8.3. æ€§èƒ½åŸºå‡†æµ‹è¯•

#### 8.3.1. GoåŸºå‡†æµ‹è¯•

```go
// benchmark_test.go
func BenchmarkAdd(b *testing.B) {
    for i := 0; i < b.N; i++ {
        Add(2, 3)
    }
}

func BenchmarkAddParallel(b *testing.B) {
    b.RunParallel(func(pb *testing.PB) {
        for pb.Next() {
            Add(2, 3)
        }
    })
}
```

#### 8.3.2. RuståŸºå‡†æµ‹è¯•

```rust
#[cfg(test)]
mod benches {
    use super::*;
    use test::Bencher;

    #[bench]
    fn bench_add(b: &mut Bencher) {
        b.iter(|| add(2, 3));
    }
}
```

---

## 9. å®‰å…¨æµ‹è¯•æ¡†æ¶

### 9.1. å®‰å…¨æµ‹è¯•ç±»å‹

1. **é™æ€åˆ†æï¼ˆSASTï¼‰**
   - ä»£ç æ‰«æ
   - æ¼æ´æ£€æµ‹

2. **åŠ¨æ€åˆ†æï¼ˆDASTï¼‰**
   - è¿è¡Œæ—¶æ‰«æ
   - æ¸—é€æµ‹è¯•

3. **ä¾èµ–æ‰«æ**
   - ç¬¬ä¸‰æ–¹åº“æ¼æ´
   - è®¸å¯è¯æ£€æŸ¥

### 9.2. å®‰å…¨æµ‹è¯•å·¥å…·

- **OWASP ZAP**ï¼šWebåº”ç”¨å®‰å…¨æ‰«æ
- **Snyk**ï¼šä¾èµ–æ¼æ´æ‰«æ
- **Bandit**ï¼šPythonå®‰å…¨æ‰«æ
- **cargo-audit**ï¼šRustä¾èµ–å®¡è®¡
- **npm audit**ï¼šNode.jsä¾èµ–å®¡è®¡

### 9.3. å®‰å…¨æ‰«æé›†æˆ

```yaml
# .github/workflows/security.yml
name: Security Scan
on: [push, pull_request]
jobs:
  security:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Run Snyk
        uses: snyk/actions/node@master
        env:
          SNYK_TOKEN: ${{ secrets.SNYK_TOKEN }}
      - name: Run Bandit
        run: |
          pip install bandit
          bandit -r . -f json -o bandit-report.json
```

---

## 10. æµ‹è¯•è¦†ç›–ç‡é—¨ç¦

### 10.1. è¦†ç›–ç‡é˜ˆå€¼é…ç½®

#### 10.1.1. Goè¦†ç›–ç‡é˜ˆå€¼

```bash
# æ£€æŸ¥è¦†ç›–ç‡æ˜¯å¦è¾¾åˆ°70%
go test -coverprofile=coverage.out ./...
coverage=$(go tool cover -func=coverage.out | grep total | awk '{print $3}' | sed 's/%//')
if (( $(echo "$coverage < 70" | bc -l) )); then
    echo "Coverage $coverage% is below 70%"
    exit 1
fi
```

## 10.1.2. Rustè¦†ç›–ç‡é˜ˆå€¼

```toml
# Cargo.toml
[package.metadata.coverage]
minimum = 70.0
```

### 10.1.3. Pythonè¦†ç›–ç‡é˜ˆå€¼

```ini
# .coveragerc
[run]
source = .

[report]
fail_under = 70
exclude_lines =
    pragma: no cover
    def __repr__
    raise AssertionError
    raise NotImplementedError
```

## 10.2. è¦†ç›–ç‡æŠ¥å‘Šç”Ÿæˆ

### 10.2.1. HTMLæŠ¥å‘Š

```bash
# Go
go tool cover -html=coverage.out -o coverage.html

# Python
coverage html

# JavaScript
npm run test:coverage
```

## 10.3. è¦†ç›–ç‡é—¨ç¦ç­–ç•¥

- **æ–°ä»£ç **ï¼š100%è¦†ç›–ç‡è¦æ±‚
- **ä¿®æ”¹ä»£ç **ï¼šä¿æŒæˆ–æé«˜è¦†ç›–ç‡
- **æ•´ä½“é¡¹ç›®**ï¼šâ‰¥70%è¦†ç›–ç‡
- **å…³é”®æ¨¡å—**ï¼šâ‰¥90%è¦†ç›–ç‡

---

## 11. æµ‹è¯•æ•°æ®ç®¡ç†

### 11.1. æµ‹è¯•æ•°æ®ç”Ÿæˆ

#### 11.1.1. ä½¿ç”¨Fakerç”Ÿæˆæ•°æ®

```python
# Python
from faker import Faker

fake = Faker()

def generate_user():
    return {
        "name": fake.name(),
        "email": fake.email(),
        "phone": fake.phone_number(),
    }
```

```go
// Go
import "github.com/brianvoe/gofakeit/v6"

func generateUser() User {
    return User{
        Name:  gofakeit.Name(),
        Email: gofakeit.Email(),
        Phone: gofakeit.Phone(),
    }
}
```

## 11.2. æµ‹è¯•æ•°æ®éš”ç¦»

- æ¯ä¸ªæµ‹è¯•ä½¿ç”¨ç‹¬ç«‹æ•°æ®
- ä½¿ç”¨äº‹åŠ¡å›æ»š
- ä½¿ç”¨æµ‹è¯•æ•°æ®åº“
- ä½¿ç”¨Mockæ•°æ®

### 11.3. æµ‹è¯•æ•°æ®æ¸…ç†

```python
@pytest.fixture(autouse=True)
def cleanup():
    yield
    # æµ‹è¯•åæ¸…ç†
    cleanup_test_data()
```

---

## 12. CI/CDé›†æˆ

### 12.1. GitHub Actionsé›†æˆ

```yaml
# .github/workflows/test.yml
name: Test Suite
on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        language: [rust, go, python]

    steps:
      - uses: actions/checkout@v4

      - name: Setup Rust
        if: matrix.language == 'rust'
        uses: actions-rs/toolchain@v1
        with:
          toolchain: stable

      - name: Setup Go
        if: matrix.language == 'go'
        uses: actions/setup-go@v5
        with:
          go-version: '1.22'

      - name: Setup Python
        if: matrix.language == 'python'
        uses: actions/setup-python@v5
        with:
          python-version: '3.11'

      - name: Run Rust tests
        if: matrix.language == 'rust'
        run: |
          cargo test --all --locked
          cargo test --all --locked -- --test-threads=1

      - name: Run Go tests
        if: matrix.language == 'go'
        run: |
          go test ./... -race -coverprofile=coverage.out
          go tool cover -func=coverage.out

      - name: Run Python tests
        if: matrix.language == 'python'
        run: |
          pip install -r requirements.txt
          pytest --cov=. --cov-report=xml

      - name: Check coverage
        run: |
          # è¦†ç›–ç‡æ£€æŸ¥é€»è¾‘

      - name: Upload coverage
        uses: codecov/codecov-action@v3
        with:
          files: ./coverage.xml,./coverage.out
```

## 12.2. GitLab CIé›†æˆ

```yaml
# .gitlab-ci.yml
stages:
  - test

unit-test:
  stage: test
  image: rust:latest
  script:
    - cargo test --all --locked
  coverage: '/coverage: \d+\.\d+%/'

integration-test:
  stage: test
  services:
    - postgres:15
    - redis:7-alpine
  script:
    - docker-compose -f docker-compose.test.yml up -d
    - pytest tests/integration
  after_script:
    - docker-compose -f docker-compose.test.yml down -v
```

## 12.3. Jenkinsé›†æˆ

```groovy
// Jenkinsfile
pipeline {
    agent any

    stages {
        stage('Test') {
            parallel {
                stage('Unit Test') {
                    steps {
                        sh 'cargo test --all'
                    }
                }
                stage('Integration Test') {
                    steps {
                        sh 'docker-compose -f docker-compose.test.yml up -d'
                        sh 'pytest tests/integration'
                        sh 'docker-compose -f docker-compose.test.yml down -v'
                    }
                }
            }
        }
    }

    post {
        always {
            publishHTML([
                reportDir: 'coverage',
                reportFiles: 'index.html',
                reportName: 'Coverage Report'
            ])
        }
    }
}
```

### 12.4. æµ‹è¯•å¹¶è¡ŒåŒ–ç­–ç•¥

- **æŒ‰æµ‹è¯•æ–‡ä»¶å¹¶è¡Œ**ï¼šä¸åŒæ–‡ä»¶å¹¶è¡Œæ‰§è¡Œ
- **æŒ‰æµ‹è¯•å¥—ä»¶å¹¶è¡Œ**ï¼šå•å…ƒã€é›†æˆã€E2Eå¹¶è¡Œ
- **æŒ‰è¯­è¨€å¹¶è¡Œ**ï¼šä¸åŒè¯­è¨€æµ‹è¯•å¹¶è¡Œ
- **ä½¿ç”¨æµ‹è¯•çŸ©é˜µ**ï¼šå¤šç¯å¢ƒå¹¶è¡Œæµ‹è¯•

---

## 13. å®é™…åº”ç”¨æ¡ˆä¾‹

### 13.1. å¾®æœåŠ¡æ¶æ„æµ‹è¯•æ¡ˆä¾‹

#### 13.1.1. æµ‹è¯•ç­–ç•¥

```text
ç”¨æˆ·æœåŠ¡ (70%å•å…ƒ + 20%é›†æˆ + 10%E2E)
è®¢å•æœåŠ¡ (70%å•å…ƒ + 20%é›†æˆ + 10%E2E)
æ”¯ä»˜æœåŠ¡ (80%å•å…ƒ + 15%é›†æˆ + 5%E2E)
```

#### 13.1.2. æµ‹è¯•æ‰§è¡Œæµç¨‹

1. **å•å…ƒæµ‹è¯•**ï¼šå„æœåŠ¡ç‹¬ç«‹æ‰§è¡Œ
2. **é›†æˆæµ‹è¯•**ï¼šæœåŠ¡é—´APIæµ‹è¯•
3. **E2Eæµ‹è¯•**ï¼šå®Œæ•´ä¸šåŠ¡æµç¨‹æµ‹è¯•

### 13.2. æ•°æ®åº“ç³»ç»Ÿæµ‹è¯•æ¡ˆä¾‹

#### 13.2.1. PostgreSQLæµ‹è¯•

```python
# ä½¿ç”¨pytest-postgresql
@pytest.fixture(scope="session")
def postgresql_proc():
    return postgresql_proc(port=5432)

def test_query(postgresql_proc):
    with postgresql_proc.cursor() as cursor:
        cursor.execute("SELECT 1")
        assert cursor.fetchone()[0] == 1
```

## 13.3. Webåº”ç”¨æµ‹è¯•æ¡ˆä¾‹

### 13.3.1. å…¨æ ˆæµ‹è¯•

- **å‰ç«¯**ï¼šJest + React Testing Library
- **åç«¯**ï¼špytest + FastAPI TestClient
- **E2E**ï¼šPlaywright
- **æ€§èƒ½**ï¼šK6

---

## 14. æœ€ä½³å®è·µä¸å»ºè®®

### 14.1. æµ‹è¯•ç¼–å†™åŸåˆ™

1. **AAAæ¨¡å¼**ï¼šArrange-Act-Assert
2. **å•ä¸€èŒè´£**ï¼šä¸€ä¸ªæµ‹è¯•ä¸€ä¸ªåœºæ™¯
3. **ç‹¬ç«‹æ€§**ï¼šæµ‹è¯•ä¹‹é—´ä¸ä¾èµ–
4. **å¯è¯»æ€§**ï¼šæ¸…æ™°çš„æµ‹è¯•åç§°å’Œç»“æ„
5. **å¿«é€Ÿæ‰§è¡Œ**ï¼šå•å…ƒæµ‹è¯•åº”è¯¥å¿«é€Ÿ

### 14.2. æµ‹è¯•ç»´æŠ¤å»ºè®®

- å®šæœŸé‡æ„æµ‹è¯•ä»£ç 
- åˆ é™¤è¿‡æ—¶æµ‹è¯•
- ä¿æŒæµ‹è¯•æ–‡æ¡£æ›´æ–°
- ç›‘æ§æµ‹è¯•æ‰§è¡Œæ—¶é—´
- ä¼˜åŒ–æ…¢é€Ÿæµ‹è¯•

### 14.3. æµ‹è¯•è´¨é‡æŒ‡æ ‡

- **è¦†ç›–ç‡**ï¼šâ‰¥70%
- **æ‰§è¡Œæ—¶é—´**ï¼šå•å…ƒæµ‹è¯•<1ç§’ï¼Œé›†æˆæµ‹è¯•<1åˆ†é’Ÿ
- **ç¨³å®šæ€§**ï¼šæµ‹è¯•é€šè¿‡ç‡â‰¥95%
- **ç»´æŠ¤æ€§**ï¼šæµ‹è¯•ä»£ç ä¸äº§å“ä»£ç æ¯”ä¾‹1:3

---

## 15. ğŸ”— ç›¸å…³èµ„æº

- [æµ‹è¯•é‡‘å­—å¡”ç†è®º](https://martinfowler.com/articles/practical-test-pyramid.html)
- [TDDæœ€ä½³å®è·µ](https://www.agilealliance.org/glossary/tdd/)
- [BDDæŒ‡å—](https://cucumber.io/docs/bdd/)
- [Playwrightæ–‡æ¡£](https://playwright.dev/)
- [K6æ–‡æ¡£](https://k6.io/docs/)

---

## 16. ğŸ”— äº¤å‰å¼•ç”¨

### 16.1. ç›¸å…³æ–‡æ¡£

- [7.1-ç‰ˆæœ¬æ§åˆ¶](../7.1-ç‰ˆæœ¬æ§åˆ¶/)
- [7.3-éƒ¨ç½²æµç¨‹](../7.3-éƒ¨ç½²æµç¨‹/)
- [7.4-CI_CD](../7.4-CI_CD/)
- [4.1-æ¶æ„è®¾è®¡](../../4-è½¯ä»¶æ¶æ„ä¸å·¥ç¨‹/4.1-æ¶æ„è®¾è®¡/)

---

**æœ€åæ›´æ–°**ï¼š2025-01-16
**ç»´æŠ¤è€…**ï¼šData-Science Team
**çŠ¶æ€**ï¼šâœ… å·²å®Œæˆ
