# 1.2.5 åˆ†å¸ƒå¼ä¸é«˜å¯ç”¨

## ğŸ“‘ ç›®å½•

- [1.2.5 åˆ†å¸ƒå¼ä¸é«˜å¯ç”¨](#125-åˆ†å¸ƒå¼ä¸é«˜å¯ç”¨)
  - [ğŸ“‘ ç›®å½•](#-ç›®å½•)
  - [1. ä¸»ä»å¤åˆ¶](#1-ä¸»ä»å¤åˆ¶)
  - [2. è¯»å†™åˆ†ç¦»ä¸é«˜å¯ç”¨](#2-è¯»å†™åˆ†ç¦»ä¸é«˜å¯ç”¨)
  - [3. è¡Œä¸šæ¡ˆä¾‹ä¸å¤šè¡¨å¾](#3-è¡Œä¸šæ¡ˆä¾‹ä¸å¤šè¡¨å¾)
    - [3.1. ç”µå•†è¡Œä¸šï¼šä¸»ä»å¤åˆ¶ä¸è¯»å†™åˆ†ç¦»](#31-ç”µå•†è¡Œä¸šä¸»ä»å¤åˆ¶ä¸è¯»å†™åˆ†ç¦»)
    - [3.2. é‡‘èè¡Œä¸šï¼šMGRé«˜å¯ç”¨é›†ç¾¤](#32-é‡‘èè¡Œä¸šmgré«˜å¯ç”¨é›†ç¾¤)
    - [3.3. Latexå…¬å¼](#33-latexå…¬å¼)
    - [3.4. é…ç½®ç¤ºä¾‹](#34-é…ç½®ç¤ºä¾‹)

---


## 1. ä¸»ä»å¤åˆ¶

- åŸºäºbinlogçš„å¼‚æ­¥/åŠåŒæ­¥/å…¨åŒæ­¥å¤åˆ¶ã€‚
- å…¸å‹æ¶æ„ï¼šä¸€ä¸»å¤šä»ï¼Œä¸»ä»å»¶è¿Ÿç›‘æ§ã€‚

## 2. è¯»å†™åˆ†ç¦»ä¸é«˜å¯ç”¨

- è¯»å†™åˆ†ç¦»ï¼šä¸»åº“å†™ã€ä»åº“è¯»ï¼Œæå‡å¹¶å‘ã€‚
- é«˜å¯ç”¨æ–¹æ¡ˆï¼šMGRã€Keepalivedã€ProxySQLç­‰ã€‚

| æ¶æ„æ¨¡å¼ | ç‰¹ç‚¹ | é€‚ç”¨åœºæ™¯ |
|----------|------|----------|
| ä¸€ä¸»å¤šä» | ç®€å•ã€æ˜“æ‰©å±• | è¯»å¤šå†™å°‘ |
| MGRé›†ç¾¤ | è‡ªåŠ¨æ•…éšœåˆ‡æ¢ | é‡‘èçº§é«˜å¯ç”¨ |
| è¯»å†™åˆ†ç¦» | æå‡åå | äº’è”ç½‘ã€ç”µå•† |

## 3. è¡Œä¸šæ¡ˆä¾‹ä¸å¤šè¡¨å¾

### 3.1. ç”µå•†è¡Œä¸šï¼šä¸»ä»å¤åˆ¶ä¸è¯»å†™åˆ†ç¦»

```mermaid
flowchart LR
  U[ç”¨æˆ·] --> W[å†™è¯·æ±‚] --> M[ä¸»åº“]
  U --> R[è¯»è¯·æ±‚] --> S1[ä»åº“1]
  U --> R --> S2[ä»åº“2]
  M --> S1
  M --> S2
```

### 3.2. é‡‘èè¡Œä¸šï¼šMGRé«˜å¯ç”¨é›†ç¾¤

- è§[4.3.1-å¾®æœåŠ¡æ¶æ„åŸºç¡€ç†è®º](../../4-è½¯ä»¶æ¶æ„ä¸å·¥ç¨‹/4.3-å¾®æœåŠ¡æ¶æ„/4.3.1-å¾®æœåŠ¡æ¶æ„åŸºç¡€ç†è®º.md)

### 3.3. Latexå…¬å¼

$$
Availability = \frac{MTBF}{MTBF + MTTR}
$$

### 3.4. é…ç½®ç¤ºä¾‹

```ini
[mysqld]
server-id=1
log-bin=mysql-bin
read_only=1
```

[è¿”å›MySQLå¯¼èˆª](README.md)
