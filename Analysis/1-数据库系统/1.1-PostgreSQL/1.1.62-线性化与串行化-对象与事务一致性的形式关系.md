# 1.1.62-线性化与串行化-对象与事务一致性的形式关系

## 摘要

- 目标：对比对象级线性化（linearizability）与事务级可串行化（serializability）的关系与差异，给出判别与工程启示。

## 问题定义（形式化）

- 线性化：每个操作看似瞬时发生且尊重实时时序（强一致对象）。
- 可串行化：整个事务集合等价于某一串行调度，未必尊重实时时序。
- 关系：线性化 ⇒ 可串行化（特定对象事务化）、反之不成立；SSI近似线性化某些读写对象。

## 最小示例（可运行）

```sql
-- PostgreSQL SSI 示例（默认RC，序列化隔离级别）
SET TRANSACTION ISOLATION LEVEL SERIALIZABLE;
-- 在两个会话中测试冲突事务，观察可见的serialization_failure错误
```

## 实务要点

- 选择模型：需要实时时序保证选线性化（代价高）；大多数业务选择可串行化/快照隔离增强。
- 识别风险：读倾斜/写偏差/丢失更新；通过约束、乐观锁或更高隔离切换缓解。
- 分布式：线性化常需共识（如Raft/Paxos）；跨分区事务常仅提供可串行化或更弱模型。

## 交叉引用

- `1.1.47-事务隔离理论-完整版.md`
- `1.1.61-快照隔离异常谱系-形式分类与必要条件.md`
- `1.1.31-分布式一致性与CAP-形式化刻画与权衡.md`
