# 1.1.66 双时态表：事务时间与有效时间的形式语义（纯形式化）

## 目录

1. 时间维与区间
2. 约束与一致性
3. 合并（Coalescing）

## 1. 维度

- 事务时间 t_trx 与有效时间 t_val 为区间；元组活跃当且仅当 \(now\in t_trx\) 且查询时点 \(\tau\in t_val\)。

## 2. 约束

- 不变式：相同键的相邻有效区间可合并；重叠需定义冲突解；

## 3. 合并

- 定义：对同键、相邻且值相同的区间进行区间并；
- 定理：合并保持查询语义不变并最小化分段数。
