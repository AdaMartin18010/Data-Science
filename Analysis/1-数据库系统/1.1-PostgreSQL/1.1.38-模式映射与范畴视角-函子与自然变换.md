# 1.1.38 模式映射与范畴视角：函子与自然变换（纯形式化）

## 目录

1. 模式与实例的范畴建模
2. 函子化的数据迁移
3. 自然变换与一致性

## 1. 模式与实例

- 将一个模式视为小范畴 \(\mathcal{S}\)，对象为表，态射为外键/约束映射；
- 一个实例是函子 \(I: \mathcal{S} \to \mathbf{Set}\)。

## 2. 数据迁移

- 模式映射 \(F: \mathcal{S}\to \mathcal{T}\) 诱导前/后推函子 \(\Sigma_F, \Delta_F, \Pi_F\)；
- 命题 2.1：在适当限制下（极限/余极限存在），迁移保持约束可满足性。

## 3. 自然变换

- 自然变换 \(\eta: I\Rightarrow J\) 刻画两个实例间的一致变换；
- 定理 3.1：若 \(\eta\) 是自然同构，则数据同构；
- 命题 3.2：自然性方块保证关系间约束在迁移前后保持。
