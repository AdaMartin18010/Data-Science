# 1.1.102-数据库知识图谱模型-图数据库与语义查询的形式化

## 摘要

- 目标：统一属性图/三元组模型与语义查询（SPARQL/递归SQL）的映射与实践。

## 问题定义（形式化）

- 三元组 ⟨s,p,o⟩；SPARQL图模式匹配等价于联接查询；本体约束作为推理规则。

## 最小示例（可运行）

```sql
-- 三元组表建模（示意）
CREATE TABLE triple (s text, p text, o text);
-- SPARQL风格查询可写作自联接
SELECT t1.s FROM triple t1 JOIN triple t2 ON t1.s=t2.s
WHERE t1.p='type' AND t1.o='Person' AND t2.p='worksAt' AND t2.o='Acme';
```

## 实务要点

- 约束与索引：为 (s,p),(p,o) 建索引；规则推理可离线展开或物化。
- 本体管理：术语表与关系映射；保持版本与兼容。
- 可视化：生成schema图与关系热度，为实体对齐与清洗提供依据。

## 交叉引用

- `1.1.95-数据库图数据模型-图查询语言与图算法的形式化.md`
- `03-高级特性/03.08-知识图谱与语义层.md`
- `1.1.20-PostgreSQL与AI模型深度集成架构.md`
