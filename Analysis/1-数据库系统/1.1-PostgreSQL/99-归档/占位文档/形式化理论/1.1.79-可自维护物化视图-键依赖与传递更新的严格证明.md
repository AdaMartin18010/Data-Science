---
title: 1.1.79-可自维护物化视图-键依赖与传递更新的严格证明
slug: 1.1.79-可自维护物化视图-键依赖与传递更新的严格证明
tags: []
pg_version: 16
status: draft
last_review: 2025-09-12
owner: TBD
---

﻿# 1.1.79-可自维护物化视图-键依赖与传递更新的严格证明

## 摘要

- 目标：在键依赖与外键约束下，证明增量传播的传递闭包可构造，进而保证自维护性。

## 问题定义（形式化）

- 模式含键依赖 K 与外键 F。视图 V=Q(R) 若存在函数 ΔV=f(ΔR,V) 且在级联更新下闭合，则对序列化的变更流可自维护。

## 最小示例（可运行）

```sql
-- 订单与明细的键依赖与外键
ALTER TABLE order_items ADD CONSTRAINT fk_order FOREIGN KEY(order_id) REFERENCES orders(id);
-- 增量刷新：业务中通过触发器/变更流构造 ΔV（示意）
```

## 证明思路概述

- 利用键依赖保证连接唯一性；利用外键保证新增/删除的可归因性；
- 传递更新通过拓扑序遍历依赖图，逐步合成ΔV；
- 在没有环的依赖图下，存在唯一的最小ΔV满足视图一致性。

## 交叉引用

- `1.1.74-可自维护物化视图-可维护性判据与构造.md`
- `1.1.60-物化视图选择-查询重写等价与代价界.md`
- `1.1.33-关系约束与规范化-函数依赖与范式证明.md`
