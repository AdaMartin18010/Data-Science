---
title: 1.1.34-代价模型与优化器-等价重写与最优性
slug: 1.1.34-代价模型与优化器-等价重写与最优性
tags: []
pg_version: 16
status: draft
last_review: 2025-09-12
owner: TBD
---

# 1.1.34 代价模型与优化器：等价重写与最优性（纯形式化）

## 目录

1. 计划空间与等价类
2. 代价函数与最优性存在性
3. 搜索策略的完备与剪枝正确性
4. 估计误差与稳健性分析

## 1. 计划空间与等价类

- 定义 1.1（等价类）: 语义等价的表达式集合 [e]；由等价律生成。
- 定义 1.2（计划图）: 节点为等价类，边为代价保持或下降的变换。

## 2. 代价函数与最优性

- 定义 2.1（代价函数）: COST([e],D)=f(card, sel, cpu, io,…)，非负并下界0。
- 定理 2.2（最优性存在性）: 有限计划空间与下确界可取到，存在最优计划 argmin COST。
  证明：有限性/紧致性；或用良序原理。□

## 3. 搜索与剪枝

- 定义 3.1（上界与支配）: 若计划 p1 在所有代价维度支配 p2，则可剪枝 p2。
- 定理 3.2（剪枝正确）: 支配剪枝不移除全局最优。
  证明：反证；若最优被剪，存在支配矛盾。□
- 定理 3.3（分解可加）: 若代价可分解到子表达式并满足三角不等式，动态规划是完备的。

## 4. 估计误差与稳健性

- 定义 4.1（估计扰动）: 基数估计以区间 [l,u] 表示不确定性。
- 定理 4.2（稳健选择）: 选择最坏情形下代价最小的计划保证上界性能；当不确定集凸时为保守最优。
- 命题 4.3：当误差跨越连接顺序阈值，最优计划不连续；需引入容错计划集。
