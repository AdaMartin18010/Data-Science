# 1.1.84-数据库压缩与编码-信息论下界与最优编码

## 摘要

- 目标：连接熵界与数据库压缩策略，讨论列式/行式、字典/游程/差分/位图等编码的选择准则。

## 问题定义（形式化）

- 源熵 H(X) 为压缩下界；实际开销 ≈ H(X)+冗余(模型失配+结构开销)。
- 目标：在CPU与I/O约束下最小化总体代价：C=IO(coded)+CPU(encode/decode)。

## 最小示例（可运行）

```sql
-- 以列存扩展/压缩参数为例（概念示例，不同扩展语法差异大）
-- 关系内示例：对高重复枚举列创建表达式索引+枚举映射实现“伪字典”查询加速
```

## 实务要点

- 列式优先：分析型负载适合列式+向量化；行式适合OLTP随机写。
- 编码选择：高Cardinality→差分/位图；低Cardinality→字典/游程。
- 采样与自适应：基于采样估计熵与分布，选择编码方案；离线重编码。

## 交叉引用

- `1.1.86-数据库日志压缩-增量编码与压缩率优化.md`
- `02-查询处理/02.01-查询优化器原理.md`
- `03-高级特性/03.03-扩展与自定义类型.md`
