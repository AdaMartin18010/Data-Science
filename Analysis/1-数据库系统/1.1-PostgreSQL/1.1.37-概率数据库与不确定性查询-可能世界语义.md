# 1.1.37 概率数据库与不确定性查询：可能世界语义（纯形式化）

## 目录

1. 可能世界语义
2. 概率查询与置信度
3. 可计算性与复杂度

## 1. 可能世界

- 定义 1.1：一个概率数据库为 (\Omega, P, I)，其中 \Omega 为可能世界集合，P 概率测度，I 为世界到实例的映射。
- 定义 1.2（查询的随机变量）：对查询 Q，随机变量 X_Q(\omega)=Q(I(\omega))。

## 2. 概率查询

- 定义 2.1（布尔查询置信度）：Conf(Q)=P\{\omega\mid X_Q(\omega)=true\}。
- 定理 2.2：独立-同分布元组模型下，联接/并/差的概率可由独立性与容斥计算；
- 命题 2.3：相关性破坏封闭式表达，需引入因子图或近似推理。

## 3. 复杂度

- 定理 3.1：一般布尔Datalog概率评价为#P-完全；
- 命题 3.2：对分解图界限有界的查询图，可多项式时间近似并给出误差界。
