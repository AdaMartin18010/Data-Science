# PostgreSQL 对齐追踪矩阵（课程/Wiki/版本→文档）

> 用于追踪国际课程、Wiki 与 17.x 新特性对本仓素材的覆盖度与差距。

## 视图

- 课程对齐视图：课程模块→本仓文件→缺口与任务
- Wiki 对齐视图：条目→本仓文件→术语状态
- 版本特性视图：特性→示例/基准→验证状态

---

## 课程对齐（样例草表）

| 课程模块 | 关键点 | 仓内映射 | 缺口 | 状态 |
|---|---|---|---|---|
| 事务/隔离 | SI/SSI/2PL/异常谱 | `1.1.47-事务隔离理论-完整版.md`、`1.1.61-快照隔离异常谱系-形式分类与必要条件.md`、`1.1.69-两阶段加锁-可串行化的严格证明.md` | 加入 17.x 行为变化核对 | 进行中 |
| 存储/WAL | ARIES/恢复/崩溃一致 | `1.1.57-ARIES日志恢复-正确性与不变式.md`、`1.1.5-事务处理.md` | 增补 crash 恢复演练脚本 | 待办 |
| 优化器 | 代价模型/统计/重写 | `1.1.4-查询优化-增强版.md`、`1.1.49-选择率估计误差-敏感性与上界.md`、`1.1.82-索引选择与代价模型-多目标优化的Pareto最优性.md`、`1.1.80-查询重写等价性-基于同构的充分必要条件.md` | 新特性与 JSON/MERGE 影响 | 待办 |
| 复制 | 物理/逻辑/一致性 | `1.1.65-逻辑复制-一致性语义与冲突解算.md`、`1.1.55-两阶段提交-可恢复性与阻塞特性证明.md`、`1.1.56-SAGA与补偿事务-可达性与幂等性条件.md` | 17.x 订阅与槽改进对齐 | 待办 |

## Wiki 对齐（样例草表）

| 条目 | 术语 | 仓内映射 | 术语一致性 | 状态 |
|---|---|---|---|---|
| SQL/JSON | JSON_TABLE 等 | `1.1.98-数据库JSON数据模型-JSON查询与模式验证的形式化.md`、`1.1.21-PostgreSQL-2025最新特性全面分析.md` | 待规范 | 待办 |
| MERGE | RETURNING/可更新视图 | `1.1.144-PostgreSQL-2025年新特性深度分析.md` | 待补示例 SQL | 待办 |
| 分区裁剪 | 等价与语义 | `1.1.59-表分区与分区裁剪-语义与等价.md` | 基准与观测 | 待办 |

## 版本特性（17.x 样例）

| 特性 | 示例/验证 | 仓内映射 | 状态 |
|---|---|---|---|
| SQL/JSON: JSON_TABLE | `sql/feature_tests/json_table.sql` | `1.1.98-...JSON...md`、`1.1.21-...最新特性...md` | 进行中 |
| MERGE RETURNING | `sql/feature_tests/merge_returning.sql` | `1.1.144-...新特性深度分析.md` | 进行中 |
| 逻辑复制改进 | `sql/feature_tests/logical_rep_setup.sql` | `1.1.65-逻辑复制-...md` | 进行中 |
| 增量备份 | Runbook/脚本 | `1.1.88-数据库备份与恢复-...md` | 进行中 |

---

## 状态标签

- 待办、进行中、完成、阻塞

## 备注

- 本矩阵按双周更新；每次更新需同步“对齐与升级计划.md”的里程碑完成度。

---

### 扩展条目（补充）

| 特性 | 示例/验证 | 仓内映射 | 状态 |
|---|---|---|---|
| VACUUM 内存/吞吐优化 | `bench/feature_bench/vacuum_memory_throughput.md` | `1.1.93-数据库性能调优-参数优化与自适应调整的形式化.md` | 进行中 |
| IN 子句 + B-Tree 优化 | `bench/feature_bench/in_clause_btree.md` | `1.1.4-查询优化-增强版.md`、`1.1.82-索引选择与代价模型-多目标优化的Pareto最优性.md` | 进行中 |
| BRIN 并行构建 | `bench/feature_bench/brin_parallel_build.md` | `1.1.59-表分区与分区裁剪-语义与等价.md` | 进行中 |
| EXPLAIN 扩展（SERIALIZE/MEMORY） | `sql/feature_tests/explain_memory.sql` | `1.1.4-查询优化-增强版.md` | 进行中 |

---

## 附：课程与 Wiki 参考来源（占位）

- 课程：MIT 6.830/6.814、CMU 15-445/15-721、Stanford CS346、UCB CS186
- Wiki：SQL/JSON、MERGE、MVCC、WAL、Replication、Partitioning、Query Optimization、RLS

---

## Runbook 进度

| 主题 | 文件 | 状态 |
|---|---|---|
| 增量备份与恢复 | `runbook/增量备份与恢复.md` | 初稿已建 |
| 故障切换与订阅重建 | `runbook/故障切换与订阅重建.md` | 初稿已建 |
| 监控与可观测 | `runbook/监控与可观测.md` | 初稿已建 |
| 变更与回滚 | `runbook/变更与回滚.md` | 初稿已建 |

## 案例进度

| 场景 | 文件 | 状态 |
|---|---|---|
| 金融账务一致性 | `cases/金融账务一致性.md` | 初稿已建 |
| 实时推荐 | `cases/实时推荐.md` | 初稿已建 |
| 时序监控 | `cases/时序监控.md` | 初稿已建 |
| 向量检索与 RAG | `cases/向量检索与RAG.md` | 初稿已建 |
