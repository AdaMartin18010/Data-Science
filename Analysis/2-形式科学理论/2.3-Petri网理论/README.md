# 2.3-Petriç½‘ç†è®º åˆ†æ”¯å¯¼èˆª

## ğŸ“‘ ç›®å½•

- [2.3-Petriç½‘ç†è®º åˆ†æ”¯å¯¼èˆª](#23-petriç½‘ç†è®º-åˆ†æ”¯å¯¼èˆª)
  - [ğŸ“‘ ç›®å½•](#-ç›®å½•)
  - [1. æ¦‚è¿°](#1-æ¦‚è¿°)
  - [2. ç›®å½•ç»“æ„ä¸æœ¬åœ°è·³è½¬](#2-ç›®å½•ç»“æ„ä¸æœ¬åœ°è·³è½¬)
  - [3. æ ¸å¿ƒæ¦‚å¿µ](#3-æ ¸å¿ƒæ¦‚å¿µ)
    - [3.1. Petriç½‘åŸºç¡€](#31-petriç½‘åŸºç¡€)
    - [3.2. åŸºæœ¬Petriç½‘](#32-åŸºæœ¬petriç½‘)
    - [3.3. é«˜çº§Petriç½‘](#33-é«˜çº§petriç½‘)
    - [3.4. åˆ†ææŠ€æœ¯](#34-åˆ†ææŠ€æœ¯)
  - [4. ç†è®ºåŸºç¡€](#4-ç†è®ºåŸºç¡€)
    - [4.1. Petriç½‘å½¢å¼åŒ–å®šä¹‰](#41-petriç½‘å½¢å¼åŒ–å®šä¹‰)
    - [4.2. å¯è¾¾æ€§åˆ†æ](#42-å¯è¾¾æ€§åˆ†æ)
    - [4.3. ç»“æ„åˆ†æ](#43-ç»“æ„åˆ†æ)
  - [5. åº”ç”¨åœºæ™¯](#5-åº”ç”¨åœºæ™¯)
    - [5.1. å¹¶å‘ç³»ç»Ÿå»ºæ¨¡](#51-å¹¶å‘ç³»ç»Ÿå»ºæ¨¡)
    - [5.2. å·¥ä½œæµç³»ç»Ÿ](#52-å·¥ä½œæµç³»ç»Ÿ)
    - [5.3. åˆ¶é€ ç³»ç»Ÿ](#53-åˆ¶é€ ç³»ç»Ÿ)
    - [5.4. åè®®éªŒè¯](#54-åè®®éªŒè¯)
  - [6. è¡Œä¸šæ¡ˆä¾‹ä¸å¤šè¡¨å¾](#6-è¡Œä¸šæ¡ˆä¾‹ä¸å¤šè¡¨å¾)
    - [6.1. å…¸å‹è¡Œä¸šæ¡ˆä¾‹](#61-å…¸å‹è¡Œä¸šæ¡ˆä¾‹)
    - [6.2. å¤šè¡¨å¾ç¤ºä¾‹](#62-å¤šè¡¨å¾ç¤ºä¾‹)
  - [7. ä¸»é¢˜äº¤å‰å¼•ç”¨](#7-ä¸»é¢˜äº¤å‰å¼•ç”¨)
  - [8. å…¨é“¾è·¯çŸ¥è¯†æµ](#8-å…¨é“¾è·¯çŸ¥è¯†æµ)
  - [9. å¤šè¡¨å¾](#9-å¤šè¡¨å¾)
  - [10. å½¢å¼åŒ–è¯­ä¹‰](#10-å½¢å¼åŒ–è¯­ä¹‰)
  - [11. å½¢å¼åŒ–è¯­æ³•ä¸è¯æ˜](#11-å½¢å¼åŒ–è¯­æ³•ä¸è¯æ˜)
  - [12. å·¥å…·ä¸å®ç°](#12-å·¥å…·ä¸å®ç°)
    - [12.1. Petriç½‘å·¥å…·](#121-petriç½‘å·¥å…·)
    - [12.2. ç¼–ç¨‹å®ç°](#122-ç¼–ç¨‹å®ç°)
  - [13. å­¦ä¹ ä¸ç ”ç©¶è·¯å¾„](#13-å­¦ä¹ ä¸ç ”ç©¶è·¯å¾„)
    - [13.1. åŸºç¡€çŸ¥è¯†](#131-åŸºç¡€çŸ¥è¯†)
    - [13.2. æ ¸å¿ƒç†è®º](#132-æ ¸å¿ƒç†è®º)
    - [13.3. å®è·µåº”ç”¨](#133-å®è·µåº”ç”¨)
  - [14. æ€»ç»“](#14-æ€»ç»“)

---

## 1. æ¦‚è¿°

Petriç½‘ç†è®ºï¼ˆPetri Net Theoryï¼‰æ˜¯ç”±Carl Adam Petriåœ¨1962å¹´æå‡ºçš„ç”¨äºæè¿°å’Œåˆ†æå¹¶å‘ç³»ç»Ÿçš„å½¢å¼åŒ–æ–¹æ³•ã€‚Petriç½‘é€šè¿‡å›¾å½¢åŒ–çš„æ–¹å¼è¡¨ç¤ºç³»ç»Ÿçš„çŠ¶æ€ã€äº‹ä»¶å’Œå®ƒä»¬ä¹‹é—´çš„å…³ç³»ï¼Œä¸ºå¹¶å‘ç³»ç»Ÿå»ºæ¨¡ã€åˆ†æå’ŒéªŒè¯æä¾›äº†å¼ºå¤§çš„å·¥å…·ã€‚

**æ ¸å¿ƒç‰¹å¾**ï¼š

1. **å›¾å½¢åŒ–å»ºæ¨¡**ï¼šç›´è§‚çš„å›¾å½¢è¡¨ç¤ºç³»ç»Ÿç»“æ„
2. **å¹¶å‘è¯­ä¹‰**ï¼šè‡ªç„¶è¡¨è¾¾å¹¶å‘å’ŒåŒæ­¥
3. **æ•°å­¦ä¸¥æ ¼æ€§**ï¼šæœ‰ä¸¥æ ¼çš„æ•°å­¦åŸºç¡€
4. **åˆ†ææŠ€æœ¯**ï¼šæˆç†Ÿçš„å¯è¾¾æ€§ã€æœ‰ç•Œæ€§ã€æ´»æ€§åˆ†æ
5. **æ‰©å±•æ€§**ï¼šæ”¯æŒæ—¶é—´ã€é¢œè‰²ã€å±‚æ¬¡ç­‰æ‰©å±•

**åº”ç”¨é¢†åŸŸ**ï¼š

- å¹¶å‘ç³»ç»Ÿå»ºæ¨¡
- å·¥ä½œæµç³»ç»Ÿè®¾è®¡
- å·¥ä¸šè‡ªåŠ¨åŒ–ç³»ç»Ÿ
- åˆ¶é€ ç³»ç»Ÿå»ºæ¨¡
- åè®®éªŒè¯
- æ€§èƒ½åˆ†æ

---

## 2. ç›®å½•ç»“æ„ä¸æœ¬åœ°è·³è½¬

- [2.3.1-Petriç½‘ç†è®ºåŸºç¡€](2.3.1-Petriç½‘ç†è®ºåŸºç¡€.md) - ç†è®ºåŸºç¡€æ–‡æ¡£
- [2.3.2-Petriç½‘é«˜çº§ç†è®ºä¸åº”ç”¨](2.3.2-Petriç½‘é«˜çº§ç†è®ºä¸åº”ç”¨.md) - é«˜çº§ç†è®ºä¸åº”ç”¨æ–‡æ¡£

---

## 3. æ ¸å¿ƒæ¦‚å¿µ

### 3.1. Petriç½‘åŸºç¡€

Petriç½‘æ˜¯ä¸€ç§ç”¨äºæè¿°å’Œåˆ†æå¹¶å‘ç³»ç»Ÿçš„æ•°å­¦æ¨¡å‹å’Œå›¾å½¢å·¥å…·ã€‚

**åŸºæœ¬ç»„æˆ**ï¼š

1. **åº“æ‰€ï¼ˆPlaceï¼‰**ï¼š
   - è¡¨ç¤ºç³»ç»Ÿçš„çŠ¶æ€æˆ–æ¡ä»¶
   - ç”¨åœ†åœˆè¡¨ç¤º
   - å¯ä»¥åŒ…å«ä»¤ç‰Œï¼ˆtokenï¼‰

2. **å˜è¿ï¼ˆTransitionï¼‰**ï¼š
   - è¡¨ç¤ºäº‹ä»¶æˆ–åŠ¨ä½œ
   - ç”¨çŸ©å½¢è¡¨ç¤º
   - å¯ä»¥è§¦å‘ï¼ˆfireï¼‰æ”¹å˜ç³»ç»ŸçŠ¶æ€

3. **å¼§ï¼ˆArcï¼‰**ï¼š
   - è¿æ¥åº“æ‰€å’Œå˜è¿
   - ç”¨æœ‰å‘ç®­å¤´è¡¨ç¤º
   - å¯ä»¥æœ‰æƒé‡

4. **ä»¤ç‰Œï¼ˆTokenï¼‰**ï¼š
   - è¡¨ç¤ºèµ„æºæˆ–æ¡ä»¶
   - ä½äºåº“æ‰€ä¸­
   - å˜è¿è§¦å‘æ—¶ç§»åŠ¨

**Petriç½‘ç¤ºä¾‹**ï¼š

```mermaid
graph LR
    P1((P1)) -->|1| T1[T1]
    T1 -->|1| P2((P2))
    P2 -->|1| T2[T2]
    T2 -->|1| P3((P3))
    P3 -->|1| T3[T3]
    T3 -->|1| P1
```

### 3.2. åŸºæœ¬Petriç½‘

åŸºæœ¬Petriç½‘æ˜¯æœ€ç®€å•çš„Petriç½‘å½¢å¼ï¼Œç”±åº“æ‰€ã€å˜è¿ã€å¼§å’Œåˆå§‹æ ‡è¯†ç»„æˆã€‚

**å½¢å¼åŒ–å®šä¹‰**ï¼š

Petriç½‘æ˜¯ä¸€ä¸ªå››å…ƒç»„ $N = (P, T, F, M_0)$ï¼Œå…¶ä¸­ï¼š

- $P$ï¼šæœ‰é™åº“æ‰€é›†åˆï¼ˆplacesï¼‰
- $T$ï¼šæœ‰é™å˜è¿é›†åˆï¼ˆtransitionsï¼‰ï¼Œä¸” $P \cap T = \emptyset$
- $F \subseteq (P \times T) \cup (T \times P)$ï¼šæµå…³ç³»ï¼ˆflow relationï¼‰
- $M_0: P \rightarrow \mathbb{N}$ï¼šåˆå§‹æ ‡è¯†ï¼ˆinitial markingï¼‰

**å˜è¿ä½¿èƒ½æ¡ä»¶**ï¼š

å˜è¿$t$åœ¨æ ‡è¯†$M$ä¸‹ä½¿èƒ½ï¼Œå½“ä¸”ä»…å½“ï¼š
$$\forall p \in {}^{\bullet}t: M(p) \geq F(p, t)$$

å…¶ä¸­${}^{\bullet}t$æ˜¯å˜è¿$t$çš„è¾“å…¥åº“æ‰€é›†åˆã€‚

**å˜è¿è§¦å‘**ï¼š

å½“å˜è¿$t$è§¦å‘æ—¶ï¼Œäº§ç”Ÿæ–°æ ‡è¯†$M'$ï¼š
$$M'(p) = M(p) - F(p, t) + F(t, p)$$

### 3.3. é«˜çº§Petriç½‘

ä¸ºäº†å¢å¼ºè¡¨è¾¾èƒ½åŠ›ï¼ŒPetriç½‘æœ‰å¤šç§æ‰©å±•å½¢å¼ï¼š

1. **æ—¶é—´Petriç½‘ï¼ˆTimed Petri Netï¼‰**ï¼š
   - ä¸ºå˜è¿æ·»åŠ æ—¶é—´çº¦æŸ
   - æ”¯æŒå®æ—¶ç³»ç»Ÿå»ºæ¨¡
   - æ—¶é—´å¯ä»¥æ˜¯å›ºå®šå€¼æˆ–åŒºé—´

2. **ç€è‰²Petriç½‘ï¼ˆColored Petri Netï¼‰**ï¼š
   - ä»¤ç‰Œå¸¦æœ‰é¢œè‰²ï¼ˆæ•°æ®ï¼‰
   - å‡å°‘çŠ¶æ€ç©ºé—´
   - æ”¯æŒå¤æ‚æ•°æ®ç±»å‹

3. **å±‚æ¬¡Petriç½‘ï¼ˆHierarchical Petri Netï¼‰**ï¼š
   - æ”¯æŒå­ç½‘åµŒå¥—
   - æ¨¡å—åŒ–å»ºæ¨¡
   - ç®€åŒ–å¤æ‚ç³»ç»Ÿ

4. **éšæœºPetriç½‘ï¼ˆStochastic Petri Netï¼‰**ï¼š
   - å˜è¿è§¦å‘æ—¶é—´æœä»æ¦‚ç‡åˆ†å¸ƒ
   - ç”¨äºæ€§èƒ½åˆ†æ
   - æ”¯æŒå¯é æ€§åˆ†æ

### 3.4. åˆ†ææŠ€æœ¯

Petriç½‘æœ‰å¤šç§åˆ†ææŠ€æœ¯ï¼š

1. **å¯è¾¾æ€§åˆ†æ**ï¼š
   - æ£€æŸ¥æŸä¸ªçŠ¶æ€æ˜¯å¦å¯è¾¾
   - æ„å»ºå¯è¾¾å›¾
   - éªŒè¯ç³»ç»Ÿæ€§è´¨

2. **æœ‰ç•Œæ€§åˆ†æ**ï¼š
   - æ£€æŸ¥åº“æ‰€æ˜¯å¦æœ‰ç•Œ
   - é˜²æ­¢çŠ¶æ€çˆ†ç‚¸
   - ä¿è¯ç³»ç»Ÿå¯åˆ†æ

3. **æ´»æ€§åˆ†æ**ï¼š
   - æ£€æŸ¥å˜è¿æ˜¯å¦æ€»æ˜¯å¯ä»¥è§¦å‘
   - æ£€æµ‹æ­»é”
   - ä¿è¯ç³»ç»Ÿæ´»æ€§

4. **ç»“æ„åˆ†æ**ï¼š
   - åŸºäºPetriç½‘ç»“æ„
   - ä¸ä¾èµ–åˆå§‹æ ‡è¯†
   - æ›´é«˜æ•ˆçš„åˆ†ææ–¹æ³•

---

## 4. ç†è®ºåŸºç¡€

### 4.1. Petriç½‘å½¢å¼åŒ–å®šä¹‰

**å®šä¹‰ 3.1.1 (é¢„ç½®å’Œåç½®)**:

å¯¹äº $x \in P \cup T$ï¼š

- ${}^{\bullet}x = \{y \in P \cup T : (y, x) \in F\}$ (é¢„ç½®)
- $x^{\bullet} = \{y \in P \cup T : (x, y) \in F\}$ (åç½®)

**å®šä¹‰ 3.1.2 (æ ‡è¯†)**:

æ ‡è¯† $M: P \rightarrow \mathbb{N}$ ç»™æ¯ä¸ªåº“æ‰€åˆ†é…ä»¤ç‰Œæ•°é‡ã€‚

**å®šä¹‰ 3.1.3 (å˜è¿ä½¿èƒ½)**:

å˜è¿$t \in T$åœ¨æ ‡è¯†$M$ä¸‹ä½¿èƒ½ï¼Œè®°ä½œ$M[t\rangle$ï¼Œå½“ä¸”ä»…å½“ï¼š
$$\forall p \in {}^{\bullet}t: M(p) \geq F(p, t)$$

**å®šä¹‰ 3.1.4 (å˜è¿è§¦å‘)**:

å¦‚æœ$M[t\rangle$ï¼Œåˆ™å˜è¿$t$å¯ä»¥è§¦å‘ï¼Œäº§ç”Ÿæ–°æ ‡è¯†$M'$ï¼Œè®°ä½œ$M[t\rangle M'$ï¼Œå…¶ä¸­ï¼š
$$M'(p) = M(p) - F(p, t) + F(t, p)$$

### 4.2. å¯è¾¾æ€§åˆ†æ

**å®šä¹‰ 3.2.1 (å¯è¾¾æ€§)**:

æ ‡è¯†$M'$ä»æ ‡è¯†$M$å¯è¾¾ï¼Œè®°ä½œ$M \rightarrow^* M'$ï¼Œå½“ä¸”ä»…å½“å­˜åœ¨å˜è¿åºåˆ—$\sigma = t_1 t_2 \ldots t_n$ä½¿å¾—ï¼š
$$M[t_1\rangle M_1[t_2\rangle M_2 \ldots [t_n\rangle M'$$

**å¯è¾¾é›†**ï¼š

ä»åˆå§‹æ ‡è¯†$M_0$å¯è¾¾çš„æ‰€æœ‰æ ‡è¯†çš„é›†åˆï¼š
$$R(N, M_0) = \{M \mid M_0 \rightarrow^* M\}$$

**å¯è¾¾æ€§é—®é¢˜**ï¼š

ç»™å®šPetriç½‘$N$å’Œæ ‡è¯†$M$ï¼Œåˆ¤æ–­$M \in R(N, M_0)$ã€‚

**å®šç† 3.2.1 (å¯è¾¾æ€§é—®é¢˜çš„å¤æ‚æ€§)**:

Petriç½‘çš„å¯è¾¾æ€§é—®é¢˜æ˜¯EXPSPACEå®Œå…¨çš„ã€‚

### 4.3. ç»“æ„åˆ†æ

**å®šä¹‰ 3.3.1 (ä¸å˜é‡)**:

å¯¹äºPetriç½‘$N = (P, T, F, M_0)$ï¼Œå‘é‡$I: P \rightarrow \mathbb{Z}$æ˜¯$P$-ä¸å˜é‡ï¼Œå½“ä¸”ä»…å½“ï¼š
$$\forall t \in T: \sum_{p \in P} I(p) \cdot (F(t, p) - F(p, t)) = 0$$

**$P$-ä¸å˜é‡çš„æ„ä¹‰**ï¼š

å¦‚æœ$I$æ˜¯$P$-ä¸å˜é‡ï¼Œåˆ™å¯¹äºæ‰€æœ‰å¯è¾¾æ ‡è¯†$M$ï¼š
$$\sum_{p \in P} I(p) \cdot M(p) = \sum_{p \in P} I(p) \cdot M_0(p)$$

**å®šä¹‰ 3.3.2 ($T$-ä¸å˜é‡)**

å‘é‡$J: T \rightarrow \mathbb{Z}$æ˜¯$T$-ä¸å˜é‡ï¼Œå½“ä¸”ä»…å½“ï¼š
$$\forall p \in P: \sum_{t \in T} J(t) \cdot (F(t, p) - F(p, t)) = 0$$

**$T$-ä¸å˜é‡çš„æ„ä¹‰**ï¼š

$T$-ä¸å˜é‡è¡¨ç¤ºå¯ä»¥é‡å¤æ‰§è¡Œçš„å˜è¿åºåˆ—ï¼Œä½¿ç³»ç»Ÿå›åˆ°åˆå§‹çŠ¶æ€ã€‚

---

## 5. åº”ç”¨åœºæ™¯

### 5.1. å¹¶å‘ç³»ç»Ÿå»ºæ¨¡

Petriç½‘è‡ªç„¶è¡¨è¾¾å¹¶å‘å’ŒåŒæ­¥ï¼š

- **å¹¶å‘æ‰§è¡Œ**ï¼šå¤šä¸ªå˜è¿å¯ä»¥åŒæ—¶ä½¿èƒ½
- **åŒæ­¥**ï¼šå¤šä¸ªåº“æ‰€åŒæ—¶æ»¡è¶³æ¡ä»¶
- **äº’æ–¥**ï¼šèµ„æºç«äº‰å’Œäº’æ–¥è®¿é—®
- **æ­»é”æ£€æµ‹**ï¼šåˆ†æç³»ç»Ÿæ˜¯å¦å­˜åœ¨æ­»é”

### 5.2. å·¥ä½œæµç³»ç»Ÿ

å·¥ä½œæµç³»ç»Ÿæ˜¯Petriç½‘çš„å…¸å‹åº”ç”¨ï¼š

- **æµç¨‹å»ºæ¨¡**ï¼šç”¨Petriç½‘å»ºæ¨¡ä¸šåŠ¡æµç¨‹
- **æµç¨‹éªŒè¯**ï¼šéªŒè¯æµç¨‹çš„æ­£ç¡®æ€§
- **æµç¨‹ä¼˜åŒ–**ï¼šä¼˜åŒ–æµç¨‹æ€§èƒ½
- **æµç¨‹æ‰§è¡Œ**ï¼šåŸºäºPetriç½‘æ‰§è¡Œæµç¨‹

### 5.3. åˆ¶é€ ç³»ç»Ÿ

åˆ¶é€ ç³»ç»Ÿä½¿ç”¨Petriç½‘å»ºæ¨¡ï¼š

- **ç”Ÿäº§çº¿å»ºæ¨¡**ï¼šå»ºæ¨¡ç”Ÿäº§çº¿æµç¨‹
- **èµ„æºè°ƒåº¦**ï¼šè°ƒåº¦åˆ¶é€ èµ„æº
- **æ€§èƒ½åˆ†æ**ï¼šåˆ†æç”Ÿäº§æ•ˆç‡
- **æ•…éšœè¯Šæ–­**ï¼šè¯Šæ–­ç³»ç»Ÿæ•…éšœ

### 5.4. åè®®éªŒè¯

é€šä¿¡åè®®ä½¿ç”¨Petriç½‘éªŒè¯ï¼š

- **åè®®å»ºæ¨¡**ï¼šå»ºæ¨¡åè®®è¡Œä¸º
- **æ€§è´¨éªŒè¯**ï¼šéªŒè¯åè®®æ€§è´¨
- **æ­»é”æ£€æµ‹**ï¼šæ£€æµ‹åè®®æ­»é”
- **æ€§èƒ½åˆ†æ**ï¼šåˆ†æåè®®æ€§èƒ½

---

## 6. è¡Œä¸šæ¡ˆä¾‹ä¸å¤šè¡¨å¾

### 6.1. å…¸å‹è¡Œä¸šæ¡ˆä¾‹

- **å·¥ä½œæµç³»ç»Ÿ**ï¼šPetriç½‘åœ¨å·¥ä½œæµå»ºæ¨¡ä¸­çš„åº”ç”¨ï¼ˆè¯¦è§[4.5-WorkflowDomain](../../../4-è½¯ä»¶æ¶æ„ä¸å·¥ç¨‹/4.5-WorkflowDomain/README.md)ï¼‰
- **å·¥ä¸šè‡ªåŠ¨åŒ–**ï¼šPetriç½‘åœ¨ç”Ÿäº§çº¿æ§åˆ¶ä¸­çš„åº”ç”¨
- **ç§‘å­¦è®¡ç®—**ï¼šPetriç½‘åœ¨ç§‘å­¦è®¡ç®—æµç¨‹ä¸­çš„åº”ç”¨ï¼ˆè¯¦è§[5.2-ç§‘å­¦è®¡ç®—](../../../5-è¡Œä¸šåº”ç”¨ä¸åœºæ™¯/5.2-ç§‘å­¦è®¡ç®—/README.md)ï¼‰
- **åè®®éªŒè¯**ï¼šPetriç½‘åœ¨é€šä¿¡åè®®éªŒè¯ä¸­çš„åº”ç”¨

### 6.2. å¤šè¡¨å¾ç¤ºä¾‹

- **ç¬¦å·è¡¨å¾**ï¼šåº“æ‰€ã€å˜è¿ã€æ ‡è¯†ã€Petriç½‘å…¬å¼ã€ä¸å˜é‡
- **å›¾ç»“æ„**ï¼šPetriç½‘å›¾ã€å˜è¿å›¾ã€çŠ¶æ€å›¾ã€å¯è¾¾å›¾ã€è¦†ç›–æ ‘
- **å‘é‡/å¼ é‡**ï¼šåº“æ‰€å‘é‡ã€æ ‡è¯†åµŒå…¥ã€ä¸å˜é‡å‘é‡
- **è‡ªç„¶è¯­è¨€**ï¼šå®šä¹‰ã€æ³¨é‡Šã€æè¿°ã€è§„èŒƒæ–‡æ¡£
- **å›¾åƒ/å¯è§†åŒ–**ï¼šPetriç½‘ç»“æ„å›¾ã€æµç¨‹å›¾ã€çŠ¶æ€ç©ºé—´å›¾

---

## 7. ä¸»é¢˜äº¤å‰å¼•ç”¨

| ä¸»é¢˜      | åŸºç¡€ç†è®º | å½¢å¼åŒ–æ¨¡å‹ | åº”ç”¨åœºæ™¯ | ç®—æ³•å®ç° | è¡Œä¸šæ¡ˆä¾‹ | å¤šè¡¨å¾ |
|-----------|----------|------------|----------|----------|----------|--------|
| Petriç½‘ç†è®ºåŸºç¡€| âœ… | âœ…       | âœ…     | âœ…     | âœ…     | âœ…   |
| Petriç½‘é«˜çº§ç†è®º| âœ… | âœ…       | âœ…     | âœ…     | âœ…     | âœ…   |

**äº¤å‰å¼•ç”¨**ï¼š

- [2.4-æ—¶æ€é€»è¾‘æ§åˆ¶ç†è®º](../2.4-æ—¶æ€é€»è¾‘æ§åˆ¶ç†è®º/README.md)ï¼šæ—¶æ€é€»è¾‘ä¸Petriç½‘ç»“åˆ
- [4.5-WorkflowDomain](../../../4-è½¯ä»¶æ¶æ„ä¸å·¥ç¨‹/4.5-WorkflowDomain/README.md)ï¼šå·¥ä½œæµå»ºæ¨¡
- [5.2-ç§‘å­¦è®¡ç®—](../../../5-è¡Œä¸šåº”ç”¨ä¸åœºæ™¯/5.2-ç§‘å­¦è®¡ç®—/README.md)ï¼šç§‘å­¦è®¡ç®—æµç¨‹
- [2.2-è‡ªåŠ¨æœºç†è®º](../2.2-è‡ªåŠ¨æœºç†è®º/README.md)ï¼šè‡ªåŠ¨æœºä¸Petriç½‘çš„å…³ç³»

---

## 8. å…¨é“¾è·¯çŸ¥è¯†æµ

```mermaid
flowchart TD
  A[Petriç½‘ç†è®º] --> B[åŸºç¡€ç†è®ºæ¡†æ¶]
  B --> C1[Petriç½‘ç†è®ºåŸºç¡€]
  B --> C2[Petriç½‘é«˜çº§ç†è®º]

  C1 --> D[åº“æ‰€ä¸å˜è¿]
  C1 --> E[æ ‡è®°ä¸æ¿€å‘]
  C1 --> F[å¯è¾¾æ€§åˆ†æ]
  C1 --> G[ç»“æ„åˆ†æ]

  C2 --> H[æ—¶é—´Petriç½‘]
  C2 --> I[ç€è‰²Petriç½‘]
  C2 --> J[å±‚æ¬¡Petriç½‘]
  C2 --> K[éšæœºPetriç½‘]

  D & E & F & G & H & I & J & K --> L[åˆ†ææŠ€æœ¯]
  L --> M[å¯è¾¾æ€§åˆ†æ]
  L --> N[æœ‰ç•Œæ€§åˆ†æ]
  L --> O[æ´»æ€§åˆ†æ]
  L --> P[æ€§èƒ½åˆ†æ]

  M & N & O & P --> Q[åº”ç”¨é¢†åŸŸ]
  Q --> R[å·¥ä½œæµå»ºæ¨¡]
  Q --> S[å·¥ä¸šè‡ªåŠ¨åŒ–]
  Q --> T[åè®®éªŒè¯]
  Q --> U[åˆ¶é€ ç³»ç»Ÿ]

  R & S & T & U --> V[è¡Œä¸šæ¡ˆä¾‹]
  V --> W[å¤šè¡¨å¾ä½“ç³»]
```

---

## 9. å¤šè¡¨å¾

æœ¬åˆ†æ”¯æ”¯æŒå¤šç§è¡¨å¾æ–¹å¼ï¼ŒåŒ…æ‹¬ï¼š

- **ç¬¦å·è¡¨å¾**ï¼šåº“æ‰€ã€å˜è¿ã€æ ‡è¯†ã€Petriç½‘å…¬å¼ã€ä¸å˜é‡ã€è¦†ç›–æ ‘ç­‰
- **å›¾ç»“æ„**ï¼šPetriç½‘å›¾ã€å˜è¿å›¾ã€çŠ¶æ€å›¾ã€å¯è¾¾å›¾ã€è¦†ç›–æ ‘ã€çŠ¶æ€ç©ºé—´å›¾ç­‰
- **å‘é‡/å¼ é‡**ï¼šåº“æ‰€å‘é‡ã€æ ‡è¯†åµŒå…¥ã€ä¸å˜é‡å‘é‡ã€çŠ¶æ€ç©ºé—´è¡¨ç¤º
- **è‡ªç„¶è¯­è¨€**ï¼šå®šä¹‰ã€æ³¨é‡Šã€æè¿°ã€è§„èŒƒæ–‡æ¡£ã€åˆ†ææŠ¥å‘Š
- **å›¾åƒ/å¯è§†åŒ–**ï¼šPetriç½‘ç»“æ„å›¾ã€æµç¨‹å›¾ã€çŠ¶æ€ç©ºé—´å›¾ã€æ€§èƒ½åˆ†æå›¾

è¿™äº›è¡¨å¾å¯äº’æ˜ ï¼Œæå‡Petriç½‘ç†è®ºè¡¨è¾¾åŠ›ã€‚

---

## 10. å½¢å¼åŒ–è¯­ä¹‰

**è¯­ä¹‰åŸŸ**ï¼š$D$ï¼ŒåŒ…æ‹¬ï¼š

- åº“æ‰€é›†åˆï¼š$P = \{p_1, p_2, \ldots, p_n\}$
- å˜è¿é›†åˆï¼š$T = \{t_1, t_2, \ldots, t_m\}$
- æµå…³ç³»ï¼š$F \subseteq (P \times T) \cup (T \times P)$
- æ ‡è¯†ç©ºé—´ï¼š$\mathcal{M} = \mathbb{N}^P$ï¼ˆæ‰€æœ‰å¯èƒ½çš„æ ‡è¯†ï¼‰
- æ‰§è¡Œåºåˆ—ï¼š$\sigma: \mathbb{N} \to T$ï¼ˆå˜è¿åºåˆ—ï¼‰

**è§£é‡Šå‡½æ•°**ï¼š$I: \mathcal{L} \to D$ï¼Œå°†Petriç½‘è§„èŒƒæ˜ å°„åˆ°è¯­ä¹‰å¯¹è±¡ï¼š

- $I(\text{place}) \in P$ï¼šåº“æ‰€çš„è§£é‡Š
- $I(\text{transition}) \in T$ï¼šå˜è¿çš„è§£é‡Š
- $I(\text{marking}) \in \mathcal{M}$ï¼šæ ‡è¯†çš„è§£é‡Š
- $I(\text{execution}) \subseteq T^*$ï¼šæ‰§è¡Œåºåˆ—çš„è§£é‡Š

**è¯­ä¹‰ä¸€è‡´æ€§**ï¼šæ¯ä¸ªPetriç½‘ç»“æ„/å…¬å¼åœ¨$D$ä¸­æœ‰æ˜ç¡®å®šä¹‰ï¼Œæ»¡è¶³ï¼š

- **å±€éƒ¨æ€§**ï¼šå˜è¿çš„ä½¿èƒ½åªä¾èµ–äºè¾“å…¥åº“æ‰€çš„æ ‡è¯†
- **ç¡®å®šæ€§**ï¼šå˜è¿è§¦å‘äº§ç”Ÿå”¯ä¸€çš„æ–°æ ‡è¯†
- **å¯è¾¾æ€§**ï¼šå¯è¾¾å…³ç³»æ˜¯è‡ªåå’Œä¼ é€’çš„
- **æœ‰ç•Œæ€§**ï¼šæœ‰ç•ŒPetriç½‘çš„çŠ¶æ€ç©ºé—´æ˜¯æœ‰é™çš„

---

## 11. å½¢å¼åŒ–è¯­æ³•ä¸è¯æ˜

**è¯­æ³•è§„åˆ™**ï¼š

Petriç½‘çš„äº§ç”Ÿå¼ï¼š

- **åº“æ‰€äº§ç”Ÿå¼**ï¼š$P ::= p_1 \mid p_2 \mid \ldots \mid p_n$
- **å˜è¿äº§ç”Ÿå¼**ï¼š$T ::= t_1 \mid t_2 \mid \ldots \mid t_m$
- **æµå…³ç³»äº§ç”Ÿå¼**ï¼š$F ::= (p, t) \mid (t, p) \mid F, F$
- **æ ‡è¯†äº§ç”Ÿå¼**ï¼š$M ::= (p, k) \mid M, M$ï¼Œå…¶ä¸­$k \in \mathbb{N}$

**æ¨ç†è§„åˆ™**ï¼š

Petriç½‘çš„æ‰§è¡Œè§„åˆ™ï¼š

- **ä½¿èƒ½è§„åˆ™**ï¼š$\frac{M(p) \geq F(p, t) \text{ for all } p \in {}^{\bullet}t}{M[t\rangle}$
- **è§¦å‘è§„åˆ™**ï¼š$\frac{M[t\rangle \quad M'(p) = M(p) - F(p, t) + F(t, p)}{M[t\rangle M'}$
- **åºåˆ—è§„åˆ™**ï¼š$\frac{M[t_1\rangle M_1 \quad M_1[t_2\rangle M_2}{M[t_1 t_2\rangle M_2}$

**å®šç†**ï¼šPetriç½‘ç†è®ºåˆ†æ”¯çš„è¯­æ³•ç³»ç»Ÿå…·ä¸€è‡´æ€§ä¸å¯æ‰©å±•æ€§ã€‚

**è¯æ˜**ï¼šç”±Petriç½‘äº§ç”Ÿå¼ä¸æ¨ç†è§„åˆ™é€’å½’å®šä¹‰ï¼Œä¿è¯ç³»ç»Ÿä¸€è‡´ä¸å¯æ‰©å±•ã€‚å…·ä½“è¯æ˜åŒ…æ‹¬ï¼š

1. è¯­æ³•ç³»ç»Ÿçš„é€’å½’å®šä¹‰ä¿è¯å¯åˆ¤å®šæ€§
2. è¯­ä¹‰è§£é‡Šçš„ä¸€è‡´æ€§ä¿è¯å¯é æ€§
3. å¯è¾¾æ€§é—®é¢˜çš„å¯åˆ¤å®šæ€§ï¼ˆå¯¹äºæœ‰ç•ŒPetriç½‘ï¼‰
4. ç»“æ„åˆ†æçš„æœ‰æ•ˆæ€§

---

## 12. å·¥å…·ä¸å®ç°

### 12.1. Petriç½‘å·¥å…·

**ä¸»æµå·¥å…·**ï¼š

1. **CPN Tools**ï¼š
   - ç€è‰²Petriç½‘å»ºæ¨¡å·¥å…·
   - å›¾å½¢åŒ–ç¼–è¾‘ç•Œé¢
   - æ”¯æŒä»¿çœŸå’Œåˆ†æ

2. **PIPE**ï¼š
   - Platform Independent Petri Net Editor
   - æ”¯æŒå¤šç§Petriç½‘ç±»å‹
   - å¯è¾¾æ€§åˆ†æ

3. **TINA**ï¼š
   - Time Petri Net Analyzer
   - æ—¶é—´Petriç½‘åˆ†æ
   - å¯è¾¾æ€§ã€æœ‰ç•Œæ€§ã€æ´»æ€§åˆ†æ

4. **LoLA**ï¼š
   - Low Level Analyzer
   - é«˜æ€§èƒ½Petriç½‘åˆ†æ
   - æ”¯æŒå¤§è§„æ¨¡Petriç½‘

### 12.2. ç¼–ç¨‹å®ç°

**Pythonå®ç°ç¤ºä¾‹**ï¼š

```python
from collections import defaultdict
from typing import Dict, Set, List

class Place:
    def __init__(self, name: str, tokens: int = 0):
        self.name = name
        self.tokens = tokens

class Transition:
    def __init__(self, name: str):
        self.name = name
        self.input_places: Dict[Place, int] = {}
        self.output_places: Dict[Place, int] = {}

class PetriNet:
    def __init__(self):
        self.places: Dict[str, Place] = {}
        self.transitions: Dict[str, Transition] = {}

    def add_place(self, name: str, tokens: int = 0):
        self.places[name] = Place(name, tokens)

    def add_transition(self, name: str):
        self.transitions[name] = Transition(name)

    def add_arc(self, from_name: str, to_name: str, weight: int = 1):
        if from_name in self.places and to_name in self.transitions:
            place = self.places[from_name]
            transition = self.transitions[to_name]
            transition.input_places[place] = weight
        elif from_name in self.transitions and to_name in self.places:
            transition = self.transitions[from_name]
            place = self.places[to_name]
            transition.output_places[place] = weight

    def can_fire(self, transition_name: str) -> bool:
        transition = self.transitions[transition_name]
        return all(place.tokens >= weight
                  for place, weight in transition.input_places.items())

    def fire(self, transition_name: str) -> bool:
        if not self.can_fire(transition_name):
            return False

        transition = self.transitions[transition_name]

        # æ¶ˆè€—è¾“å…¥ä»¤ç‰Œ
        for place, weight in transition.input_places.items():
            place.tokens -= weight

        # äº§ç”Ÿè¾“å‡ºä»¤ç‰Œ
        for place, weight in transition.output_places.items():
            place.tokens += weight

        return True
```

**Rustå®ç°ç¤ºä¾‹**ï¼š

```rust
use std::collections::{HashMap, HashSet};

#[derive(Debug, Clone)]
struct Place {
    name: String,
    tokens: u32,
}

#[derive(Debug, Clone)]
struct Transition {
    name: String,
    input_places: HashMap<String, u32>,
    output_places: HashMap<String, u32>,
}

struct PetriNet {
    places: HashMap<String, Place>,
    transitions: HashMap<String, Transition>,
}

impl PetriNet {
    fn new() -> Self {
        PetriNet {
            places: HashMap::new(),
            transitions: HashMap::new(),
        }
    }

    fn add_place(&mut self, name: String, tokens: u32) {
        self.places.insert(name.clone(), Place { name, tokens });
    }

    fn add_transition(&mut self, name: String) {
        self.transitions.insert(name.clone(), Transition {
            name,
            input_places: HashMap::new(),
            output_places: HashMap::new(),
        });
    }

    fn can_fire(&self, transition_name: &str) -> bool {
        if let Some(transition) = self.transitions.get(transition_name) {
            transition.input_places.iter().all(|(place_name, weight)| {
                self.places.get(place_name)
                    .map(|p| p.tokens >= *weight)
                    .unwrap_or(false)
            })
        } else {
            false
        }
    }

    fn fire(&mut self, transition_name: &str) -> bool {
        if !self.can_fire(transition_name) {
            return false;
        }

        if let Some(transition) = self.transitions.get(transition_name) {
            // æ¶ˆè€—è¾“å…¥ä»¤ç‰Œ
            for (place_name, weight) in &transition.input_places {
                if let Some(place) = self.places.get_mut(place_name) {
                    place.tokens -= weight;
                }
            }

            // äº§ç”Ÿè¾“å‡ºä»¤ç‰Œ
            for (place_name, weight) in &transition.output_places {
                if let Some(place) = self.places.get_mut(place_name) {
                    place.tokens += weight;
                }
            }

            true
        } else {
            false
        }
    }
}
```

---

## 13. å­¦ä¹ ä¸ç ”ç©¶è·¯å¾„

### 13.1. åŸºç¡€çŸ¥è¯†

1. **æ•°å­¦åŸºç¡€**ï¼š
   - é›†åˆè®º
   - å›¾è®º
   - çº¿æ€§ä»£æ•°
   - ç¦»æ•£æ•°å­¦

2. **è®¡ç®—æœºç§‘å­¦åŸºç¡€**ï¼š
   - å½¢å¼åŒ–æ–¹æ³•
   - å¹¶å‘ç†è®º
   - è‡ªåŠ¨æœºç†è®º
   - ç®—æ³•ä¸æ•°æ®ç»“æ„

### 13.2. æ ¸å¿ƒç†è®º

1. **åŸºæœ¬Petriç½‘**ï¼š
   - Petriç½‘çš„å®šä¹‰å’Œæ€§è´¨
   - å˜è¿ä½¿èƒ½å’Œè§¦å‘
   - å¯è¾¾æ€§åˆ†æ
   - æœ‰ç•Œæ€§å’Œæ´»æ€§

2. **é«˜çº§Petriç½‘**ï¼š
   - æ—¶é—´Petriç½‘
   - ç€è‰²Petriç½‘
   - å±‚æ¬¡Petriç½‘
   - éšæœºPetriç½‘

3. **åˆ†ææŠ€æœ¯**ï¼š
   - å¯è¾¾æ€§åˆ†æç®—æ³•
   - ç»“æ„åˆ†ææ–¹æ³•
   - æ€§èƒ½åˆ†ææŠ€æœ¯
   - æ¨¡å‹æ£€æŸ¥

### 13.3. å®è·µåº”ç”¨

1. **ç³»ç»Ÿå»ºæ¨¡**ï¼š
   - ä½¿ç”¨Petriç½‘å»ºæ¨¡å¹¶å‘ç³»ç»Ÿ
   - å·¥ä½œæµç³»ç»Ÿå»ºæ¨¡
   - åˆ¶é€ ç³»ç»Ÿå»ºæ¨¡

2. **ç³»ç»Ÿåˆ†æ**ï¼š
   - ä½¿ç”¨å·¥å…·åˆ†æPetriç½‘
   - éªŒè¯ç³»ç»Ÿæ€§è´¨
   - æ€§èƒ½åˆ†æ

3. **ç ”ç©¶å‰æ²¿**ï¼š
   - æ¦‚ç‡Petriç½‘
   - æ¨¡ç³ŠPetriç½‘
   - é‡å­Petriç½‘
   - æœºå™¨å­¦ä¹ åœ¨Petriç½‘ä¸­çš„åº”ç”¨

---

## 14. æ€»ç»“

Petriç½‘ç†è®ºæ˜¯å¹¶å‘ç³»ç»Ÿå»ºæ¨¡å’Œåˆ†æçš„é‡è¦å·¥å…·ï¼Œé€šè¿‡å›¾å½¢åŒ–çš„æ–¹å¼ç›´è§‚åœ°è¡¨ç¤ºç³»ç»Ÿçš„ç»“æ„å’Œè¡Œä¸ºï¼ŒåŒæ—¶å…·æœ‰ä¸¥æ ¼çš„æ•°å­¦åŸºç¡€ã€‚ä»åŸºæœ¬Petriç½‘åˆ°å„ç§é«˜çº§æ‰©å±•ï¼ŒPetriç½‘ç†è®ºä¸ºå¹¶å‘ç³»ç»Ÿã€å·¥ä½œæµç³»ç»Ÿã€åˆ¶é€ ç³»ç»Ÿç­‰æä¾›äº†å¼ºå¤§çš„å»ºæ¨¡å’Œåˆ†æèƒ½åŠ›ã€‚

**æ ¸å¿ƒä»·å€¼**ï¼š

1. **ç›´è§‚å»ºæ¨¡**ï¼šå›¾å½¢åŒ–è¡¨ç¤ºç³»ç»Ÿç»“æ„
2. **å¹¶å‘è¯­ä¹‰**ï¼šè‡ªç„¶è¡¨è¾¾å¹¶å‘å’ŒåŒæ­¥
3. **æ•°å­¦ä¸¥æ ¼æ€§**ï¼šæœ‰ä¸¥æ ¼çš„æ•°å­¦åŸºç¡€
4. **åˆ†ææŠ€æœ¯**ï¼šæˆç†Ÿçš„åˆ†ææ–¹æ³•

**åº”ç”¨å‰æ™¯**ï¼š

éšç€ç³»ç»Ÿå¤æ‚æ€§çš„å¢åŠ ï¼ŒPetriç½‘ç†è®ºå°†ç»§ç»­å‘å±•ï¼Œä¸ºæ›´å¤æ‚çš„ç³»ç»Ÿå»ºæ¨¡å’Œåˆ†ææä¾›æ”¯æŒã€‚ç‰¹åˆ«æ˜¯åœ¨å·¥ä½œæµç³»ç»Ÿã€å·¥ä¸š4.0ã€ç‰©è”ç½‘ç­‰é¢†åŸŸï¼ŒPetriç½‘ç†è®ºå°†å‘æŒ¥è¶Šæ¥è¶Šé‡è¦çš„ä½œç”¨ã€‚

---

[è¿”å›å½¢å¼ç§‘å­¦ç†è®ºæ€»å¯¼èˆª](../README.md)
